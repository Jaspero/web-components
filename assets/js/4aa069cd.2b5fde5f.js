"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2083],{1818:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>o});var c=i(4848),s=i(8453);const t={},d="Click Outside",r={id:"Utils/click-outside",title:"Click Outside",description:"Description",source:"@site/docs/Utils/click-outside.md",sourceDirName:"Utils",slug:"/Utils/click-outside",permalink:"/web-components/docs/Utils/click-outside",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docSidebar",previous:{title:"Bind",permalink:"/web-components/docs/Utils/bind"},next:{title:"Date Formatter",permalink:"/web-components/docs/Utils/dateFormatter"}},l={},o=[{value:"Description",id:"description",level:3},{value:"Integration and Usage",id:"integration-and-usage",level:3},{value:"Type Definition",id:"type-definition",level:3},{value:"ClickOutside Function",id:"clickoutside-function",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Return Type",id:"return-type",level:4},{value:"Function Logic",id:"function-logic",level:3},{value:"Dispatch Function",id:"dispatch-function",level:4},{value:"HandleClick Function",id:"handleclick-function",level:4},{value:"HandleEscape Function",id:"handleescape-function",level:4},{value:"Returns",id:"returns",level:4},{value:"Events",id:"events",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h1,{id:"click-outside",children:"Click Outside"}),"\n",(0,c.jsx)(n.h3,{id:"description",children:"Description"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"Click outside"})," is a custom util representing a Svelte action designed for detecting when a user ",(0,c.jsx)(n.code,{children:"clicks"})," outside of a specific HTML element."]}),"\n",(0,c.jsx)("br",{}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h3,{id:"integration-and-usage",children:"Integration and Usage"}),"\n",(0,c.jsxs)(n.p,{children:["To use ",(0,c.jsx)(n.code,{children:"click-outside"})," util, you need to import it into your project"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-jsx",children:"import { clickOutside } from './path/to/utils/click-outside';\n"})}),"\n",(0,c.jsx)(n.p,{children:"and add it to a HTML element you want to monitor."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-jsx",children:"<div use:clickOutside on:click:click_outside={() => handleCloseOutside()}>\n    \x3c!-- Your content goes here  --\x3e\n</div>\n"})}),"\n",(0,c.jsx)("br",{}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h3,{id:"type-definition",children:"Type Definition"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-tsx",children:"import type { ActionReturn } from 'svelte/action';\n\ninterface Return {\n  'on:click_outside': () => void;\n}\n"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"ActionReturn"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"represents the return type of a Svelte action"}),"\n",(0,c.jsx)(n.li,{children:"can contain functions and event handlers"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"Return"})," ",(0,c.jsx)(n.strong,{children:"Interface"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["defines the structure of ",(0,c.jsx)(n.code,{children:"on:click_outside"})," event handler which is dispatched by the ",(0,c.jsx)(n.code,{children:"clickOutside"})," action"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)("br",{}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h3,{id:"clickoutside-function",children:"ClickOutside Function"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-tsx",children:"export function clickOutside(\n    node: HTMLElement\n    ): ActionReturn<{}, Return>\n"})}),"\n",(0,c.jsx)(n.h4,{id:"parameters",children:"Parameters"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"node"}),": ",(0,c.jsx)(n.code,{children:"HTMLElement"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["the DOM element it monitors for outside ",(0,c.jsx)(n.code,{children:"clicks"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h4,{id:"return-type",children:"Return Type"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"ActionReturn<{}, Return>"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"{}"}),": no specifict options are passed to the action"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"Return"}),": specifies the custom event ",(0,c.jsx)(n.code,{children:"on:click_outside"})," defined in the ",(0,c.jsx)(n.strong,{children:"Return interface"})," as part of return type"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)("br",{}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h3,{id:"function-logic",children:"Function Logic"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-tsx",children:"window.addEventListener('keydown', handleEscape, true);\ndocument.addEventListener('click', handleClick, true);\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Event listeners are added to the window and document listening for ",(0,c.jsx)(n.code,{children:"keydown"})," and ",(0,c.jsx)(n.code,{children:"click"})," events and triggering ",(0,c.jsx)(n.strong,{children:"functions"})," ",(0,c.jsx)(n.code,{children:"handleEscape"})," and ",(0,c.jsx)(n.code,{children:"handleClick"}),"."]}),"\n",(0,c.jsx)("br",{}),"\n",(0,c.jsx)(n.h4,{id:"dispatch-function",children:"Dispatch Function"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-tsx",children:"function dispatch() {\n    node.dispatchEvent(new CustomEvent('click_outside', node));\n  }\n"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Function"})," ",(0,c.jsx)(n.code,{children:"Dispatch"})," is a part of ",(0,c.jsx)(n.strong,{children:"function"})," ",(0,c.jsx)(n.code,{children:"clickOutside"})," used for dispatching a custom ",(0,c.jsx)(n.code,{children:"click_outside"})," event."]}),"\n",(0,c.jsx)("br",{}),"\n",(0,c.jsx)(n.h4,{id:"handleclick-function",children:"HandleClick Function"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-tsx",children:"function handleClick(event: MouseEvent) {\n    if (node && !node.contains(event.target as HTMLElement) && !event.defaultPrevented) {\n      dispatch();\n    }\n  }\n"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Function"})," ",(0,c.jsx)(n.code,{children:"HandleClick"})," is a part of ",(0,c.jsx)(n.strong,{children:"function"})," ",(0,c.jsx)(n.code,{children:"clickOutside"})," that triggers the ",(0,c.jsx)(n.a,{href:"#dispatch-function",children:(0,c.jsx)(n.code,{children:"dispatch"})})," function if the ",(0,c.jsx)(n.code,{children:"click"})," is outside of the target ",(0,c.jsx)(n.code,{children:"node"}),"."]}),"\n",(0,c.jsx)("br",{}),"\n",(0,c.jsx)(n.h4,{id:"handleescape-function",children:"HandleEscape Function"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-tsx",children:"function handleEscape(event: KeyboardEvent) {\n    if (event.key === 'Escape') {\n      dispatch();\n    }\n  }\n"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Function"})," ",(0,c.jsx)(n.code,{children:"HandleEscape"})," is a part of ",(0,c.jsx)(n.strong,{children:"function"})," ",(0,c.jsx)(n.code,{children:"clickOutside"})," that checks that triggers the ",(0,c.jsx)(n.a,{href:"#dispatch-function",children:(0,c.jsx)(n.code,{children:"dispatch"})})," function if the ",(0,c.jsx)(n.code,{children:"Escape"})," key is pressed."]}),"\n",(0,c.jsx)("br",{}),"\n",(0,c.jsx)(n.h4,{id:"returns",children:"Returns"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-tsx",children:"return {\n    destroy() {\n      document.removeEventListener('click', handleClick, true);\n      window.removeEventListener('keydown', handleEscape, true);\n    }\n  };\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Function ",(0,c.jsx)(n.code,{children:"clickOutside"})," returns an object that mathes the format of Svelte's ",(0,c.jsx)(n.code,{children:"ActionReturn"})," interface.\nIt contains a function:"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"destroy"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"called when the action is no longer in use"}),"\n",(0,c.jsxs)(n.li,{children:["removes event listeners that were added to detect ",(0,c.jsx)(n.code,{children:"clicks"})," outside the target element and presses of ",(0,c.jsx)(n.code,{children:"Escape"})," key"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)("br",{}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h3,{id:"events",children:"Events"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.a,{href:"#dispatch-function",children:(0,c.jsx)(n.code,{children:"click_outside"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["triggers when a ",(0,c.jsx)(n.code,{children:"click"})," is detected outside the specified element or when the ",(0,c.jsx)(n.code,{children:"Escape"})," key is pressed"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>r});var c=i(6540);const s={},t=c.createContext(s);function d(e){const n=c.useContext(t);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),c.createElement(t.Provider,{value:n},e.children)}}}]);