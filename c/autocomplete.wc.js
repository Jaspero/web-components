var ye=Object.defineProperty,Me=(a,e,t)=>e in a?ye(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,xe=(a,e,t)=>Me(a,typeof e!="symbol"?e+"":e,t);import{c as be,S as ve,i as Ve,f as p,s as we,b as U,e as v,g as c,t as A,h as V,j as T,V as z,l as I,J as Q,o as w,r as W,D as qe,E as je,T as Te,y as J,F as X,G as Z,B as ee,H as Ie,C as Oe,p as te}from"./svelte.js";import"./index.js";function ne(a,e,t){const s=a.slice();return s[42]=e[t],s[43]=e,s[44]=t,s}function ae(a){let e;return{c(){e=v("div"),c(e,"class","jp-autocomplete-label")},m(t,s){V(t,e,s),e.innerHTML=a[19]},p(t,s){s[0]&524288&&(e.innerHTML=t[19])},d(t){t&&w(e)}}}function se(a){let e;return{c(){e=v("span"),c(e,"class","jp-autocomplete-field-label"),A(e,"jp-autocomplete-field-label-move",a[13]||a[0])},m(t,s){V(t,e,s),e.innerHTML=a[19]},p(t,s){s[0]&524288&&(e.innerHTML=t[19]),s[0]&8193&&A(e,"jp-autocomplete-field-label-move",t[13]||t[0])},d(t){t&&w(e)}}}function ie(a){let e,t;function s(l,h){return l[14]?ke:Ae}let o=s(a),i=o(a);return{c(){e=v("div"),t=v("div"),i.c(),c(t,"class","jp-autocomplete-menu"),c(t,"style",a[17]),c(e,"class","jp-autocomplete-overlay")},m(l,h){V(l,e,h),T(e,t),i.m(t,null)},p(l,h){o===(o=s(l))&&i?i.p(l,h):(i.d(1),i=o(l),i&&(i.c(),i.m(t,null))),h[0]&131072&&c(t,"style",l[17])},d(l){l&&w(e),i.d()}}}function ke(a){let e=a[1].LOADING+"",t;return{c(){t=X(e)},m(s,o){V(s,t,o)},p(s,o){o[0]&2&&e!==(e=s[1].LOADING+"")&&Z(t,e)},d(s){s&&w(t)}}}function Ae(a){let e,t=ee(a[18]),s=[];for(let o=0;o<t.length;o+=1)s[o]=le(ne(a,t,o));return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Ie()},m(o,i){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(o,i);V(o,e,i)},p(o,i){if(i[0]&331777){t=ee(o[18]);let l;for(l=0;l<t.length;l+=1){const h=ne(o,t,l);s[l]?s[l].p(h,i):(s[l]=le(h),s[l].c(),s[l].m(e.parentNode,e))}for(;l<s.length;l+=1)s[l].d(1);s.length=t.length}},d(o){o&&w(e),Oe(s,o)}}}function le(a){let e,t=a[42]+"",s,o=a[44],i,l;const h=()=>a[36](e,o),M=()=>a[36](null,o);function x(){return a[37](a[42])}return{c(){e=v("button"),s=X(t),c(e,"type","button"),c(e,"class","jp-autocomplete-menu-button")},m(u,g){V(u,e,g),T(e,s),h(),i||(l=[I(e,"mousedown",te(x)),I(e,"click",te(a[33]))],i=!0)},p(u,g){a=u,g[0]&262144&&t!==(t=a[42]+"")&&Z(s,t),o!==a[44]&&(M(),o=a[44],h())},d(u){u&&w(e),M(),i=!1,W(l)}}}function Le(a){let e,t,s,o,i,l,h,M,x,u=a[2]&&a[3]=="outside"&&ae(a),g=a[2]&&a[3]==="inside"&&se(a),$=a[13]&&ie(a);return{c(){u&&u.c(),e=U(),t=v("div"),s=v("label"),g&&g.c(),o=U(),i=v("input"),h=U(),$&&$.c(),c(i,"class",l=`jp-autocomplete-field-input ${a[3]=="outside"||!a[2]?"":"jp-autocomplete-field-input-padding"}`),c(i,"type","text"),c(i,"id",a[4]),c(i,"name",a[5]),i.disabled=a[6],c(i,"placeholder",a[8]),i.required=a[7],c(i,"minlength",a[9]),c(i,"maxlength",a[10]),c(i,"pattern",a[11]),c(s,"class","jp-autocomplete-field"),A(s,"jp-autocomplete-field-disabled",a[6])},m(r,d){u&&u.m(r,d),V(r,e,d),V(r,t,d),T(t,s),g&&g.m(s,null),T(s,o),T(s,i),a[34](i),z(i,a[0]),T(s,h),$&&$.m(s,null),a[39](t),M||(x=[I(i,"input",a[35]),I(i,"focus",a[20]),I(t,"focusout",a[38]),I(t,"keydown",a[21])],M=!0)},p(r,d){r[2]&&r[3]=="outside"?u?u.p(r,d):(u=ae(r),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),r[2]&&r[3]==="inside"?g?g.p(r,d):(g=se(r),g.c(),g.m(s,o)):g&&(g.d(1),g=null),d[0]&12&&l!==(l=`jp-autocomplete-field-input ${r[3]=="outside"||!r[2]?"":"jp-autocomplete-field-input-padding"}`)&&c(i,"class",l),d[0]&16&&c(i,"id",r[4]),d[0]&32&&c(i,"name",r[5]),d[0]&64&&(i.disabled=r[6]),d[0]&256&&c(i,"placeholder",r[8]),d[0]&128&&(i.required=r[7]),d[0]&512&&c(i,"minlength",r[9]),d[0]&1024&&c(i,"maxlength",r[10]),d[0]&2048&&c(i,"pattern",r[11]),d[0]&1&&i.value!==r[0]&&z(i,r[0]),r[13]?$?$.p(r,d):($=ie(r),$.c(),$.m(s,null)):$&&($.d(1),$=null),d[0]&64&&A(s,"jp-autocomplete-field-disabled",r[6])},i:Q,o:Q,d(r){r&&(w(e),w(t)),u&&u.d(r),g&&g.d(),a[34](null),$&&$.d(),a[39](null),M=!1,W(x)}}}function De(a,e,t){let s,{wording:o={LOADING:"Loading..."}}=e,{options:i=[]}=e,{value:l=""}=e,{asyncOptions:h=null}=e,{lag:M=300}=e,{label:x=""}=e,{labelType:u="inside"}=e,{id:g=null}=e,{name:$=null}=e,{disabled:r=!1}=e,{attachedInternals:d}=e,{required:L=!1}=e,{placeholder:K=""}=e,{minlength:Y=null}=e,{maxlength:_=null}=e,{pattern:F=null}=e,{validationMessages:j={}}=e,{requiredValidationMessage:D}=e,{minlengthValidationMessage:E}=e,{maxlengthValidationMessage:H}=e,{patternValidationMessage:N}=e;const re=()=>d.reportValidity();let B=!1,C,k,y=[],P,G=[],m,q=!1;const de=qe();function R(n){if(n&&n.target&&n.target.closest(".menu"))return;const f=k.getBoundingClientRect(),O=window.innerHeight-f.bottom,S=300;let b="";O<S?b=`
        width: ${f.width}px;
        bottom: ${window.innerHeight-f.top}px;
        left: ${f.left}px;
      `:b=`
        width: ${f.width}px;
        top: ${f.bottom}px;
        left: ${f.left}px;
      `,t(17,P=b),t(13,q=!q)}function ce(n){const f=y.findIndex(O=>O===document.activeElement);if(f==-1)if(n.key=="ArrowDown"&&q&&y.length)y[0].focus();else return;if(q){if(n.key==="Escape"){m.blur();return}n.key==="Enter"&&(t(0,l=G[f]),m.focus());const O=n.key==="Home"||n.key==="ArrowUp"&&n.metaKey,S=n.key==="End"||n.key==="ArrowDown"&&n.metaKey;if(O){n.preventDefault(),y[0].focus();return}if(S){n.preventDefault(),y[y.length-1].focus();return}if(["ArrowDown","ArrowUp"].includes(n.key)){let b;n.preventDefault(),n.key==="ArrowUp"?f==0?b=y.length-1:b=f-1:f==y.length-1?b=0:b=f+1,y[b].focus()}}}je(()=>{typeof i=="string"&&t(22,i=JSON.parse(i))});function ue(n){Te.call(this,a,n)}function ge(n){J[n?"unshift":"push"](()=>{m=n,t(12,m)})}function pe(){l=this.value,t(0,l)}function he(n,f){J[n?"unshift":"push"](()=>{y[f]=n,t(16,y)})}const me=n=>{t(0,l=n),m.blur()},$e=n=>{q&&R()};function fe(n){J[n?"unshift":"push"](()=>{k=n,t(15,k)})}return a.$$set=n=>{"wording"in n&&t(1,o=n.wording),"options"in n&&t(22,i=n.options),"value"in n&&t(0,l=n.value),"asyncOptions"in n&&t(23,h=n.asyncOptions),"lag"in n&&t(24,M=n.lag),"label"in n&&t(2,x=n.label),"labelType"in n&&t(3,u=n.labelType),"id"in n&&t(4,g=n.id),"name"in n&&t(5,$=n.name),"disabled"in n&&t(6,r=n.disabled),"attachedInternals"in n&&t(25,d=n.attachedInternals),"required"in n&&t(7,L=n.required),"placeholder"in n&&t(8,K=n.placeholder),"minlength"in n&&t(9,Y=n.minlength),"maxlength"in n&&t(10,_=n.maxlength),"pattern"in n&&t(11,F=n.pattern),"validationMessages"in n&&t(26,j=n.validationMessages),"requiredValidationMessage"in n&&t(27,D=n.requiredValidationMessage),"minlengthValidationMessage"in n&&t(28,E=n.minlengthValidationMessage),"maxlengthValidationMessage"in n&&t(29,H=n.maxlengthValidationMessage),"patternValidationMessage"in n&&t(30,N=n.patternValidationMessage)},a.$$.update=()=>{a.$$.dirty[0]&8192&&(q?document.documentElement.style.overflowY="hidden":document.documentElement.style.overflowY=""),a.$$.dirty[0]&2139099137|a.$$.dirty[1]&2&&(de("value",l),h&&(t(14,B=!0),clearTimeout(C),t(32,C=setTimeout(async()=>{t(22,i=await h(l)),t(14,B=!1)},M))),d.checkValidity(),m&&(m.validity.patternMismatch?d.setValidity({patternMismatch:!0},N||j.pattern||m.validationMessage,m):m.validity.tooShort?d.setValidity({tooShort:!0},E||j.minlength||m.validationMessage,m):m.validity.tooLong?d.setValidity({tooLong:!0},H||j.maxlength||m.validationMessage,m):m.validity.valueMissing?d.setValidity({valueMissing:!0},D||j.required||m.validationMessage,m):d.setValidity({}))),a.$$.dirty[0]&4194305&&Array.isArray(i)&&t(18,G=i.filter(n=>n.toLowerCase().includes(l.toLowerCase()))),a.$$.dirty[0]&132&&t(19,s=L?`${x} *`:x)},[l,o,x,u,g,$,r,L,K,Y,_,F,m,q,B,k,y,P,G,s,R,ce,i,h,M,d,j,D,E,H,N,re,C,ue,ge,pe,he,me,$e,fe]}class oe extends ve{constructor(e){super(),Ve(this,e,De,Le,we,{wording:1,options:22,value:0,asyncOptions:23,lag:24,label:2,labelType:3,id:4,name:5,disabled:6,attachedInternals:25,required:7,placeholder:8,minlength:9,maxlength:10,pattern:11,validationMessages:26,requiredValidationMessage:27,minlengthValidationMessage:28,maxlengthValidationMessage:29,patternValidationMessage:30,reportValidity:31},null,[-1,-1])}get wording(){return this.$$.ctx[1]}set wording(e){this.$$set({wording:e}),p()}get options(){return this.$$.ctx[22]}set options(e){this.$$set({options:e}),p()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),p()}get asyncOptions(){return this.$$.ctx[23]}set asyncOptions(e){this.$$set({asyncOptions:e}),p()}get lag(){return this.$$.ctx[24]}set lag(e){this.$$set({lag:e}),p()}get label(){return this.$$.ctx[2]}set label(e){this.$$set({label:e}),p()}get labelType(){return this.$$.ctx[3]}set labelType(e){this.$$set({labelType:e}),p()}get id(){return this.$$.ctx[4]}set id(e){this.$$set({id:e}),p()}get name(){return this.$$.ctx[5]}set name(e){this.$$set({name:e}),p()}get disabled(){return this.$$.ctx[6]}set disabled(e){this.$$set({disabled:e}),p()}get attachedInternals(){return this.$$.ctx[25]}set attachedInternals(e){this.$$set({attachedInternals:e}),p()}get required(){return this.$$.ctx[7]}set required(e){this.$$set({required:e}),p()}get placeholder(){return this.$$.ctx[8]}set placeholder(e){this.$$set({placeholder:e}),p()}get minlength(){return this.$$.ctx[9]}set minlength(e){this.$$set({minlength:e}),p()}get maxlength(){return this.$$.ctx[10]}set maxlength(e){this.$$set({maxlength:e}),p()}get pattern(){return this.$$.ctx[11]}set pattern(e){this.$$set({pattern:e}),p()}get validationMessages(){return this.$$.ctx[26]}set validationMessages(e){this.$$set({validationMessages:e}),p()}get requiredValidationMessage(){return this.$$.ctx[27]}set requiredValidationMessage(e){this.$$set({requiredValidationMessage:e}),p()}get minlengthValidationMessage(){return this.$$.ctx[28]}set minlengthValidationMessage(e){this.$$set({minlengthValidationMessage:e}),p()}get maxlengthValidationMessage(){return this.$$.ctx[29]}set maxlengthValidationMessage(e){this.$$set({maxlengthValidationMessage:e}),p()}get patternValidationMessage(){return this.$$.ctx[30]}set patternValidationMessage(e){this.$$set({patternValidationMessage:e}),p()}get reportValidity(){return this.$$.ctx[31]}}try{customElements.define("jp-autocomplete",be(oe,{wording:{},options:{},value:{},asyncOptions:{},lag:{},label:{},labelType:{},id:{},name:{},disabled:{type:"Boolean"},attachedInternals:{},required:{type:"Boolean"},placeholder:{},minlength:{},maxlength:{},pattern:{},validationMessages:{},requiredValidationMessage:{},minlengthValidationMessage:{},maxlengthValidationMessage:{},patternValidationMessage:{}},[],["reportValidity"],!1,a=>{var e;return e=class extends a{constructor(){super(),this.attachedInternals=this.attachInternals()}},xe(e,"formAssociated",!0),e}));}catch{};export{oe as default};
//# sourceMappingURL=autocomplete.wc.js.map
