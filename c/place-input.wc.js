var qe=Object.defineProperty,ke=(s,e,t)=>e in s?qe(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,He=(s,e,t)=>ke(s,typeof e!="symbol"?e+"":e,t);import{c as ze,S as Fe,i as Be,f as m,s as _e,a as Re,H as Ke,h as T,J as ne,o as q,D as Ee,E as Ne,y as ie,b as R,e as $,g as i,U as Y,t as b,A as Oe,j as y,V as G,l as B,r as re,p as Ae,z as Pe}from"./svelte.js";import"./index.js";import{clickOutside as Se}from"./click-outside.js";import{loadScript as Ye}from"./scriptLoader.js";function Ge(s){Re(s,"svelte-19fjott",`.label.svelte-19fjott.svelte-19fjott{margin-top:0.5rem;margin-bottom:0.125rem;font-size:0.875rem}.field-label.svelte-19fjott.svelte-19fjott{position:absolute;top:50%;left:0.75rem;transform:translateY(-50%);font-size:1rem;transition:transform 0.3s,
      top 0.3s,
      font-size 0.3s}.field-label.move.svelte-19fjott.svelte-19fjott{top:0.25rem;transform:translateY(0);font-size:0.75rem}.field.required.svelte-19fjott .field-label.svelte-19fjott::after{content:' *'}.nav.svelte-19fjott.svelte-19fjott{position:relative;display:inline-block}.lookup-box.svelte-19fjott.svelte-19fjott{width:100%;height:100%;display:flex;flex-direction:column}#map.svelte-19fjott.svelte-19fjott{height:400px;width:100%}.searchInput.svelte-19fjott.svelte-19fjott{width:100%;height:3rem;font-size:1rem;padding:10px;border-radius:0.25rem;box-sizing:border-box;border:1px solid var(--border-primary);outline:none}.searchInput.svelte-19fjott.svelte-19fjott:focus{border:1px solid var(--primary-color)}.searchInput.svelte-19fjott.svelte-19fjott::-moz-placeholder{opacity:0;-moz-transition:opacity 0.3s;transition:opacity 0.3s}.searchInput.svelte-19fjott.svelte-19fjott::placeholder{opacity:0;transition:opacity 0.3s}.searchInput.active.svelte-19fjott.svelte-19fjott{border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-color:var(--primary-color)}.searchInput.svelte-19fjott.svelte-19fjott:after{background-image:none !important;height:0px}.searchInput-padding.svelte-19fjott.svelte-19fjott{padding:1.5rem 0.75rem calc(0.5rem - 2px)}.field-label.move.svelte-19fjott+.searchInput.svelte-19fjott::-moz-placeholder{opacity:1}.field-label.move.svelte-19fjott+.searchInput.svelte-19fjott::placeholder{opacity:1}.field.svelte-19fjott.svelte-19fjott{width:100%}button.svelte-19fjott.svelte-19fjott{position:absolute;top:50%;right:5px;transform:translateY(-50%);border:none;background:none;cursor:pointer}button.active.svelte-19fjott.svelte-19fjott{color:var(--primary-color);transition:0.2s}.overlay.svelte-19fjott.svelte-19fjott{z-index:100;position:absolute;display:flex;flex-direction:column;max-width:370px;max-height:420px;width:100%;padding:0.7rem;overflow-y:hidden;border-bottom-left-radius:0.25rem;border-bottom-right-radius:0.25rem;box-shadow:0 6px 9px rgba(0, 0, 0, 0.16);background-color:var(--background-primary)}.overlay.disabled.svelte-19fjott.svelte-19fjott{display:none}.map-field.svelte-19fjott.svelte-19fjott{border-radius:0.25rem}`)}function Ce(s){let e,t,l,r,p,a,j,M,I,k,v,L,x,u=s[2]&&s[3]==="outside"&&oe(s),h=s[2]&&s[3]==="inside"&&le(s);return{c(){u&&u.c(),e=R(),t=$("div"),l=$("div"),r=$("label"),h&&h.c(),p=R(),a=$("input"),k=R(),v=$("div"),i(a,"class",j=Y(`searchInput ${s[3]==="outside"||!s[2]?"":"searchInput-padding"}`)+" svelte-19fjott"),i(a,"type","text"),i(a,"aria-hidden",M=s[6]||s[7]),i(a,"tabindex",I=s[6]||s[7]?-1:0),i(a,"id",s[5]),a.disabled=s[6],a.readOnly=s[7],a.required=s[10],i(a,"name",s[4]),i(a,"placeholder",s[8]),b(a,"active",s[12]),i(r,"class","field svelte-19fjott"),b(r,"required",s[10]),i(v,"id","map"),i(v,"class","map-field svelte-19fjott"),Oe(v,"display","none"),i(l,"class","nav svelte-19fjott"),i(t,"class","lookup-box svelte-19fjott")},m(d,c){u&&u.m(d,c),T(d,e,c),T(d,t,c),y(t,l),y(l,r),h&&h.m(r,null),y(r,p),y(r,a),s[39](a),G(a,s[0]),y(l,k),y(l,v),L||(x=[B(a,"input",s[40]),B(a,"focus",s[41]),B(a,"blur",s[42])],L=!0)},p(d,c){d[2]&&d[3]==="outside"?u?u.p(d,c):(u=oe(d),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),d[2]&&d[3]==="inside"?h?h.p(d,c):(h=le(d),h.c(),h.m(r,p)):h&&(h.d(1),h=null),c[0]&12&&j!==(j=Y(`searchInput ${d[3]==="outside"||!d[2]?"":"searchInput-padding"}`)+" svelte-19fjott")&&i(a,"class",j),c[0]&192&&M!==(M=d[6]||d[7])&&i(a,"aria-hidden",M),c[0]&192&&I!==(I=d[6]||d[7]?-1:0)&&i(a,"tabindex",I),c[0]&32&&i(a,"id",d[5]),c[0]&64&&(a.disabled=d[6]),c[0]&128&&(a.readOnly=d[7]),c[0]&1024&&(a.required=d[10]),c[0]&16&&i(a,"name",d[4]),c[0]&256&&i(a,"placeholder",d[8]),c[0]&1&&a.value!==d[0]&&G(a,d[0]),c[0]&4108&&b(a,"active",d[12]),c[0]&1024&&b(r,"required",d[10])},d(d){d&&(q(e),q(t)),u&&u.d(d),h&&h.d(),s[39](null),L=!1,re(x)}}}function De(s){let e,t,l,r,p,a,j,M,I,k,v,L,x,u,h,d,c=s[2]&&s[3]==="outside"&&de(s),f=s[2]&&s[3]==="inside"&&ce(s);return{c(){c&&c.c(),e=R(),t=$("div"),l=$("div"),r=$("label"),f&&f.c(),p=R(),a=$("input"),k=R(),v=$("button"),v.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-geo-alt-fill" viewBox="0 0 16 16"><path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6"></path></svg>',L=R(),x=$("div"),u=$("div"),u.innerHTML='<div id="infowindow-content"></div>',i(a,"class",j=Y(`searchInput ${s[3]==="outside"||!s[2]?"":"searchInput-padding"}`)+" svelte-19fjott"),i(a,"type","text"),i(a,"aria-hidden",M=s[6]||s[7]),i(a,"tabindex",I=s[6]||s[7]?-1:0),i(a,"id",s[5]),a.disabled=s[6],a.readOnly=s[7],a.required=s[10],i(a,"name",s[4]),i(a,"placeholder",s[8]),b(a,"active",s[12]),i(v,"class","button svelte-19fjott"),b(v,"active",s[12]),i(r,"class","field svelte-19fjott"),b(r,"required",s[10]),i(l,"class","nav svelte-19fjott"),i(u,"id","map"),i(u,"class","map-field svelte-19fjott"),i(x,"class","overlay svelte-19fjott"),i(x,"style",s[13]),b(x,"disabled",!s[12]),i(t,"class","lookup-box svelte-19fjott")},m(o,g){c&&c.m(o,g),T(o,e,g),T(o,t,g),y(t,l),y(l,r),f&&f.m(r,null),y(r,p),y(r,a),s[34](a),G(a,s[0]),y(r,k),y(r,v),y(t,L),y(t,x),y(x,u),h||(d=[B(a,"input",s[35]),B(a,"focus",s[36]),B(a,"blur",s[37]),B(v,"click",Ae(s[14])),Pe(Se.call(null,t)),B(t,"click_outside",s[38])],h=!0)},p(o,g){o[2]&&o[3]==="outside"?c?c.p(o,g):(c=de(o),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null),o[2]&&o[3]==="inside"?f?f.p(o,g):(f=ce(o),f.c(),f.m(r,p)):f&&(f.d(1),f=null),g[0]&12&&j!==(j=Y(`searchInput ${o[3]==="outside"||!o[2]?"":"searchInput-padding"}`)+" svelte-19fjott")&&i(a,"class",j),g[0]&192&&M!==(M=o[6]||o[7])&&i(a,"aria-hidden",M),g[0]&192&&I!==(I=o[6]||o[7]?-1:0)&&i(a,"tabindex",I),g[0]&32&&i(a,"id",o[5]),g[0]&64&&(a.disabled=o[6]),g[0]&128&&(a.readOnly=o[7]),g[0]&1024&&(a.required=o[10]),g[0]&16&&i(a,"name",o[4]),g[0]&256&&i(a,"placeholder",o[8]),g[0]&1&&a.value!==o[0]&&G(a,o[0]),g[0]&4108&&b(a,"active",o[12]),g[0]&4096&&b(v,"active",o[12]),g[0]&1024&&b(r,"required",o[10]),g[0]&8192&&i(x,"style",o[13]),g[0]&4096&&b(x,"disabled",!o[12])},d(o){o&&(q(e),q(t)),c&&c.d(o),f&&f.d(),s[34](null),h=!1,re(d)}}}function oe(s){let e;return{c(){e=$("div"),i(e,"class","label svelte-19fjott")},m(t,l){T(t,e,l),e.innerHTML=s[2]},p(t,l){l[0]&4&&(e.innerHTML=t[2])},d(t){t&&q(e)}}}function le(s){let e;return{c(){e=$("span"),i(e,"class","field-label svelte-19fjott"),b(e,"move",s[1]||s[0])},m(t,l){T(t,e,l),e.innerHTML=s[2]},p(t,l){l[0]&4&&(e.innerHTML=t[2]),l[0]&3&&b(e,"move",t[1]||t[0])},d(t){t&&q(e)}}}function de(s){let e;return{c(){e=$("div"),i(e,"class","label svelte-19fjott")},m(t,l){T(t,e,l),e.innerHTML=s[2]},p(t,l){l[0]&4&&(e.innerHTML=t[2])},d(t){t&&q(e)}}}function ce(s){let e;return{c(){e=$("span"),i(e,"class","field-label svelte-19fjott"),b(e,"move",s[1]||s[0]||s[12])},m(t,l){T(t,e,l),e.innerHTML=s[2]},p(t,l){l[0]&4&&(e.innerHTML=t[2]),l[0]&4099&&b(e,"move",t[1]||t[0]||t[12])},d(t){t&&q(e)}}}function Je(s){let e;function t(p,a){return p[9]?De:Ce}let l=t(s),r=l(s);return{c(){r.c(),e=Ke()},m(p,a){r.m(p,a),T(p,e,a)},p(p,a){l===(l=t(p))&&r?r.p(p,a):(r.d(1),r=l(p),r&&(r.c(),r.m(e.parentNode,e)))},i:ne,o:ne,d(p){p&&q(e),r.d(p)}}}function Ue(s,e,t){let{apiKey:l}=e,{value:r=""}=e,{attachedInternals:p}=e,{startingLatitude:a=37.77493}=e,{startingLongitude:j=-122.41942}=e,{mapType:M="roadmap"}=e,{zoom:I=8}=e,{label:k=""}=e,{labelType:v="inside"}=e,{name:L=""}=e,{id:x=null}=e,{inputFocused:u=!1}=e,{disabled:h=!1}=e,{readonly:d=!1}=e,{placeholder:c=""}=e,{mapId:f}=e,{returnedValue:o="extended"}=e,{enableMap:g=!0}=e,{gestureHandling:C="auto"}=e,{types:D=[]}=e,{componentRestrictions:J}=e,{required:Q=!1}=e,{requiredValidationMessage:U}=e,{resultValidationMessage:W}=e,{validationMessages:A={}}=e;const ue=()=>r,me=p.validity,ge=p.validationMessage,he=()=>p.reportValidity(),fe=()=>p.checkValidity();let N=!1,K,_,V,Z="",X;const w=Ee();window.initMap=async function(){const{Map:n}=await google.maps.importLibrary("maps");await google.maps.importLibrary("marker");const H={lat:a,lng:j};_=new n(document.getElementById("map"),{center:H,zoom:I,mapTypeId:M,mapId:f,gestureHandling:C});const P={north:H.lat+.1,south:H.lat-.1,east:H.lng+.1,west:H.lng-.1},z=new google.maps.Geocoder,O=V,E={bounds:P,fields:["address_components","formatted_address","geometry","icon","name"],strictBounds:!1,types:D,componentRestrictions:J},S=new google.maps.places.Autocomplete(O,E);S.setFields(["place_id","geometry","name"]),S.addListener("place_changed",()=>{te.close();const F=S.getPlace();F.geometry.viewport?_.fitBounds(F.geometry.viewport):(_.setCenter(F.geometry.location),_.setZoom(13)),S.getPlace().formatted_address,ee(F.geometry.location);const se=Z.split(",",2),ae={lat:parseFloat(se[0]),lng:parseFloat(se[1])};o==="simple"?w("address",{address:F.formatted_address}):o==="extended"&&(w("address",{address:F.formatted_address}),w("latitude",{lat:ae.lat}),w("longitude",{lng:ae.lng}))});const te=new google.maps.InfoWindow,Te=document.getElementById("infowindow-content");te.setContent(Te),_.addListener("click",function(F){ee(F.latLng),ve(z)})};function ee(n){K!=null&&(K.map=null),K=new google.maps.marker.AdvancedMarkerElement({position:n,map:_,title:String(n)}),_.panTo(K.position),Z=K.position.lat+", "+K.position.lng}function ve(n,H,P){const z=Z.split(",",2),O={lat:parseFloat(z[0]),lng:parseFloat(z[1])};n.geocode({location:O}).then(E=>{E.results[0]?(t(0,r=E.results[0].formatted_address),o==="simple"?w("address",{address:E.results[0].formatted_address}):o==="extended"&&(w("address",{address:E.results[0].formatted_address}),w("latitude",{lat:O.lat}),w("longitude",{lng:O.lng}))):(p.setValidity({customError:!0},W||A.results||"No results found"),w("addressNotFound"))})}function $e(){const n=V.getBoundingClientRect(),H=window.innerHeight-n.bottom,P=420;let z="";H<P?z=`
        bottom: ${window.innerHeight-n.top}px;
        left: ${n.left}px;
      `:z=`
        top: ${n.bottom}px;
        left: ${n.left}px;
      `,t(13,X=z),t(12,N=!N),N&&V.focus()}Ne(async()=>{try{await Ye(`https://maps.googleapis.com/maps/api/js?key=${l}&loading=async&libraries=places&callback=initMap`)}catch(n){console.error("Failed to load the Google Maps script",n)}u&&V.focus()});function be(n){ie[n?"unshift":"push"](()=>{V=n,t(11,V)})}function ye(){r=this.value,t(0,r)}const xe=()=>t(1,u=!0),je=()=>t(1,u=!1),Me=()=>t(12,N=!1);function Ie(n){ie[n?"unshift":"push"](()=>{V=n,t(11,V)})}function Ve(){r=this.value,t(0,r)}const we=()=>t(1,u=!0),Le=()=>t(1,u=!1);return s.$$set=n=>{"apiKey"in n&&t(15,l=n.apiKey),"value"in n&&t(0,r=n.value),"attachedInternals"in n&&t(16,p=n.attachedInternals),"startingLatitude"in n&&t(17,a=n.startingLatitude),"startingLongitude"in n&&t(18,j=n.startingLongitude),"mapType"in n&&t(19,M=n.mapType),"zoom"in n&&t(20,I=n.zoom),"label"in n&&t(2,k=n.label),"labelType"in n&&t(3,v=n.labelType),"name"in n&&t(4,L=n.name),"id"in n&&t(5,x=n.id),"inputFocused"in n&&t(1,u=n.inputFocused),"disabled"in n&&t(6,h=n.disabled),"readonly"in n&&t(7,d=n.readonly),"placeholder"in n&&t(8,c=n.placeholder),"mapId"in n&&t(21,f=n.mapId),"returnedValue"in n&&t(22,o=n.returnedValue),"enableMap"in n&&t(9,g=n.enableMap),"gestureHandling"in n&&t(23,C=n.gestureHandling),"types"in n&&t(24,D=n.types),"componentRestrictions"in n&&t(25,J=n.componentRestrictions),"required"in n&&t(10,Q=n.required),"requiredValidationMessage"in n&&t(26,U=n.requiredValidationMessage),"resultValidationMessage"in n&&t(27,W=n.resultValidationMessage),"validationMessages"in n&&t(28,A=n.validationMessages)},s.$$.update=()=>{s.$$.dirty[0]&335611905&&(p.checkValidity(),V&&(V.validity.valueMissing?p.setValidity({valueMissing:!0},U||A.required||V.validationMessage,V):p.setValidity({})),p.setFormValue(r),w("value",{value:r}))},[r,u,k,v,L,x,h,d,c,g,Q,V,N,X,$e,l,p,a,j,M,I,f,o,C,D,J,U,W,A,ue,me,ge,he,fe,be,ye,xe,je,Me,Ie,Ve,we,Le]}class pe extends Fe{constructor(e){super(),Be(this,e,Ue,Je,_e,{apiKey:15,value:0,attachedInternals:16,startingLatitude:17,startingLongitude:18,mapType:19,zoom:20,label:2,labelType:3,name:4,id:5,inputFocused:1,disabled:6,readonly:7,placeholder:8,mapId:21,returnedValue:22,enableMap:9,gestureHandling:23,types:24,componentRestrictions:25,required:10,requiredValidationMessage:26,resultValidationMessage:27,validationMessages:28,getValue:29,validity:30,validationMessage:31,reportValidity:32,checkValidity:33},Ge,[-1,-1])}get apiKey(){return this.$$.ctx[15]}set apiKey(e){this.$$set({apiKey:e}),m()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),m()}get attachedInternals(){return this.$$.ctx[16]}set attachedInternals(e){this.$$set({attachedInternals:e}),m()}get startingLatitude(){return this.$$.ctx[17]}set startingLatitude(e){this.$$set({startingLatitude:e}),m()}get startingLongitude(){return this.$$.ctx[18]}set startingLongitude(e){this.$$set({startingLongitude:e}),m()}get mapType(){return this.$$.ctx[19]}set mapType(e){this.$$set({mapType:e}),m()}get zoom(){return this.$$.ctx[20]}set zoom(e){this.$$set({zoom:e}),m()}get label(){return this.$$.ctx[2]}set label(e){this.$$set({label:e}),m()}get labelType(){return this.$$.ctx[3]}set labelType(e){this.$$set({labelType:e}),m()}get name(){return this.$$.ctx[4]}set name(e){this.$$set({name:e}),m()}get id(){return this.$$.ctx[5]}set id(e){this.$$set({id:e}),m()}get inputFocused(){return this.$$.ctx[1]}set inputFocused(e){this.$$set({inputFocused:e}),m()}get disabled(){return this.$$.ctx[6]}set disabled(e){this.$$set({disabled:e}),m()}get readonly(){return this.$$.ctx[7]}set readonly(e){this.$$set({readonly:e}),m()}get placeholder(){return this.$$.ctx[8]}set placeholder(e){this.$$set({placeholder:e}),m()}get mapId(){return this.$$.ctx[21]}set mapId(e){this.$$set({mapId:e}),m()}get returnedValue(){return this.$$.ctx[22]}set returnedValue(e){this.$$set({returnedValue:e}),m()}get enableMap(){return this.$$.ctx[9]}set enableMap(e){this.$$set({enableMap:e}),m()}get gestureHandling(){return this.$$.ctx[23]}set gestureHandling(e){this.$$set({gestureHandling:e}),m()}get types(){return this.$$.ctx[24]}set types(e){this.$$set({types:e}),m()}get componentRestrictions(){return this.$$.ctx[25]}set componentRestrictions(e){this.$$set({componentRestrictions:e}),m()}get required(){return this.$$.ctx[10]}set required(e){this.$$set({required:e}),m()}get requiredValidationMessage(){return this.$$.ctx[26]}set requiredValidationMessage(e){this.$$set({requiredValidationMessage:e}),m()}get resultValidationMessage(){return this.$$.ctx[27]}set resultValidationMessage(e){this.$$set({resultValidationMessage:e}),m()}get validationMessages(){return this.$$.ctx[28]}set validationMessages(e){this.$$set({validationMessages:e}),m()}get getValue(){return this.$$.ctx[29]}get validity(){return this.$$.ctx[30]}get validationMessage(){return this.$$.ctx[31]}get reportValidity(){return this.$$.ctx[32]}get checkValidity(){return this.$$.ctx[33]}}try{customElements.define("jp-place-input",ze(pe,{apiKey:{},value:{},attachedInternals:{},startingLatitude:{},startingLongitude:{},mapType:{},zoom:{},label:{},labelType:{},name:{},id:{},inputFocused:{type:"Boolean"},disabled:{type:"Boolean"},readonly:{type:"Boolean"},placeholder:{},mapId:{},returnedValue:{},enableMap:{type:"Boolean"},gestureHandling:{},types:{},componentRestrictions:{},required:{type:"Boolean"},requiredValidationMessage:{},resultValidationMessage:{},validationMessages:{}},[],["getValue","validity","validationMessage","reportValidity","checkValidity"],!1,s=>{var e;return e=class extends s{constructor(){super(),this.attachedInternals=this.attachInternals(),this.attachedInternals.role="textbox"}},He(e,"formAssociated",!0),e}));}catch{};export{pe as default};
//# sourceMappingURL=place-input.wc.js.map
