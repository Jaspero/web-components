var Te=Object.defineProperty,qe=(s,e,t)=>e in s?Te(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,He=(s,e,t)=>qe(s,typeof e!="symbol"?e+"":e,t);import{c as Fe,S as Be,i as Ye,f as h,s as _e,a as Re,H as Ke,h as L,J as ne,o as T,D as je,E as Ee,y as ie,b as R,e as $,g as i,U as S,t as y,A as Ne,j as f,T as G,l as Y,r as re,p as Oe,z as Ae}from"./svelte.js";import"./index.js";import{clickOutside as Pe}from"./clickOutside.js";import{loadScript as Se}from"./scriptLoader.js";function Ge(s){Re(s,"svelte-1943hu1",`.label.svelte-1943hu1.svelte-1943hu1{margin-top:0.5rem;margin-bottom:0.125rem;font-size:0.875rem}.field-label.svelte-1943hu1.svelte-1943hu1{position:absolute;top:50%;left:0.75rem;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);font-size:1rem;-webkit-transition:transform 0.3s,
      top 0.3s,
      font-size 0.3s;-o-transition:transform 0.3s,
      top 0.3s,
      font-size 0.3s;-moz-transition:transform 0.3s,
      top 0.3s,
      font-size 0.3s;transition:transform 0.3s,
      top 0.3s,
      font-size 0.3s}.field-label.move.svelte-1943hu1.svelte-1943hu1{top:0.25rem;-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0);font-size:0.75rem}.field.required.svelte-1943hu1 .field-label.svelte-1943hu1::after{content:' *'}.nav.svelte-1943hu1.svelte-1943hu1{position:relative;display:inline-block}.lookup-box.svelte-1943hu1.svelte-1943hu1{width:100%;height:100%;display:flex;flex-direction:column}#map.svelte-1943hu1.svelte-1943hu1{height:400px;width:100%}.searchInput.svelte-1943hu1.svelte-1943hu1{width:100%;height:3rem;font-size:1rem;padding:10px;border-radius:0.25rem;box-sizing:border-box;border:1px solid var(--border-primary);outline:none}.searchInput.svelte-1943hu1.svelte-1943hu1:focus{border:1px solid var(--primary-color)}.searchInput.svelte-1943hu1.svelte-1943hu1::placeholder{opacity:0;-webkit-transition:opacity 0.3s;-o-transition:opacity 0.3s;-moz-transition:opacity 0.3s;transition:opacity 0.3s}.searchInput.active.svelte-1943hu1.svelte-1943hu1{border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-color:var(--primary-color)}.searchInput.svelte-1943hu1.svelte-1943hu1:after{background-image:none !important;height:0px}.searchInput-padding.svelte-1943hu1.svelte-1943hu1{padding:1.5rem 0.75rem calc(0.5rem - 2px)}.field-label.move.svelte-1943hu1+.searchInput.svelte-1943hu1:-moz-placeholder{opacity:1}.field-label.move.svelte-1943hu1+.searchInput.svelte-1943hu1::-moz-placeholder{opacity:1}.field-label.move.svelte-1943hu1+.searchInput.svelte-1943hu1:-ms-input-placeholder{opacity:1}.field-label.move.svelte-1943hu1+.searchInput.svelte-1943hu1::-ms-input-placeholder{opacity:1}.field-label.move.svelte-1943hu1+.searchInput.svelte-1943hu1::placeholder{opacity:1}.field.svelte-1943hu1.svelte-1943hu1{width:100%}button.svelte-1943hu1.svelte-1943hu1{position:absolute;top:50%;right:5px;transform:translateY(-50%);border:none;background:none;cursor:pointer}button.active.svelte-1943hu1.svelte-1943hu1{color:var(--primary-color);transition:0.2s}.overlay.svelte-1943hu1.svelte-1943hu1{z-index:100;position:absolute;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;max-width:370px;max-height:420px;width:100%;padding:0.7rem;overflow-y:hidden;-webkit-border-bottom-left-radius:0.25rem;-moz-border-radius-bottomleft:0.25rem;border-bottom-left-radius:0.25rem;-webkit-border-bottom-right-radius:0.25rem;-moz-border-radius-bottomright:0.25rem;border-bottom-right-radius:0.25rem;-webkit-box-shadow:0 6px 9px rgba(0, 0, 0, 0.16);-moz-box-shadow:0 6px 9px rgba(0, 0, 0, 0.16);box-shadow:0 6px 9px rgba(0, 0, 0, 0.16);background-color:var(--background-primary)}.overlay.disabled.svelte-1943hu1.svelte-1943hu1{display:none}.map-field.svelte-1943hu1.svelte-1943hu1{border-radius:0.25rem}`)}function Ce(s){let e,t,o,r,c,a,M,w,I,q,b,z,x,p=s[2]&&s[3]==="outside"&&le(s),g=s[2]&&s[3]==="inside"&&oe(s);return{c(){p&&p.c(),e=R(),t=$("div"),o=$("div"),r=$("label"),g&&g.c(),c=R(),a=$("input"),q=R(),b=$("div"),i(a,"class",M=S(`searchInput ${s[3]==="outside"||!s[2]?"":"searchInput-padding"}`)+" svelte-1943hu1"),i(a,"type","text"),i(a,"aria-hidden",w=s[6]||s[7]),i(a,"tabindex",I=s[6]||s[7]?-1:0),i(a,"id",s[5]),a.disabled=s[6],a.readOnly=s[7],a.required=s[10],i(a,"name",s[4]),i(a,"placeholder",s[8]),y(a,"active",s[12]),i(r,"class","field svelte-1943hu1"),y(r,"required",s[10]),i(b,"id","map"),i(b,"class","map-field svelte-1943hu1"),Ne(b,"display","none"),i(o,"class","nav svelte-1943hu1"),i(t,"class","lookup-box svelte-1943hu1")},m(d,u){p&&p.m(d,u),L(d,e,u),L(d,t,u),f(t,o),f(o,r),g&&g.m(r,null),f(r,c),f(r,a),s[39](a),G(a,s[0]),f(o,q),f(o,b),z||(x=[Y(a,"input",s[40]),Y(a,"focus",s[41]),Y(a,"blur",s[42])],z=!0)},p(d,u){d[2]&&d[3]==="outside"?p?p.p(d,u):(p=le(d),p.c(),p.m(e.parentNode,e)):p&&(p.d(1),p=null),d[2]&&d[3]==="inside"?g?g.p(d,u):(g=oe(d),g.c(),g.m(r,c)):g&&(g.d(1),g=null),u[0]&12&&M!==(M=S(`searchInput ${d[3]==="outside"||!d[2]?"":"searchInput-padding"}`)+" svelte-1943hu1")&&i(a,"class",M),u[0]&192&&w!==(w=d[6]||d[7])&&i(a,"aria-hidden",w),u[0]&192&&I!==(I=d[6]||d[7]?-1:0)&&i(a,"tabindex",I),u[0]&32&&i(a,"id",d[5]),u[0]&64&&(a.disabled=d[6]),u[0]&128&&(a.readOnly=d[7]),u[0]&1024&&(a.required=d[10]),u[0]&16&&i(a,"name",d[4]),u[0]&256&&i(a,"placeholder",d[8]),u[0]&1&&a.value!==d[0]&&G(a,d[0]),u[0]&4108&&y(a,"active",d[12]),u[0]&1024&&y(r,"required",d[10])},d(d){d&&(T(e),T(t)),p&&p.d(d),g&&g.d(),s[39](null),z=!1,re(x)}}}function De(s){let e,t,o,r,c,a,M,w,I,q,b,z,x,p,g,d,u=s[2]&&s[3]==="outside"&&de(s),v=s[2]&&s[3]==="inside"&&ue(s);return{c(){u&&u.c(),e=R(),t=$("div"),o=$("div"),r=$("label"),v&&v.c(),c=R(),a=$("input"),q=R(),b=$("button"),b.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-geo-alt-fill" viewBox="0 0 16 16"><path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6"></path></svg>',z=R(),x=$("div"),p=$("div"),p.innerHTML='<div id="infowindow-content"></div>',i(a,"class",M=S(`searchInput ${s[3]==="outside"||!s[2]?"":"searchInput-padding"}`)+" svelte-1943hu1"),i(a,"type","text"),i(a,"aria-hidden",w=s[6]||s[7]),i(a,"tabindex",I=s[6]||s[7]?-1:0),i(a,"id",s[5]),a.disabled=s[6],a.readOnly=s[7],a.required=s[10],i(a,"name",s[4]),i(a,"placeholder",s[8]),y(a,"active",s[12]),i(b,"class","button svelte-1943hu1"),y(b,"active",s[12]),i(r,"class","field svelte-1943hu1"),y(r,"required",s[10]),i(o,"class","nav svelte-1943hu1"),i(p,"id","map"),i(p,"class","map-field svelte-1943hu1"),i(x,"class","overlay svelte-1943hu1"),i(x,"style",s[13]),y(x,"disabled",!s[12]),i(t,"class","lookup-box svelte-1943hu1")},m(l,m){u&&u.m(l,m),L(l,e,m),L(l,t,m),f(t,o),f(o,r),v&&v.m(r,null),f(r,c),f(r,a),s[34](a),G(a,s[0]),f(r,q),f(r,b),f(t,z),f(t,x),f(x,p),g||(d=[Y(a,"input",s[35]),Y(a,"focus",s[36]),Y(a,"blur",s[37]),Y(b,"click",Oe(s[14])),Ae(Pe.call(null,t)),Y(t,"click_outside",s[38])],g=!0)},p(l,m){l[2]&&l[3]==="outside"?u?u.p(l,m):(u=de(l),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),l[2]&&l[3]==="inside"?v?v.p(l,m):(v=ue(l),v.c(),v.m(r,c)):v&&(v.d(1),v=null),m[0]&12&&M!==(M=S(`searchInput ${l[3]==="outside"||!l[2]?"":"searchInput-padding"}`)+" svelte-1943hu1")&&i(a,"class",M),m[0]&192&&w!==(w=l[6]||l[7])&&i(a,"aria-hidden",w),m[0]&192&&I!==(I=l[6]||l[7]?-1:0)&&i(a,"tabindex",I),m[0]&32&&i(a,"id",l[5]),m[0]&64&&(a.disabled=l[6]),m[0]&128&&(a.readOnly=l[7]),m[0]&1024&&(a.required=l[10]),m[0]&16&&i(a,"name",l[4]),m[0]&256&&i(a,"placeholder",l[8]),m[0]&1&&a.value!==l[0]&&G(a,l[0]),m[0]&4108&&y(a,"active",l[12]),m[0]&4096&&y(b,"active",l[12]),m[0]&1024&&y(r,"required",l[10]),m[0]&8192&&i(x,"style",l[13]),m[0]&4096&&y(x,"disabled",!l[12])},d(l){l&&(T(e),T(t)),u&&u.d(l),v&&v.d(),s[34](null),g=!1,re(d)}}}function le(s){let e;return{c(){e=$("div"),i(e,"class","label svelte-1943hu1")},m(t,o){L(t,e,o),e.innerHTML=s[2]},p(t,o){o[0]&4&&(e.innerHTML=t[2])},d(t){t&&T(e)}}}function oe(s){let e;return{c(){e=$("span"),i(e,"class","field-label svelte-1943hu1"),y(e,"move",s[1]||s[0])},m(t,o){L(t,e,o),e.innerHTML=s[2]},p(t,o){o[0]&4&&(e.innerHTML=t[2]),o[0]&3&&y(e,"move",t[1]||t[0])},d(t){t&&T(e)}}}function de(s){let e;return{c(){e=$("div"),i(e,"class","label svelte-1943hu1")},m(t,o){L(t,e,o),e.innerHTML=s[2]},p(t,o){o[0]&4&&(e.innerHTML=t[2])},d(t){t&&T(e)}}}function ue(s){let e;return{c(){e=$("span"),i(e,"class","field-label svelte-1943hu1"),y(e,"move",s[1]||s[0]||s[12])},m(t,o){L(t,e,o),e.innerHTML=s[2]},p(t,o){o[0]&4&&(e.innerHTML=t[2]),o[0]&4099&&y(e,"move",t[1]||t[0]||t[12])},d(t){t&&T(e)}}}function Je(s){let e;function t(c,a){return c[9]?De:Ce}let o=t(s),r=o(s);return{c(){r.c(),e=Ke()},m(c,a){r.m(c,a),L(c,e,a)},p(c,a){o===(o=t(c))&&r?r.p(c,a):(r.d(1),r=o(c),r&&(r.c(),r.m(e.parentNode,e)))},i:ne,o:ne,d(c){c&&T(e),r.d(c)}}}function Ue(s,e,t){let{apiKey:o}=e,{value:r=""}=e,{attachedInternals:c}=e,{startingLatitude:a=37.77493}=e,{startingLongitude:M=-122.41942}=e,{mapType:w="roadmap"}=e,{zoom:I=8}=e,{label:q=""}=e,{labelType:b="inside"}=e,{name:z=""}=e,{id:x=null}=e,{inputFocused:p=!1}=e,{disabled:g=!1}=e,{readonly:d=!1}=e,{placeholder:u=""}=e,{mapId:v}=e,{returnedValue:l="extended"}=e,{enableMap:m=!0}=e,{gestureHandling:C="auto"}=e,{types:D=[]}=e,{componentRestrictions:J}=e,{required:Q=!1}=e,{requiredValidationMessage:U}=e,{resultValidationMessage:W}=e,{validationMessages:O={}}=e;const pe=()=>r,he=c.validity,me=c.validationMessage,ge=()=>c.reportValidity(),ve=()=>c.checkValidity();let E=!1,K,_,V,Z="",X;const k=je();window.initMap=async function(){const{Map:n}=await google.maps.importLibrary("maps");await google.maps.importLibrary("marker");const H={lat:a,lng:M};_=new n(document.getElementById("map"),{center:H,zoom:I,mapTypeId:w,mapId:v,gestureHandling:C});const A={north:H.lat+.1,south:H.lat-.1,east:H.lng+.1,west:H.lng-.1},F=new google.maps.Geocoder,N=V,j={bounds:A,fields:["address_components","formatted_address","geometry","icon","name"],strictBounds:!1,types:D,componentRestrictions:J},P=new google.maps.places.Autocomplete(N,j);P.setFields(["place_id","geometry","name"]),P.addListener("place_changed",()=>{te.close();const B=P.getPlace();B.geometry.viewport?_.fitBounds(B.geometry.viewport):(_.setCenter(B.geometry.location),_.setZoom(13)),P.getPlace().formatted_address,ee(B.geometry.location);const se=Z.split(",",2),ae={lat:parseFloat(se[0]),lng:parseFloat(se[1])};l==="simple"?k("address",{address:B.formatted_address}):l==="extended"&&(k("address",{address:B.formatted_address}),k("latitude",{lat:ae.lat}),k("longitude",{lng:ae.lng}))});const te=new google.maps.InfoWindow,Le=document.getElementById("infowindow-content");te.setContent(Le),_.addListener("click",function(B){ee(B.latLng),be(F)})};function ee(n){K!=null&&(K.map=null),K=new google.maps.marker.AdvancedMarkerElement({position:n,map:_,title:String(n)}),_.panTo(K.position),Z=K.position.lat+", "+K.position.lng}function be(n,H,A){const F=Z.split(",",2),N={lat:parseFloat(F[0]),lng:parseFloat(F[1])};n.geocode({location:N}).then(j=>{j.results[0]?(t(0,r=j.results[0].formatted_address),l==="simple"?k("address",{address:j.results[0].formatted_address}):l==="extended"&&(k("address",{address:j.results[0].formatted_address}),k("latitude",{lat:N.lat}),k("longitude",{lng:N.lng}))):(c.setValidity({customError:!0},W||O.results||"No results found"),k("addressNotFound"))})}function $e(){const n=V.getBoundingClientRect(),H=window.innerHeight-n.bottom,A=420;let F="";H<A?F=`
        bottom: ${window.innerHeight-n.top}px;
        left: ${n.left}px;
      `:F=`
        top: ${n.bottom}px;
        left: ${n.left}px;
      `,t(13,X=F),t(12,E=!E),E&&V.focus()}Ee(async()=>{try{await Se(`https://maps.googleapis.com/maps/api/js?key=${o}&loading=async&libraries=places&callback=initMap`)}catch(n){console.error("Failed to load the Google Maps script",n)}p&&V.focus()});function ye(n){ie[n?"unshift":"push"](()=>{V=n,t(11,V)})}function fe(){r=this.value,t(0,r)}const xe=()=>t(1,p=!0),Me=()=>t(1,p=!1),we=()=>t(12,E=!1);function Ie(n){ie[n?"unshift":"push"](()=>{V=n,t(11,V)})}function Ve(){r=this.value,t(0,r)}const ke=()=>t(1,p=!0),ze=()=>t(1,p=!1);return s.$$set=n=>{"apiKey"in n&&t(15,o=n.apiKey),"value"in n&&t(0,r=n.value),"attachedInternals"in n&&t(16,c=n.attachedInternals),"startingLatitude"in n&&t(17,a=n.startingLatitude),"startingLongitude"in n&&t(18,M=n.startingLongitude),"mapType"in n&&t(19,w=n.mapType),"zoom"in n&&t(20,I=n.zoom),"label"in n&&t(2,q=n.label),"labelType"in n&&t(3,b=n.labelType),"name"in n&&t(4,z=n.name),"id"in n&&t(5,x=n.id),"inputFocused"in n&&t(1,p=n.inputFocused),"disabled"in n&&t(6,g=n.disabled),"readonly"in n&&t(7,d=n.readonly),"placeholder"in n&&t(8,u=n.placeholder),"mapId"in n&&t(21,v=n.mapId),"returnedValue"in n&&t(22,l=n.returnedValue),"enableMap"in n&&t(9,m=n.enableMap),"gestureHandling"in n&&t(23,C=n.gestureHandling),"types"in n&&t(24,D=n.types),"componentRestrictions"in n&&t(25,J=n.componentRestrictions),"required"in n&&t(10,Q=n.required),"requiredValidationMessage"in n&&t(26,U=n.requiredValidationMessage),"resultValidationMessage"in n&&t(27,W=n.resultValidationMessage),"validationMessages"in n&&t(28,O=n.validationMessages)},s.$$.update=()=>{s.$$.dirty[0]&335611905&&(c.checkValidity(),V&&(V.validity.valueMissing?c.setValidity({valueMissing:!0},U||O.required||V.validationMessage,V):c.setValidity({})),c.setFormValue(r),k("value",{value:r}))},[r,p,q,b,z,x,g,d,u,m,Q,V,E,X,$e,o,c,a,M,w,I,v,l,C,D,J,U,W,O,pe,he,me,ge,ve,ye,fe,xe,Me,we,Ie,Ve,ke,ze]}class ce extends Be{constructor(e){super(),Ye(this,e,Ue,Je,_e,{apiKey:15,value:0,attachedInternals:16,startingLatitude:17,startingLongitude:18,mapType:19,zoom:20,label:2,labelType:3,name:4,id:5,inputFocused:1,disabled:6,readonly:7,placeholder:8,mapId:21,returnedValue:22,enableMap:9,gestureHandling:23,types:24,componentRestrictions:25,required:10,requiredValidationMessage:26,resultValidationMessage:27,validationMessages:28,getValue:29,validity:30,validationMessage:31,reportValidity:32,checkValidity:33},Ge,[-1,-1])}get apiKey(){return this.$$.ctx[15]}set apiKey(e){this.$$set({apiKey:e}),h()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),h()}get attachedInternals(){return this.$$.ctx[16]}set attachedInternals(e){this.$$set({attachedInternals:e}),h()}get startingLatitude(){return this.$$.ctx[17]}set startingLatitude(e){this.$$set({startingLatitude:e}),h()}get startingLongitude(){return this.$$.ctx[18]}set startingLongitude(e){this.$$set({startingLongitude:e}),h()}get mapType(){return this.$$.ctx[19]}set mapType(e){this.$$set({mapType:e}),h()}get zoom(){return this.$$.ctx[20]}set zoom(e){this.$$set({zoom:e}),h()}get label(){return this.$$.ctx[2]}set label(e){this.$$set({label:e}),h()}get labelType(){return this.$$.ctx[3]}set labelType(e){this.$$set({labelType:e}),h()}get name(){return this.$$.ctx[4]}set name(e){this.$$set({name:e}),h()}get id(){return this.$$.ctx[5]}set id(e){this.$$set({id:e}),h()}get inputFocused(){return this.$$.ctx[1]}set inputFocused(e){this.$$set({inputFocused:e}),h()}get disabled(){return this.$$.ctx[6]}set disabled(e){this.$$set({disabled:e}),h()}get readonly(){return this.$$.ctx[7]}set readonly(e){this.$$set({readonly:e}),h()}get placeholder(){return this.$$.ctx[8]}set placeholder(e){this.$$set({placeholder:e}),h()}get mapId(){return this.$$.ctx[21]}set mapId(e){this.$$set({mapId:e}),h()}get returnedValue(){return this.$$.ctx[22]}set returnedValue(e){this.$$set({returnedValue:e}),h()}get enableMap(){return this.$$.ctx[9]}set enableMap(e){this.$$set({enableMap:e}),h()}get gestureHandling(){return this.$$.ctx[23]}set gestureHandling(e){this.$$set({gestureHandling:e}),h()}get types(){return this.$$.ctx[24]}set types(e){this.$$set({types:e}),h()}get componentRestrictions(){return this.$$.ctx[25]}set componentRestrictions(e){this.$$set({componentRestrictions:e}),h()}get required(){return this.$$.ctx[10]}set required(e){this.$$set({required:e}),h()}get requiredValidationMessage(){return this.$$.ctx[26]}set requiredValidationMessage(e){this.$$set({requiredValidationMessage:e}),h()}get resultValidationMessage(){return this.$$.ctx[27]}set resultValidationMessage(e){this.$$set({resultValidationMessage:e}),h()}get validationMessages(){return this.$$.ctx[28]}set validationMessages(e){this.$$set({validationMessages:e}),h()}get getValue(){return this.$$.ctx[29]}get validity(){return this.$$.ctx[30]}get validationMessage(){return this.$$.ctx[31]}get reportValidity(){return this.$$.ctx[32]}get checkValidity(){return this.$$.ctx[33]}}try{customElements.define("jp-place-input",Fe(ce,{apiKey:{},value:{},attachedInternals:{},startingLatitude:{},startingLongitude:{},mapType:{},zoom:{},label:{},labelType:{},name:{},id:{},inputFocused:{type:"Boolean"},disabled:{type:"Boolean"},readonly:{type:"Boolean"},placeholder:{},mapId:{},returnedValue:{},enableMap:{type:"Boolean"},gestureHandling:{},types:{},componentRestrictions:{},required:{type:"Boolean"},requiredValidationMessage:{},resultValidationMessage:{},validationMessages:{}},[],["getValue","validity","validationMessage","reportValidity","checkValidity"],!1,s=>{var e;return e=class extends s{constructor(){super(),this.attachedInternals=this.attachInternals(),this.attachedInternals.role="textbox"}},He(e,"formAssociated",!0),e}));}catch{};export{ce as default};
//# sourceMappingURL=place-input.wc.js.map
