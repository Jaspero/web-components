var ce=Object.defineProperty,ue=(i,e,t)=>e in i?ce(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,de=(i,e,t)=>(ue(i,typeof e!="symbol"?e+"":e,t),t);import{c as he,S as fe,i as ve,f as b,s as me,a as ge,e as x,b as I,d as o,t as R,g as k,I as U,o as j,H as Y,n as F,j as w,J as G,k as pe,w as xe,G as ke,l as J,m as we,q as P,h as p,F as ye,r as K,E as D,K as N}from"./svelte.js";import"./index2.js";function $e(i){ge(i,"svelte-19uhka9",`.dropzone.svelte-19uhka9.svelte-19uhka9{position:relative;background-color:#f4f4f4;width:750px;height:500px;border:1px dashed #e6510030}.fullBorder.svelte-19uhka9.svelte-19uhka9{border:1px dashed var(--primary-color)}.info.svelte-19uhka9.svelte-19uhka9{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.info.svelte-19uhka9 a.svelte-19uhka9{color:var(--primary-color);cursor:pointer}.info.svelte-19uhka9 a.svelte-19uhka9:hover{text-decoration:underline}.files.svelte-19uhka9.svelte-19uhka9{height:100%;display:flex;flex-wrap:wrap;overflow:auto}.add-more.svelte-19uhka9.svelte-19uhka9{position:absolute;display:flex;justify-content:center;align-items:center;cursor:pointer;width:40px;height:40px;right:-20px;bottom:-20px;border-radius:50%;background-color:var(--primary-color);fill:var(--text-on-primary)}.add-more.svelte-19uhka9 svg.svelte-19uhka9{height:60%}.file.svelte-19uhka9.svelte-19uhka9{position:relative;display:flex;flex-direction:column;align-items:center;width:23%;margin:0 1%}.file-name.svelte-19uhka9.svelte-19uhka9{width:100%;text-align:left;font-size:12px;font-weight:500;line-height:1.3;margin-bottom:5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.file-info.svelte-19uhka9.svelte-19uhka9{width:100%;padding:0 5% 0 0;display:flex;justify-content:space-between;color:#757575;font-size:11px;font-weight:400}.file-remove.svelte-19uhka9.svelte-19uhka9{cursor:pointer;position:absolute;right:0;top:0}.file-icon.svelte-19uhka9.svelte-19uhka9{display:flex;justify-content:center;align-items:center;margin:10px 0;width:150px;height:150px;overflow:hidden;background-color:var(--primary-color);fill:var(--text-on-primary)}.file-icon.svelte-19uhka9 img.svelte-19uhka9{object-fit:cover;min-width:100%;min-height:100%;user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.file-icon.svelte-19uhka9 svg.svelte-19uhka9{height:50%}.loader.svelte-19uhka9.svelte-19uhka9{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.spinner.svelte-19uhka9.svelte-19uhka9{width:150px;height:150px;border-radius:50%;border:9px solid var(--primary-color);animation:svelte-19uhka9-spinner-bulqg1 0.8s infinite linear alternate,
      svelte-19uhka9-spinner-oaa3wk 1.6s infinite linear}@keyframes svelte-19uhka9-spinner-bulqg1{0%{clip-path:polygon(50% 50%, 0 0, 50% 0%, 50% 0%, 50% 0%, 50% 0%, 50% 0%)}12.5%{clip-path:polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 0%, 100% 0%, 100% 0%)}25%{clip-path:polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 100%, 100% 100%, 100% 100%)}50%{clip-path:polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 100%, 50% 100%, 0% 100%)}62.5%{clip-path:polygon(50% 50%, 100% 0, 100% 0%, 100% 0%, 100% 100%, 50% 100%, 0% 100%)}75%{clip-path:polygon(50% 50%, 100% 100%, 100% 100%, 100% 100%, 100% 100%, 50% 100%, 0% 100%)}100%{clip-path:polygon(50% 50%, 50% 100%, 50% 100%, 50% 100%, 50% 100%, 50% 100%, 0% 100%)}}@keyframes svelte-19uhka9-spinner-oaa3wk{0%{transform:scaleY(1) rotate(0deg)}49.99%{transform:scaleY(1) rotate(135deg)}50%{transform:scaleY(-1) rotate(0deg)}100%{transform:scaleY(-1) rotate(-135deg)}}`)}function _(i,e,t){const s=i.slice();return s[34]=e[t],s[36]=t,s}function Ve(i){let e,t,s,l,f,d=J(i[4]),c=[];for(let r=0;r<d.length;r+=1)c[r]=Q(_(i,d,r));return{c(){e=x("div");for(let r=0;r<c.length;r+=1)c[r].c();t=I(),s=x("button"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512" class="svelte-19uhka9"><path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"></path></svg>',o(e,"class","files svelte-19uhka9"),o(s,"class","add-more svelte-19uhka9")},m(r,m){k(r,e,m);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(e,null);k(r,t,m),k(r,s,m),l||(f=j(s,"click",Y(i[25])),l=!0)},p(r,m){if(m[0]&272){d=J(r[4]);let u;for(u=0;u<d.length;u+=1){const g=_(r,d,u);c[u]?c[u].p(g,m):(c[u]=Q(g),c[u].c(),c[u].m(e,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=d.length}},d(r){r&&(w(e),w(t),w(s)),we(c,r),l=!1,f()}}}function Me(i){let e,t,s,l,f,d,c;return{c(){e=x("div"),t=x("div"),s=P("Drop files here or "),l=x("a"),l.textContent="browse files",o(l,"class","svelte-19uhka9"),o(e,"class","info svelte-19uhka9"),e.hidden=f=i[4].length!=0},m(r,m){k(r,e,m),p(e,t),p(t,s),p(t,l),d||(c=j(l,"click",i[23]),d=!0)},p(r,m){m[0]&16&&f!==(f=r[4].length!=0)&&(e.hidden=f)},d(r){r&&w(e),d=!1,c()}}}function be(i){let e,t,s;return{c(){e=x("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="2em" viewBox="0 0 384 512"><path d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"></path></svg> <div>Drop your files here</div>',o(e,"class","info svelte-19uhka9")},m(l,f){k(l,e,f),t||(s=[j(e,"dragleave",i[20]),j(e,"dragend",i[21]),j(e,"drop",Y(i[22]))],t=!0)},p:F,d(l){l&&w(e),t=!1,G(s)}}}function ze(i){let e;return{c(){e=x("div"),e.innerHTML='<div class="spinner svelte-19uhka9"></div>',o(e,"class","loader svelte-19uhka9")},m(t,s){k(t,e,s)},p:F,d(t){t&&w(e)}}}function He(i){let e,t;return{c(){e=D("svg"),t=D("path"),o(t,"d","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"height","1em"),o(e,"viewBox","0 0 384 512"),o(e,"class","svelte-19uhka9")},m(s,l){k(s,e,l),p(e,t)},p:F,d(s){s&&w(e)}}}function Le(i){let e,t;return{c(){e=D("svg"),t=D("path"),o(t,"d","M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"height","1em"),o(e,"viewBox","0 0 640 512"),o(e,"class","svelte-19uhka9")},m(s,l){k(s,e,l),p(e,t)},p:F,d(s){s&&w(e)}}}function je(i){let e,t,s;return{c(){e=x("img"),N(e.src,t=i[34].src)||o(e,"src",t),o(e,"alt",s=i[34].name),o(e,"class","svelte-19uhka9")},m(l,f){k(l,e,f)},p(l,f){f[0]&16&&!N(e.src,t=l[34].src)&&o(e,"src",t),f[0]&16&&s!==(s=l[34].name)&&o(e,"alt",s)},d(l){l&&w(e)}}}function Q(i){let e,t,s,l,f,d,c=i[34].name+"",r,m,u,g,h=(i[34].size||"")+"",n,V,z,M=i[34].saved?"saved":"",T,S,H,C;function E(){return i[24](i[36])}function A($,L){return $[34].src?je:$[34].external?Le:He}let B=A(i),y=B(i);return{c(){e=x("div"),t=x("button"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"></path></svg>',s=I(),l=x("div"),y.c(),f=I(),d=x("div"),r=P(c),m=I(),u=x("div"),g=x("span"),n=P(h),V=I(),z=x("span"),T=P(M),S=I(),o(t,"class","file-remove svelte-19uhka9"),o(l,"class","file-icon svelte-19uhka9"),o(d,"class","file-name svelte-19uhka9"),ye(z,"color","rgb(26 151 26)"),o(u,"class","file-info svelte-19uhka9"),o(e,"class","file svelte-19uhka9")},m($,L){k($,e,L),p(e,t),p(e,s),p(e,l),y.m(l,null),p(e,f),p(e,d),p(d,r),p(e,m),p(e,u),p(u,g),p(g,n),p(u,V),p(u,z),p(z,T),p(e,S),H||(C=j(t,"click",Y(E)),H=!0)},p($,L){i=$,B===(B=A(i))&&y?y.p(i,L):(y.d(1),y=B(i),y&&(y.c(),y.m(l,null))),L[0]&16&&c!==(c=i[34].name+"")&&K(r,c),L[0]&16&&h!==(h=(i[34].size||"")+"")&&K(n,h),L[0]&16&&M!==(M=i[34].saved?"saved":"")&&K(T,M)},d($){$&&w(e),y.d(),H=!1,C()}}}function Ie(i){let e,t,s,l,f,d,c,r;function m(h,n){return h[6]?ze:h[7]?be:h[4].length==0?Me:Ve}let u=m(i),g=u(i);return{c(){e=x("div"),g.c(),t=I(),s=x("input"),f=I(),d=x("input"),o(e,"class","dropzone svelte-19uhka9"),R(e,"fullBorder",i[7]),o(s,"type","file"),s.multiple=!0,o(s,"accept",l=i[3]&&i[3].acceptedFiles),s.hidden=!0,o(d,"type","text"),o(d,"id",i[1]),o(d,"name",i[2]),d.hidden=!0},m(h,n){k(h,e,n),g.m(e,null),k(h,t,n),k(h,s,n),i[27](s),k(h,f,n),k(h,d,n),U(d,i[0]),c||(r=[j(e,"dragover",Y(i[26])),j(s,"change",i[28]),j(d,"input",i[29])],c=!0)},p(h,n){u===(u=m(h))&&g?g.p(h,n):(g.d(1),g=u(h),g&&(g.c(),g.m(e,null))),n[0]&128&&R(e,"fullBorder",h[7]),n[0]&8&&l!==(l=h[3]&&h[3].acceptedFiles)&&o(s,"accept",l),n[0]&2&&o(d,"id",h[1]),n[0]&4&&o(d,"name",h[2]),n[0]&1&&d.value!==h[0]&&U(d,h[0])},i:F,o:F,d(h){h&&(w(e),w(t),w(s),w(f),w(d)),g.d(),i[27](null),c=!1,G(r)}}}function Be(i,e,t){let{attachedInternals:s}=e,{value:l=""}=e,{id:f=""}=e,{name:d=""}=e,{service:c}=e,{maxfiles:r=null}=e,{minfiles:m=null}=e,{maxfilesValidationMessage:u}=e,{minfilesValidationMessage:g}=e,{validationMessages:h={}}=e,n=[],V,z=!0,M=!1;const T=()=>l,S=()=>s.reportValidity(),H=pe();async function C(){t(6,z=!0);try{await Promise.allSettled(n.map(async a=>{if(!a.saved){const v=await c.uploadFile(a.file);a.saved=!0,a.url=v}})),t(4,n),t(0,l=n.filter(a=>a.saved).map(a=>a.url).join(","))}catch(a){console.log(a)}finally{t(6,z=!1)}}function E(a){n[a].saved&&H("removed",{url:n[a].url}),n.splice(a,1),t(4,n),t(0,l=n.filter(v=>v.saved).map(v=>v.url).join(","))}function A(a){a.target.files.length&&(t(4,n=n.concat($(Array.from(a.target.files)))),H("change",{unsaved:n.filter(v=>!v.saved).length}),t(5,V.value=null,V))}function B(a){a.dataTransfer.files.length&&(t(4,n=n.concat($(Array.from(a.dataTransfer.files)))),H("change",{unsaved:n.filter(v=>!v.saved).length})),t(7,M=!1)}const y=a=>{if(a<1024)return`${a} bytes`;if(a>=1024&&a<1048576)return`${(a/1024).toFixed(1)} KB`;if(a>=1048576)return`${(a/1048576).toFixed(1)} MB`},$=a=>a.filter(v=>c&&c.maxSize?(H("rejected",{file:v.name,code:"maxSize"}),v.size<c.maxSize):!0).map(v=>{let q={name:v.name,size:y(v.size),file:v,saved:!1};return v.type.split("/")[0]==="image"&&(q.src=URL.createObjectURL(v)),q}),L=(a,v)=>new File([a],v);xe(async()=>{if(l){Array.isArray(l)&&t(0,l=l.join(","));const a=l.split(",");await Promise.allSettled(a.map(async v=>{const q=await fetch(v),O=L(q.blob(),v);let oe={name:O.name,size:"",file:O,saved:!0,url:v,external:!0};n.push(oe)})),t(4,n)}t(6,z=!1)});const X=()=>t(7,M=!1),Z=()=>t(7,M=!1),ee=a=>B(a),te=()=>V.click(),ae=a=>E(a),ie=()=>V.click(),se=()=>t(7,M=!0);function le(a){ke[a?"unshift":"push"](()=>{V=a,t(5,V)})}const ne=a=>A(a);function re(){l=this.value,t(0,l)}return i.$$set=a=>{"attachedInternals"in a&&t(11,s=a.attachedInternals),"value"in a&&t(0,l=a.value),"id"in a&&t(1,f=a.id),"name"in a&&t(2,d=a.name),"service"in a&&t(3,c=a.service),"maxfiles"in a&&t(12,r=a.maxfiles),"minfiles"in a&&t(13,m=a.minfiles),"maxfilesValidationMessage"in a&&t(14,u=a.maxfilesValidationMessage),"minfilesValidationMessage"in a&&t(15,g=a.minfilesValidationMessage),"validationMessages"in a&&t(16,h=a.validationMessages)},i.$$.update=()=>{i.$$.dirty[0]&129041&&(m&&n.length<m?s.setValidity({customError:!0},g||h.minfiles||"Not enough files."):r&&n.length>r?s.setValidity({customError:!0},u||h.maxfiles||"Too many files."):s.setValidity({}),s.checkValidity(),s.setFormValue(l),H("value",{value:l}))},[l,f,d,c,n,V,z,M,E,A,B,s,r,m,u,g,h,T,S,C,X,Z,ee,te,ae,ie,se,le,ne,re]}class W extends fe{constructor(e){super(),ve(this,e,Be,Ie,me,{attachedInternals:11,value:0,id:1,name:2,service:3,maxfiles:12,minfiles:13,maxfilesValidationMessage:14,minfilesValidationMessage:15,validationMessages:16,getValue:17,reportValidity:18,save:19},$e,[-1,-1])}get attachedInternals(){return this.$$.ctx[11]}set attachedInternals(e){this.$$set({attachedInternals:e}),b()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),b()}get id(){return this.$$.ctx[1]}set id(e){this.$$set({id:e}),b()}get name(){return this.$$.ctx[2]}set name(e){this.$$set({name:e}),b()}get service(){return this.$$.ctx[3]}set service(e){this.$$set({service:e}),b()}get maxfiles(){return this.$$.ctx[12]}set maxfiles(e){this.$$set({maxfiles:e}),b()}get minfiles(){return this.$$.ctx[13]}set minfiles(e){this.$$set({minfiles:e}),b()}get maxfilesValidationMessage(){return this.$$.ctx[14]}set maxfilesValidationMessage(e){this.$$set({maxfilesValidationMessage:e}),b()}get minfilesValidationMessage(){return this.$$.ctx[15]}set minfilesValidationMessage(e){this.$$set({minfilesValidationMessage:e}),b()}get validationMessages(){return this.$$.ctx[16]}set validationMessages(e){this.$$set({validationMessages:e}),b()}get getValue(){return this.$$.ctx[17]}get reportValidity(){return this.$$.ctx[18]}get save(){return this.$$.ctx[19]}}try{customElements.define("jp-file-list",he(W,{attachedInternals:{},value:{},id:{},name:{},service:{},maxfiles:{},minfiles:{},maxfilesValidationMessage:{},minfilesValidationMessage:{},validationMessages:{}},[],["getValue","reportValidity","save"],!1,i=>{var e;return e=class extends i{constructor(){super(),this.attachedInternals=this.attachInternals()}},de(e,"formAssociated",!0),e}));}catch{};export{W as default};
