var ce=Object.defineProperty,de=(s,e,t)=>e in s?ce(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,fe=(s,e,t)=>(de(s,typeof e!="symbol"?e+"":e,t),t);import{c as ve,S as he,i as me,f as M,s as ge,a as pe,e as x,b as I,d as o,t as R,g as k,I as U,o as L,H as Y,n as T,j,J as G,k as ue,w as xe,G as ke,l as J,m as je,q as P,h as u,F as we,r as K,E as D,K as N}from"./svelte.js";import"./index2.js";function ye(s){pe(s,"svelte-rj2ktt",`.dropzone.svelte-rj2ktt.svelte-rj2ktt{position:relative;background-color:#f4f4f4;width:750px;height:500px;border:1px dashed #e6510030}.fullBorder.svelte-rj2ktt.svelte-rj2ktt{border:1px dashed var(--primary-color)}.info.svelte-rj2ktt.svelte-rj2ktt{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.info.svelte-rj2ktt a.svelte-rj2ktt{color:var(--primary-color);cursor:pointer}.info.svelte-rj2ktt a.svelte-rj2ktt:hover{text-decoration:underline}.files.svelte-rj2ktt.svelte-rj2ktt{height:100%;display:flex;flex-wrap:wrap;overflow:auto}.add-more.svelte-rj2ktt.svelte-rj2ktt{position:absolute;display:flex;justify-content:center;align-items:center;cursor:pointer;width:40px;height:40px;right:-20px;bottom:-20px;border-radius:50%;background-color:var(--primary-color);fill:var(--text-on-primary)}.add-more.svelte-rj2ktt svg.svelte-rj2ktt{height:60%}.file.svelte-rj2ktt.svelte-rj2ktt{position:relative;display:flex;flex-direction:column;align-items:center;width:23%;margin:0 1%}.file-name.svelte-rj2ktt.svelte-rj2ktt{width:100%;text-align:left;font-size:12px;font-weight:500;line-height:1.3;margin-bottom:5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.file-info.svelte-rj2ktt.svelte-rj2ktt{width:100%;padding:0 5% 0 0;display:flex;justify-content:space-between;color:#757575;font-size:11px;font-weight:400}.file-remove.svelte-rj2ktt.svelte-rj2ktt{cursor:pointer;position:absolute;right:0;top:0}.file-icon.svelte-rj2ktt.svelte-rj2ktt{display:flex;justify-content:center;align-items:center;margin:10px 0;width:150px;height:150px;overflow:hidden;background-color:var(--primary-color);fill:var(--text-on-primary)}.file-icon.svelte-rj2ktt img.svelte-rj2ktt{object-fit:cover;min-width:100%;min-height:100%;user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.file-icon.svelte-rj2ktt svg.svelte-rj2ktt{height:50%}.loader.svelte-rj2ktt.svelte-rj2ktt{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.spinner.svelte-rj2ktt.svelte-rj2ktt{width:150px;height:150px;border-radius:50%;border:9px solid var(--primary-color);animation:svelte-rj2ktt-spinner-bulqg1 0.8s infinite linear alternate,
      svelte-rj2ktt-spinner-oaa3wk 1.6s infinite linear}@keyframes svelte-rj2ktt-spinner-bulqg1{0%{clip-path:polygon(50% 50%, 0 0, 50% 0%, 50% 0%, 50% 0%, 50% 0%, 50% 0%)}12.5%{clip-path:polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 0%, 100% 0%, 100% 0%)}25%{clip-path:polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 100%, 100% 100%, 100% 100%)}50%{clip-path:polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 100%, 50% 100%, 0% 100%)}62.5%{clip-path:polygon(50% 50%, 100% 0, 100% 0%, 100% 0%, 100% 100%, 50% 100%, 0% 100%)}75%{clip-path:polygon(50% 50%, 100% 100%, 100% 100%, 100% 100%, 100% 100%, 50% 100%, 0% 100%)}100%{clip-path:polygon(50% 50%, 50% 100%, 50% 100%, 50% 100%, 50% 100%, 50% 100%, 0% 100%)}}@keyframes svelte-rj2ktt-spinner-oaa3wk{0%{transform:scaleY(1) rotate(0deg)}49.99%{transform:scaleY(1) rotate(135deg)}50%{transform:scaleY(-1) rotate(0deg)}100%{transform:scaleY(-1) rotate(-135deg)}}`)}function _(s,e,t){const a=s.slice();return a[34]=e[t],a[36]=t,a}function $e(s){let e,t,a,n,h,f=J(s[4]),c=[];for(let r=0;r<f.length;r+=1)c[r]=Q(_(s,f,r));return{c(){e=x("div");for(let r=0;r<c.length;r+=1)c[r].c();t=I(),a=x("button"),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512" class="svelte-rj2ktt"><path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"></path></svg>',o(e,"class","files svelte-rj2ktt"),o(a,"class","add-more svelte-rj2ktt")},m(r,g){k(r,e,g);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(e,null);k(r,t,g),k(r,a,g),n||(h=L(a,"click",Y(s[25])),n=!0)},p(r,g){if(g[0]&272){f=J(r[4]);let d;for(d=0;d<f.length;d+=1){const p=_(r,f,d);c[d]?c[d].p(p,g):(c[d]=Q(p),c[d].c(),c[d].m(e,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=f.length}},d(r){r&&(j(e),j(t),j(a)),je(c,r),n=!1,h()}}}function Ve(s){let e,t,a,n,h,f,c;return{c(){e=x("div"),t=x("div"),a=P("Drop files here or "),n=x("a"),n.textContent="browse files",o(n,"class","svelte-rj2ktt"),o(e,"class","info svelte-rj2ktt"),e.hidden=h=s[4].length!=0},m(r,g){k(r,e,g),u(e,t),u(t,a),u(t,n),f||(c=L(n,"click",s[23]),f=!0)},p(r,g){g[0]&16&&h!==(h=r[4].length!=0)&&(e.hidden=h)},d(r){r&&j(e),f=!1,c()}}}function Me(s){let e,t,a;return{c(){e=x("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="2em" viewBox="0 0 384 512"><path d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"></path></svg> <div>Drop your files here</div>',o(e,"class","info svelte-rj2ktt")},m(n,h){k(n,e,h),t||(a=[L(e,"dragleave",s[20]),L(e,"dragend",s[21]),L(e,"drop",Y(s[22]))],t=!0)},p:T,d(n){n&&j(e),t=!1,G(a)}}}function be(s){let e;return{c(){e=x("div"),e.innerHTML='<div class="spinner svelte-rj2ktt"></div>',o(e,"class","loader svelte-rj2ktt")},m(t,a){k(t,e,a)},p:T,d(t){t&&j(e)}}}function ze(s){let e,t;return{c(){e=D("svg"),t=D("path"),o(t,"d","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"height","1em"),o(e,"viewBox","0 0 384 512"),o(e,"class","svelte-rj2ktt")},m(a,n){k(a,e,n),u(e,t)},p:T,d(a){a&&j(e)}}}function He(s){let e,t;return{c(){e=D("svg"),t=D("path"),o(t,"d","M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"height","1em"),o(e,"viewBox","0 0 640 512"),o(e,"class","svelte-rj2ktt")},m(a,n){k(a,e,n),u(e,t)},p:T,d(a){a&&j(e)}}}function Le(s){let e,t,a;return{c(){e=x("img"),N(e.src,t=s[34].src)||o(e,"src",t),o(e,"alt",a=s[34].name),o(e,"class","svelte-rj2ktt")},m(n,h){k(n,e,h)},p(n,h){h[0]&16&&!N(e.src,t=n[34].src)&&o(e,"src",t),h[0]&16&&a!==(a=n[34].name)&&o(e,"alt",a)},d(n){n&&j(e)}}}function Q(s){let e,t,a,n,h,f,c=s[34].name+"",r,g,d,p,v=(s[34].size||"")+"",l,$,b,V=s[34].saved?"saved":"",F,C,z,A;function E(){return s[24](s[36])}function S(y,H){return y[34].src?Le:y[34].external?He:ze}let B=S(s),w=B(s);return{c(){e=x("div"),t=x("button"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"></path></svg>',a=I(),n=x("div"),w.c(),h=I(),f=x("div"),r=P(c),g=I(),d=x("div"),p=x("span"),l=P(v),$=I(),b=x("span"),F=P(V),C=I(),o(t,"class","file-remove svelte-rj2ktt"),o(n,"class","file-icon svelte-rj2ktt"),o(f,"class","file-name svelte-rj2ktt"),we(b,"color","rgb(26 151 26)"),o(d,"class","file-info svelte-rj2ktt"),o(e,"class","file svelte-rj2ktt")},m(y,H){k(y,e,H),u(e,t),u(e,a),u(e,n),w.m(n,null),u(e,h),u(e,f),u(f,r),u(e,g),u(e,d),u(d,p),u(p,l),u(d,$),u(d,b),u(b,F),u(e,C),z||(A=L(t,"click",Y(E)),z=!0)},p(y,H){s=y,B===(B=S(s))&&w?w.p(s,H):(w.d(1),w=B(s),w&&(w.c(),w.m(n,null))),H[0]&16&&c!==(c=s[34].name+"")&&K(r,c),H[0]&16&&v!==(v=(s[34].size||"")+"")&&K(l,v),H[0]&16&&V!==(V=s[34].saved?"saved":"")&&K(F,V)},d(y){y&&j(e),w.d(),z=!1,A()}}}function Ie(s){let e,t,a,n,h,f,c,r;function g(v,l){return v[6]?be:v[7]?Me:v[4].length==0?Ve:$e}let d=g(s),p=d(s);return{c(){e=x("div"),p.c(),t=I(),a=x("input"),h=I(),f=x("input"),o(e,"class","dropzone svelte-rj2ktt"),R(e,"fullBorder",s[7]),o(a,"type","file"),a.multiple=!0,o(a,"accept",n=s[3]&&s[3].acceptedFiles),a.hidden=!0,o(f,"type","text"),o(f,"id",s[1]),o(f,"name",s[2]),f.hidden=!0},m(v,l){k(v,e,l),p.m(e,null),k(v,t,l),k(v,a,l),s[27](a),k(v,h,l),k(v,f,l),U(f,s[0]),c||(r=[L(e,"dragover",Y(s[26])),L(a,"change",s[28]),L(f,"input",s[29])],c=!0)},p(v,l){d===(d=g(v))&&p?p.p(v,l):(p.d(1),p=d(v),p&&(p.c(),p.m(e,null))),l[0]&128&&R(e,"fullBorder",v[7]),l[0]&8&&n!==(n=v[3]&&v[3].acceptedFiles)&&o(a,"accept",n),l[0]&2&&o(f,"id",v[1]),l[0]&4&&o(f,"name",v[2]),l[0]&1&&f.value!==v[0]&&U(f,v[0])},i:T,o:T,d(v){v&&(j(e),j(t),j(a),j(h),j(f)),p.d(),s[27](null),c=!1,G(r)}}}function Be(s,e,t){let{attachedInternals:a}=e,{value:n=""}=e,{id:h=""}=e,{name:f=""}=e,{service:c}=e,{maxfiles:r=null}=e,{minfiles:g=null}=e,{maxfilesValidationMessage:d}=e,{minfilesValidationMessage:p}=e,{validationMessages:v={}}=e,l=[],$,b=!0,V=!1;const F=()=>n,C=()=>a.reportValidity(),z=ue();async function A(){t(6,b=!0);try{await Promise.allSettled(l.map(async i=>{if(!i.saved){const m=await c.uploadFile(i.file);i.saved=!0,i.url=m}})),t(4,l),t(0,n=l.filter(i=>i.saved).map(i=>i.url).join(","))}catch(i){console.log(i)}finally{t(6,b=!1)}}function E(i){l[i].saved&&z("removed",{url:l[i].url}),l.splice(i,1),t(4,l),t(0,n=l.filter(m=>m.saved).map(m=>m.url).join(","))}function S(i){i.target.files.length&&(t(4,l=l.concat(y(Array.from(i.target.files)))),z("change",{unsaved:l.filter(m=>!m.saved).length}),t(5,$.value=null,$))}function B(i){i.dataTransfer.files.length&&(t(4,l=l.concat(y(Array.from(i.dataTransfer.files)))),z("change",{unsaved:l.filter(m=>!m.saved).length})),t(7,V=!1)}const w=i=>{if(i<1024)return`${i} bytes`;if(i>=1024&&i<1048576)return`${(i/1024).toFixed(1)} KB`;if(i>=1048576)return`${(i/1048576).toFixed(1)} MB`},y=i=>i.filter(m=>c&&c.maxSize?(z("rejected",{file:m.name,code:"maxSize"}),m.size<c.maxSize):!0).map(m=>{let q={name:m.name,size:w(m.size),file:m,saved:!1};return m.type.split("/")[0]==="image"&&(q.src=URL.createObjectURL(m)),q}),H=(i,m)=>new File([i],m);xe(async()=>{if(n){const i=n.split(",");await Promise.allSettled(i.map(async m=>{const q=await fetch(m),O=H(q.blob(),m);let oe={name:O.name,size:"",file:O,saved:!0,url:m,external:!0};l.push(oe)})),t(4,l)}t(6,b=!1)});const X=()=>t(7,V=!1),Z=()=>t(7,V=!1),ee=i=>B(i),te=()=>$.click(),ie=i=>E(i),se=()=>$.click(),ae=()=>t(7,V=!0);function ne(i){ke[i?"unshift":"push"](()=>{$=i,t(5,$)})}const le=i=>S(i);function re(){n=this.value,t(0,n)}return s.$$set=i=>{"attachedInternals"in i&&t(11,a=i.attachedInternals),"value"in i&&t(0,n=i.value),"id"in i&&t(1,h=i.id),"name"in i&&t(2,f=i.name),"service"in i&&t(3,c=i.service),"maxfiles"in i&&t(12,r=i.maxfiles),"minfiles"in i&&t(13,g=i.minfiles),"maxfilesValidationMessage"in i&&t(14,d=i.maxfilesValidationMessage),"minfilesValidationMessage"in i&&t(15,p=i.minfilesValidationMessage),"validationMessages"in i&&t(16,v=i.validationMessages)},s.$$.update=()=>{s.$$.dirty[0]&129041&&(g&&l.length<g?a.setValidity({customError:!0},p||v.minfiles||"Not enough files."):r&&l.length>r?a.setValidity({customError:!0},d||v.maxfiles||"Too many files."):a.setValidity({}),a.checkValidity(),a.setFormValue(n),z("value",{value:n}))},[n,h,f,c,l,$,b,V,E,S,B,a,r,g,d,p,v,F,C,A,X,Z,ee,te,ie,se,ae,ne,le,re]}class W extends he{constructor(e){super(),me(this,e,Be,Ie,ge,{attachedInternals:11,value:0,id:1,name:2,service:3,maxfiles:12,minfiles:13,maxfilesValidationMessage:14,minfilesValidationMessage:15,validationMessages:16,getValue:17,reportValidity:18,save:19},ye,[-1,-1])}get attachedInternals(){return this.$$.ctx[11]}set attachedInternals(e){this.$$set({attachedInternals:e}),M()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),M()}get id(){return this.$$.ctx[1]}set id(e){this.$$set({id:e}),M()}get name(){return this.$$.ctx[2]}set name(e){this.$$set({name:e}),M()}get service(){return this.$$.ctx[3]}set service(e){this.$$set({service:e}),M()}get maxfiles(){return this.$$.ctx[12]}set maxfiles(e){this.$$set({maxfiles:e}),M()}get minfiles(){return this.$$.ctx[13]}set minfiles(e){this.$$set({minfiles:e}),M()}get maxfilesValidationMessage(){return this.$$.ctx[14]}set maxfilesValidationMessage(e){this.$$set({maxfilesValidationMessage:e}),M()}get minfilesValidationMessage(){return this.$$.ctx[15]}set minfilesValidationMessage(e){this.$$set({minfilesValidationMessage:e}),M()}get validationMessages(){return this.$$.ctx[16]}set validationMessages(e){this.$$set({validationMessages:e}),M()}get getValue(){return this.$$.ctx[17]}get reportValidity(){return this.$$.ctx[18]}get save(){return this.$$.ctx[19]}}try{customElements.define("jp-file-list",ve(W,{attachedInternals:{},value:{},id:{},name:{},service:{},maxfiles:{},minfiles:{},maxfilesValidationMessage:{},minfilesValidationMessage:{},validationMessages:{}},[],["getValue","reportValidity","save"],!1,s=>{var e;return e=class extends s{constructor(){super(),this.attachedInternals=this.attachInternals()}},fe(e,"formAssociated",!0),e}));}catch{};export{W as default};
