import{c as P,S as Q,i as R,f as L,s as U,a as V,e as h,b as T,d as $,g as v,h as k,n as p,j as w,k as W,l as H,m as j,t as z,o as E,p as X,q as Y,r as Z,u as N,v as _}from"./svelte.js";import"./index2.js";import{g as q}from"./json-pointer.js";function ee(o){V(o,"svelte-1epfbga",".table-card.svelte-1epfbga{background-color:var(--background-primary);border-radius:.25rem;box-shadow:0 3px 12px rgba(0,0,0,.16)}.table-container.svelte-1epfbga{overflow-x:auto;width:100%}table.svelte-1epfbga{width:100%}th.svelte-1epfbga,td.svelte-1epfbga{text-align:left;white-space:nowrap;font-size:.75rem;font-weight:normal;padding:.5rem;border-bottom:1px solid rgba(0,0,0,.16)}th.svelte-1epfbga{opacity:.75}.cell.svelte-1epfbga{display:block;max-width:64ch;overflow:hidden;text-overflow:ellipsis}")}function S(o,r,l){const e=o.slice();return e[9]=r[l],e[11]=l,e}function A(o,r,l){const e=o.slice();return e[12]=r[l],e}function B(o,r,l){const e=o.slice();return e[12]=r[l],e}function D(o){let r,l=H(o[2]),e=[];for(let t=0;t<l.length;t+=1)e[t]=G(B(o,l,t));return{c(){r=h("tr");for(let t=0;t<e.length;t+=1)e[t].c()},m(t,n){v(t,r,n);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,null)},p(t,n){if(n&22){l=H(t[2]);let a;for(a=0;a<l.length;a+=1){const c=B(t,l,a);e[a]?e[a].p(c,n):(e[a]=G(c),e[a].c(),e[a].m(r,null))}for(;a<e.length;a+=1)e[a].d(1);e.length=l.length}},d(t){t&&w(r),j(e,t)}}}function F(o){let r,l=o[1].direction==="asc"?"\u2191":"\u2193",e;return{c(){r=h("span"),e=Y(l)},m(t,n){v(t,r,n),k(r,e)},p(t,n){n&2&&l!==(l=t[1].direction==="asc"?"\u2191":"\u2193")&&Z(e,l)},d(t){t&&w(r)}}}function G(o){var r;let l,e,t=o[12].label+"",n,a,c,u,i=((r=o[1])==null?void 0:r.key)===o[12].key&&F(o);function C(){return o[6](o[12])}return{c(){l=h("th"),e=h("span"),n=T(),i&&i.c(),a=T(),$(l,"class","svelte-1epfbga"),z(l,"sortable",o[12].sortable)},m(y,s){v(y,l,s),k(l,e),e.innerHTML=t,k(l,n),i&&i.m(l,null),k(l,a),c||(u=E(l,"click",C),c=!0)},p(y,s){var d;o=y,s&4&&t!==(t=o[12].label+"")&&(e.innerHTML=t),((d=o[1])==null?void 0:d.key)===o[12].key?i?i.p(o,s):(i=F(o),i.c(),i.m(l,a)):i&&(i.d(1),i=null),s&4&&z(l,"sortable",o[12].sortable)},d(y){y&&w(l),i&&i.d(),c=!1,u()}}}function I(o){let r,l=H(o[0]),e=[];for(let t=0;t<l.length;t+=1)e[t]=K(S(o,l,t));return{c(){for(let t=0;t<e.length;t+=1)e[t].c();r=X()},m(t,n){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,n);v(t,r,n)},p(t,n){if(n&45){l=H(t[0]);let a;for(a=0;a<l.length;a+=1){const c=S(t,l,a);e[a]?e[a].p(c,n):(e[a]=K(c),e[a].c(),e[a].m(r.parentNode,r))}for(;a<e.length;a+=1)e[a].d(1);e.length=l.length}},d(t){t&&w(r),j(e,t)}}}function te(o){return{c:p,m:p,p,d:p}}function ne(o){let r,l=o[15]+"";return{c(){r=h("span"),$(r,"class","cell svelte-1epfbga")},m(e,t){v(e,r,t),r.innerHTML=l},p(e,t){t&5&&l!==(l=e[15]+"")&&(r.innerHTML=l)},d(e){e&&w(r)}}}function re(o){return{c:p,m:p,p,d:p}}function J(o){let r,l,e,t,n={ctx:o,current:null,token:null,hasCatch:!1,pending:re,then:ne,catch:te,value:15};N(l=o[3](o[12],o[9],o[11]),n);function a(){return o[7](o[9],o[11],o[12])}return{c(){r=h("td"),n.block.c(),$(r,"class","svelte-1epfbga")},m(c,u){v(c,r,u),n.block.m(r,n.anchor=null),n.mount=()=>r,n.anchor=null,e||(t=E(r,"click",a),e=!0)},p(c,u){o=c,n.ctx=o,u&5&&l!==(l=o[3](o[12],o[9],o[11]))&&N(l,n)||_(n,o,u)},d(c){c&&w(r),n.block.d(),n.token=null,n=null,e=!1,t()}}}function K(o){let r,l,e=H(o[2]),t=[];for(let n=0;n<e.length;n+=1)t[n]=J(A(o,e,n));return{c(){r=h("tr");for(let n=0;n<t.length;n+=1)t[n].c();l=T()},m(n,a){v(n,r,a);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(r,null);k(r,l)},p(n,a){if(a&45){e=H(n[2]);let c;for(c=0;c<e.length;c+=1){const u=A(n,e,c);t[c]?t[c].p(u,a):(t[c]=J(u),t[c].c(),t[c].m(r,l))}for(;c<t.length;c+=1)t[c].d(1);t.length=e.length}},d(n){n&&w(r),j(t,n)}}}function le(o){let r,l,e,t,n=o[2]&&D(o),a=o[0]&&I(o);return{c(){r=h("div"),l=h("div"),e=h("table"),n&&n.c(),t=T(),a&&a.c(),$(e,"class","svelte-1epfbga"),$(l,"class","table-container svelte-1epfbga"),$(r,"class","table-card svelte-1epfbga")},m(c,u){v(c,r,u),k(r,l),k(l,e),n&&n.m(e,null),k(e,t),a&&a.m(e,null)},p(c,[u]){c[2]?n?n.p(c,u):(n=D(c),n.c(),n.m(e,t)):n&&(n.d(1),n=null),c[0]?a?a.p(c,u):(a=I(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:p,o:p,d(c){c&&w(r),n&&n.d(),a&&a.d()}}}function ae(o,r,l){let{headers:e=[]}=r,{rows:t=[]}=r,{sort:n}=r;const a=W();async function c(s,d,g){const{key:b,fallback:M,pipes:x}=s;let f;try{f=q(d,b)}catch{return M||""}if(!x)return f;for(const m of x)f=await m(f,d,g);return f}function u(s){const{sortable:d,sortMethod:g}=s;if(!d)return;const b=n?.key===s.key&&n.direction==="asc"?"desc":"asc";if(g){l(0,t=[...t.sort((M,x)=>g(b,M,x))]);return}l(0,t=[...t.sort((M,x)=>{let f,m;try{f=q(M,s.key)}catch{return b==="asc"?1:-1}try{m=q(x,s.key)}catch{return b==="asc"?-1:1}if(f===m)return 0;switch(typeof f){case"number":return b==="asc"?f-m:m-f;case"string":return b==="asc"?f.localeCompare(m):m.localeCompare(f);default:return 0}})]),l(1,n={key:s.key,direction:b})}function i(s,d,g){a("rowClick",{row:s,index:d,header:g})}const C=s=>u(s),y=(s,d,g)=>i(s,d,g);return o.$$set=s=>{"headers"in s&&l(2,e=s.headers),"rows"in s&&l(0,t=s.rows),"sort"in s&&l(1,n=s.sort)},[t,n,e,c,u,i,C,y]}class O extends Q{constructor(r){super(),R(this,r,ae,le,U,{headers:2,rows:0,sort:1},ee)}get headers(){return this.$$.ctx[2]}set headers(r){this.$$set({headers:r}),L()}get rows(){return this.$$.ctx[0]}set rows(r){this.$$set({rows:r}),L()}get sort(){return this.$$.ctx[1]}set sort(r){this.$$set({sort:r}),L()}}try{customElements.define("jp-table",P(O,{headers:{},rows:{},sort:{}},[],[],!1));}catch{};export{O as default};
