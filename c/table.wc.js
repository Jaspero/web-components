import{c as P,S as Q,i as R,f as H,s as U,a as V,e as f,b as T,d as q,g as v,h as k,n as p,j as w,k as W,l as $,m as L,t as z,o as E,p as X,q as Y,r as Z,u as N,v as _}from"./svelte.js";import"./index2.js";import{g as j}from"./json-pointer.js";function ee(c){V(c,"svelte-o2rlhq",".table-card.svelte-o2rlhq{background-color:var(--background-primary);border-radius:.25rem;box-shadow:0 3px 12px rgba(0,0,0,.16)}.table-container.svelte-o2rlhq{overflow-x:auto;width:100%}table.svelte-o2rlhq{width:100%}th.svelte-o2rlhq,td.svelte-o2rlhq{text-align:left;white-space:nowrap;font-size:.75rem;font-weight:normal;padding:.5rem;border-bottom:1px solid rgba(0,0,0,.16)}th.svelte-o2rlhq{opacity:.75}.cell.svelte-o2rlhq{display:block;max-width:64ch;overflow:hidden;text-overflow:ellipsis}")}function S(c,l,n){const e=c.slice();return e[9]=l[n],e[11]=n,e}function A(c,l,n){const e=c.slice();return e[12]=l[n],e}function B(c,l,n){const e=c.slice();return e[12]=l[n],e}function D(c){let l,n=$(c[2]),e=[];for(let t=0;t<n.length;t+=1)e[t]=G(B(c,n,t));return{c(){l=f("tr");for(let t=0;t<e.length;t+=1)e[t].c()},m(t,r){v(t,l,r);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(l,null)},p(t,r){if(r&22){n=$(t[2]);let o;for(o=0;o<n.length;o+=1){const s=B(t,n,o);e[o]?e[o].p(s,r):(e[o]=G(s),e[o].c(),e[o].m(l,null))}for(;o<e.length;o+=1)e[o].d(1);e.length=n.length}},d(t){t&&w(l),L(e,t)}}}function F(c){let l,n=c[1].direction==="asc"?"\u2191":"\u2193",e;return{c(){l=f("span"),e=Y(n)},m(t,r){v(t,l,r),k(l,e)},p(t,r){r&2&&n!==(n=t[1].direction==="asc"?"\u2191":"\u2193")&&Z(e,n)},d(t){t&&w(l)}}}function G(c){var l;let n,e,t=c[12].label+"",r,o,s,u,i=((l=c[1])==null?void 0:l.key)===c[12].key&&F(c);function C(){return c[6](c[12])}return{c(){n=f("th"),e=f("span"),r=T(),i&&i.c(),o=T(),q(n,"class","svelte-o2rlhq"),z(n,"sortable",c[12].sortable)},m(y,a){v(y,n,a),k(n,e),e.innerHTML=t,k(n,r),i&&i.m(n,null),k(n,o),s||(u=E(n,"click",C),s=!0)},p(y,a){var d;c=y,a&4&&t!==(t=c[12].label+"")&&(e.innerHTML=t),((d=c[1])==null?void 0:d.key)===c[12].key?i?i.p(c,a):(i=F(c),i.c(),i.m(n,o)):i&&(i.d(1),i=null),a&4&&z(n,"sortable",c[12].sortable)},d(y){y&&w(n),i&&i.d(),s=!1,u()}}}function I(c){let l,n=$(c[0]),e=[];for(let t=0;t<n.length;t+=1)e[t]=K(S(c,n,t));return{c(){for(let t=0;t<e.length;t+=1)e[t].c();l=X()},m(t,r){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,r);v(t,l,r)},p(t,r){if(r&45){n=$(t[0]);let o;for(o=0;o<n.length;o+=1){const s=S(t,n,o);e[o]?e[o].p(s,r):(e[o]=K(s),e[o].c(),e[o].m(l.parentNode,l))}for(;o<e.length;o+=1)e[o].d(1);e.length=n.length}},d(t){t&&w(l),L(e,t)}}}function te(c){return{c:p,m:p,p,d:p}}function re(c){let l,n=c[15]+"";return{c(){l=f("span"),q(l,"class","cell svelte-o2rlhq")},m(e,t){v(e,l,t),l.innerHTML=n},p(e,t){t&5&&n!==(n=e[15]+"")&&(l.innerHTML=n)},d(e){e&&w(l)}}}function le(c){return{c:p,m:p,p,d:p}}function J(c){let l,n,e,t,r={ctx:c,current:null,token:null,hasCatch:!1,pending:le,then:re,catch:te,value:15};N(n=c[3](c[12],c[9],c[11]),r);function o(){return c[7](c[9],c[11],c[12])}return{c(){l=f("td"),r.block.c(),q(l,"class","svelte-o2rlhq")},m(s,u){v(s,l,u),r.block.m(l,r.anchor=null),r.mount=()=>l,r.anchor=null,e||(t=E(l,"click",o),e=!0)},p(s,u){c=s,r.ctx=c,u&5&&n!==(n=c[3](c[12],c[9],c[11]))&&N(n,r)||_(r,c,u)},d(s){s&&w(l),r.block.d(),r.token=null,r=null,e=!1,t()}}}function K(c){let l,n,e=$(c[2]),t=[];for(let r=0;r<e.length;r+=1)t[r]=J(A(c,e,r));return{c(){l=f("tr");for(let r=0;r<t.length;r+=1)t[r].c();n=T()},m(r,o){v(r,l,o);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(l,null);k(l,n)},p(r,o){if(o&45){e=$(r[2]);let s;for(s=0;s<e.length;s+=1){const u=A(r,e,s);t[s]?t[s].p(u,o):(t[s]=J(u),t[s].c(),t[s].m(l,n))}for(;s<t.length;s+=1)t[s].d(1);t.length=e.length}},d(r){r&&w(l),L(t,r)}}}function ne(c){let l,n,e,t,r=c[2]&&D(c),o=c[0]&&I(c);return{c(){l=f("div"),n=f("div"),e=f("table"),r&&r.c(),t=T(),o&&o.c(),q(e,"class","svelte-o2rlhq"),q(n,"class","table-container svelte-o2rlhq"),q(l,"class","table-card svelte-o2rlhq")},m(s,u){v(s,l,u),k(l,n),k(n,e),r&&r.m(e,null),k(e,t),o&&o.m(e,null)},p(s,[u]){s[2]?r?r.p(s,u):(r=D(s),r.c(),r.m(e,t)):r&&(r.d(1),r=null),s[0]?o?o.p(s,u):(o=I(s),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:p,o:p,d(s){s&&w(l),r&&r.d(),o&&o.d()}}}function oe(c,l,n){let{headers:e=[]}=l,{rows:t=[]}=l,{sort:r}=l;const o=W();async function s(a,d,m){const{key:g,fallback:M,pipes:x}=a;let h;try{h=j(d,g)}catch{return M||""}if(!x)return h;for(const b of x)h=await b(h,d,m);return h}function u(a){const{sortable:d,sortMethod:m}=a;if(!d)return;const g=r?.key===a.key&&r.direction==="asc"?"desc":"asc";if(m){n(0,t=[...t.sort((M,x)=>m(g,M,x))]);return}n(0,t=[...t.sort((M,x)=>{let h,b;try{h=j(M,a.key)}catch{return g==="asc"?1:-1}try{b=j(x,a.key)}catch{return g==="asc"?-1:1}if(h===b)return 0;switch(typeof h){case"number":return g==="asc"?h-b:b-h;case"string":return g==="asc"?h.localeCompare(b):b.localeCompare(h);default:return 0}})]),n(1,r={key:a.key,direction:g})}function i(a,d,m){o("rowClick",{row:a,index:d,header:m})}const C=a=>u(a),y=(a,d,m)=>i(a,d,m);return c.$$set=a=>{"headers"in a&&n(2,e=a.headers),"rows"in a&&n(0,t=a.rows),"sort"in a&&n(1,r=a.sort)},[t,r,e,s,u,i,C,y]}class O extends Q{constructor(l){super(),R(this,l,oe,ne,U,{headers:2,rows:0,sort:1},ee)}get headers(){return this.$$.ctx[2]}set headers(l){this.$$set({headers:l}),H()}get rows(){return this.$$.ctx[0]}set rows(l){this.$$set({rows:l}),H()}get sort(){return this.$$.ctx[1]}set sort(l){this.$$set({sort:l}),H()}}try{customElements.define("jp-table",P(O,{headers:{},rows:{},sort:{}},[],[],!1));}catch{};export{O as default};
