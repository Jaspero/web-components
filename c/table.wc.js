import{c as P,S as Q,i as R,f as H,s as U,a as V,e as f,b as T,d as q,g as v,h as k,n as p,j as w,k as W,l as $,m as L,t as z,o as E,p as X,q as Y,r as Z,u as N,v as _}from"./svelte.js";import"./index2.js";import{g as j}from"./json-pointer.js";function ee(c){V(c,"svelte-1oq1epo",".table-card.svelte-1oq1epo{background-color:var(--background-primary);border-radius:0.25rem;box-shadow:0 3px 12px rgba(0, 0, 0, 0.16)}.table-container.svelte-1oq1epo{overflow-x:auto;width:100%}table.svelte-1oq1epo{width:100%}th.svelte-1oq1epo,td.svelte-1oq1epo{text-align:left;white-space:nowrap;font-size:0.75rem;font-weight:normal;padding:0.5rem;border-bottom:1px solid rgba(0, 0, 0, 0.16)}th.svelte-1oq1epo{opacity:0.75}.cell.svelte-1oq1epo{display:block;max-width:64ch;overflow:hidden;text-overflow:ellipsis}")}function S(c,r,o){const e=c.slice();return e[9]=r[o],e[11]=o,e}function A(c,r,o){const e=c.slice();return e[12]=r[o],e}function B(c,r,o){const e=c.slice();return e[12]=r[o],e}function D(c){let r,o=$(c[2]),e=[];for(let t=0;t<o.length;t+=1)e[t]=G(B(c,o,t));return{c(){r=f("tr");for(let t=0;t<e.length;t+=1)e[t].c()},m(t,n){v(t,r,n);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(r,null)},p(t,n){if(n&22){o=$(t[2]);let l;for(l=0;l<o.length;l+=1){const s=B(t,o,l);e[l]?e[l].p(s,n):(e[l]=G(s),e[l].c(),e[l].m(r,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=o.length}},d(t){t&&w(r),L(e,t)}}}function F(c){let r,o=c[1].direction==="asc"?"\u2191":"\u2193",e;return{c(){r=f("span"),e=Y(o)},m(t,n){v(t,r,n),k(r,e)},p(t,n){n&2&&o!==(o=t[1].direction==="asc"?"\u2191":"\u2193")&&Z(e,o)},d(t){t&&w(r)}}}function G(c){var r;let o,e,t=c[12].label+"",n,l,s,u,i=((r=c[1])==null?void 0:r.key)===c[12].key&&F(c);function C(){return c[6](c[12])}return{c(){o=f("th"),e=f("span"),n=T(),i&&i.c(),l=T(),q(o,"class","svelte-1oq1epo"),z(o,"sortable",c[12].sortable)},m(y,a){v(y,o,a),k(o,e),e.innerHTML=t,k(o,n),i&&i.m(o,null),k(o,l),s||(u=E(o,"click",C),s=!0)},p(y,a){var h;c=y,a&4&&t!==(t=c[12].label+"")&&(e.innerHTML=t),((h=c[1])==null?void 0:h.key)===c[12].key?i?i.p(c,a):(i=F(c),i.c(),i.m(o,l)):i&&(i.d(1),i=null),a&4&&z(o,"sortable",c[12].sortable)},d(y){y&&w(o),i&&i.d(),s=!1,u()}}}function I(c){let r,o=$(c[0]),e=[];for(let t=0;t<o.length;t+=1)e[t]=K(S(c,o,t));return{c(){for(let t=0;t<e.length;t+=1)e[t].c();r=X()},m(t,n){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(t,n);v(t,r,n)},p(t,n){if(n&45){o=$(t[0]);let l;for(l=0;l<o.length;l+=1){const s=S(t,o,l);e[l]?e[l].p(s,n):(e[l]=K(s),e[l].c(),e[l].m(r.parentNode,r))}for(;l<e.length;l+=1)e[l].d(1);e.length=o.length}},d(t){t&&w(r),L(e,t)}}}function te(c){return{c:p,m:p,p,d:p}}function ne(c){let r,o=c[15]+"";return{c(){r=f("span"),q(r,"class","cell svelte-1oq1epo")},m(e,t){v(e,r,t),r.innerHTML=o},p(e,t){t&5&&o!==(o=e[15]+"")&&(r.innerHTML=o)},d(e){e&&w(r)}}}function re(c){return{c:p,m:p,p,d:p}}function J(c){let r,o,e,t,n={ctx:c,current:null,token:null,hasCatch:!1,pending:re,then:ne,catch:te,value:15};N(o=c[3](c[12],c[9],c[11]),n);function l(){return c[7](c[9],c[11],c[12])}return{c(){r=f("td"),n.block.c(),q(r,"class","svelte-1oq1epo")},m(s,u){v(s,r,u),n.block.m(r,n.anchor=null),n.mount=()=>r,n.anchor=null,e||(t=E(r,"click",l),e=!0)},p(s,u){c=s,n.ctx=c,u&5&&o!==(o=c[3](c[12],c[9],c[11]))&&N(o,n)||_(n,c,u)},d(s){s&&w(r),n.block.d(),n.token=null,n=null,e=!1,t()}}}function K(c){let r,o,e=$(c[2]),t=[];for(let n=0;n<e.length;n+=1)t[n]=J(A(c,e,n));return{c(){r=f("tr");for(let n=0;n<t.length;n+=1)t[n].c();o=T()},m(n,l){v(n,r,l);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(r,null);k(r,o)},p(n,l){if(l&45){e=$(n[2]);let s;for(s=0;s<e.length;s+=1){const u=A(n,e,s);t[s]?t[s].p(u,l):(t[s]=J(u),t[s].c(),t[s].m(r,o))}for(;s<t.length;s+=1)t[s].d(1);t.length=e.length}},d(n){n&&w(r),L(t,n)}}}function oe(c){let r,o,e,t,n=c[2]&&D(c),l=c[0]&&I(c);return{c(){r=f("div"),o=f("div"),e=f("table"),n&&n.c(),t=T(),l&&l.c(),q(e,"class","svelte-1oq1epo"),q(o,"class","table-container svelte-1oq1epo"),q(r,"class","table-card svelte-1oq1epo")},m(s,u){v(s,r,u),k(r,o),k(o,e),n&&n.m(e,null),k(e,t),l&&l.m(e,null)},p(s,[u]){s[2]?n?n.p(s,u):(n=D(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),s[0]?l?l.p(s,u):(l=I(s),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:p,o:p,d(s){s&&w(r),n&&n.d(),l&&l.d()}}}function le(c,r,o){let{headers:e=[]}=r,{rows:t=[]}=r,{sort:n}=r;const l=W();async function s(a,h,m){const{key:g,fallback:M,pipes:x}=a;let d;try{d=j(h,g)}catch{return M||""}if(!x)return d;for(const b of x)d=await b(d,h,m);return d}function u(a){const{sortable:h,sortMethod:m}=a;if(!h)return;const g=n?.key===a.key&&n.direction==="asc"?"desc":"asc";if(m){o(0,t=[...t.sort((M,x)=>m(g,M,x))]);return}o(0,t=[...t.sort((M,x)=>{let d,b;try{d=j(M,a.key)}catch{return g==="asc"?1:-1}try{b=j(x,a.key)}catch{return g==="asc"?-1:1}if(d===b)return 0;switch(typeof d){case"number":return g==="asc"?d-b:b-d;case"string":return g==="asc"?d.localeCompare(b):b.localeCompare(d);default:return 0}})]),o(1,n={key:a.key,direction:g})}function i(a,h,m){l("rowClick",{row:a,index:h,header:m})}const C=a=>u(a),y=(a,h,m)=>i(a,h,m);return c.$$set=a=>{"headers"in a&&o(2,e=a.headers),"rows"in a&&o(0,t=a.rows),"sort"in a&&o(1,n=a.sort)},[t,n,e,s,u,i,C,y]}class O extends Q{constructor(r){super(),R(this,r,le,oe,U,{headers:2,rows:0,sort:1},ee)}get headers(){return this.$$.ctx[2]}set headers(r){this.$$set({headers:r}),H()}get rows(){return this.$$.ctx[0]}set rows(r){this.$$set({rows:r}),H()}get sort(){return this.$$.ctx[1]}set sort(r){this.$$set({sort:r}),H()}}try{customElements.define("jp-table",P(O,{headers:{},rows:{},sort:{}},[],[],!1));}catch{};export{O as default};
