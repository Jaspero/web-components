import{c as Q,S as R,i as U,f as T,s as V,a as W,e as g,b as H,d as C,g as k,h as v,n as h,j as w,k as X,l as x,m as L,t as z,o as E,p as N,q as Y,r as Z,u as S,v as _,H as tt}from"./svelte.js";import"./index2.js";import{g as q}from"./json-pointer.js";function et(o){W(o,"svelte-g4cjr6",".table-card.svelte-g4cjr6{background-color:var(--background-primary);border-radius:.25rem;box-shadow:0 3px 12px rgba(0,0,0,.16)}.table-container.svelte-g4cjr6{overflow-x:auto;width:100%}table.svelte-g4cjr6{width:100%}th.svelte-g4cjr6,td.svelte-g4cjr6{text-align:left;white-space:nowrap;font-size:.75rem;font-weight:normal;padding:.5rem;border-bottom:1px solid rgba(0,0,0,.16)}th.svelte-g4cjr6{opacity:.75}")}function A(o,n,l){const e=o.slice();return e[9]=n[l],e[11]=l,e}function B(o,n,l){const e=o.slice();return e[12]=n[l],e}function D(o,n,l){const e=o.slice();return e[12]=n[l],e}function F(o){let n,l=x(o[2]),e=[];for(let t=0;t<l.length;t+=1)e[t]=I(D(o,l,t));return{c(){n=g("tr");for(let t=0;t<e.length;t+=1)e[t].c()},m(t,r){k(t,n,r);for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(n,null)},p(t,r){if(r&22){l=x(t[2]);let c;for(c=0;c<l.length;c+=1){const a=D(t,l,c);e[c]?e[c].p(a,r):(e[c]=I(a),e[c].c(),e[c].m(n,null))}for(;c<e.length;c+=1)e[c].d(1);e.length=l.length}},d(t){t&&w(n),L(e,t)}}}function G(o){let n,l=o[1].direction==="asc"?"\u2191":"\u2193",e;return{c(){n=g("span"),e=Y(l)},m(t,r){k(t,n,r),v(n,e)},p(t,r){r&2&&l!==(l=t[1].direction==="asc"?"\u2191":"\u2193")&&Z(e,l)},d(t){t&&w(n)}}}function I(o){var n;let l,e,t=o[12].label+"",r,c,a,u,i=((n=o[1])==null?void 0:n.key)===o[12].key&&G(o);function M(){return o[6](o[12])}return{c(){l=g("th"),e=g("span"),r=H(),i&&i.c(),c=H(),C(l,"class","svelte-g4cjr6"),z(l,"sortable",o[12].sortable)},m(y,s){k(y,l,s),v(l,e),e.innerHTML=t,v(l,r),i&&i.m(l,null),v(l,c),a||(u=E(l,"click",M),a=!0)},p(y,s){var f;o=y,s&4&&t!==(t=o[12].label+"")&&(e.innerHTML=t),((f=o[1])==null?void 0:f.key)===o[12].key?i?i.p(o,s):(i=G(o),i.c(),i.m(l,c)):i&&(i.d(1),i=null),s&4&&z(l,"sortable",o[12].sortable)},d(y){y&&w(l),i&&i.d(),a=!1,u()}}}function J(o){let n,l=x(o[0]),e=[];for(let t=0;t<l.length;t+=1)e[t]=O(A(o,l,t));return{c(){for(let t=0;t<e.length;t+=1)e[t].c();n=N()},m(t,r){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(t,r);k(t,n,r)},p(t,r){if(r&45){l=x(t[0]);let c;for(c=0;c<l.length;c+=1){const a=A(t,l,c);e[c]?e[c].p(a,r):(e[c]=O(a),e[c].c(),e[c].m(n.parentNode,n))}for(;c<e.length;c+=1)e[c].d(1);e.length=l.length}},d(t){t&&w(n),L(e,t)}}}function rt(o){return{c:h,m:h,p:h,d:h}}function nt(o){let n,l=o[15]+"",e;return{c(){n=new tt(!1),e=N(),n.a=e},m(t,r){n.m(l,t,r),k(t,e,r)},p(t,r){r&5&&l!==(l=t[15]+"")&&n.p(l)},d(t){t&&(w(e),n.d())}}}function lt(o){return{c:h,m:h,p:h,d:h}}function K(o){let n,l,e,t,r={ctx:o,current:null,token:null,hasCatch:!1,pending:lt,then:nt,catch:rt,value:15};S(l=o[3](o[12],o[9],o[11]),r);function c(){return o[7](o[9],o[11],o[12])}return{c(){n=g("td"),r.block.c(),C(n,"class","svelte-g4cjr6")},m(a,u){k(a,n,u),r.block.m(n,r.anchor=null),r.mount=()=>n,r.anchor=null,e||(t=E(n,"click",c),e=!0)},p(a,u){o=a,r.ctx=o,u&5&&l!==(l=o[3](o[12],o[9],o[11]))&&S(l,r)||_(r,o,u)},d(a){a&&w(n),r.block.d(),r.token=null,r=null,e=!1,t()}}}function O(o){let n,l,e=x(o[2]),t=[];for(let r=0;r<e.length;r+=1)t[r]=K(B(o,e,r));return{c(){n=g("tr");for(let r=0;r<t.length;r+=1)t[r].c();l=H()},m(r,c){k(r,n,c);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(n,null);v(n,l)},p(r,c){if(c&45){e=x(r[2]);let a;for(a=0;a<e.length;a+=1){const u=B(r,e,a);t[a]?t[a].p(u,c):(t[a]=K(u),t[a].c(),t[a].m(n,l))}for(;a<t.length;a+=1)t[a].d(1);t.length=e.length}},d(r){r&&w(n),L(t,r)}}}function ct(o){let n,l,e,t,r=o[2]&&F(o),c=o[0]&&J(o);return{c(){n=g("div"),l=g("div"),e=g("table"),r&&r.c(),t=H(),c&&c.c(),C(e,"class","svelte-g4cjr6"),C(l,"class","table-container svelte-g4cjr6"),C(n,"class","table-card svelte-g4cjr6")},m(a,u){k(a,n,u),v(n,l),v(l,e),r&&r.m(e,null),v(e,t),c&&c.m(e,null)},p(a,[u]){a[2]?r?r.p(a,u):(r=F(a),r.c(),r.m(e,t)):r&&(r.d(1),r=null),a[0]?c?c.p(a,u):(c=J(a),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:h,o:h,d(a){a&&w(n),r&&r.d(),c&&c.d()}}}function ot(o,n,l){let{headers:e=[]}=n,{rows:t=[]}=n,{sort:r}=n;const c=X();async function a(s,f,m){const{key:p,fallback:$,pipes:j}=s;let d;try{d=q(f,p)}catch{return $||""}if(!j)return d;for(const b of j)d=await b(d,f,m);return d}function u(s){const{sortable:f,sortMethod:m}=s;if(!f)return;const p=r?.key===s.key&&r.direction==="asc"?"desc":"asc";if(m){l(0,t=[...t.sort(($,j)=>m(p,$,j))]);return}l(0,t=[...t.sort(($,j)=>{let d,b;try{d=q($,s.key)}catch{return p==="asc"?1:-1}try{b=q(j,s.key)}catch{return p==="asc"?-1:1}if(d===b)return 0;switch(typeof d){case"number":return p==="asc"?d-b:b-d;case"string":return p==="asc"?d.localeCompare(b):b.localeCompare(d);default:return 0}})]),l(1,r={key:s.key,direction:p})}function i(s,f,m){c("rowClick",{row:s,index:f,header:m})}const M=s=>u(s),y=(s,f,m)=>i(s,f,m);return o.$$set=s=>{"headers"in s&&l(2,e=s.headers),"rows"in s&&l(0,t=s.rows),"sort"in s&&l(1,r=s.sort)},[t,r,e,a,u,i,M,y]}class P extends R{constructor(n){super(),U(this,n,ot,ct,V,{headers:2,rows:0,sort:1},et)}get headers(){return this.$$.ctx[2]}set headers(n){this.$$set({headers:n}),T()}get rows(){return this.$$.ctx[0]}set rows(n){this.$$set({rows:n}),T()}get sort(){return this.$$.ctx[1]}set sort(n){this.$$set({sort:n}),T()}}customElements.define("jp-table",Q(P,{headers:{},rows:{},sort:{}},[],[],!1));export{P as default};
