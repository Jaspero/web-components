var E=Object.defineProperty,F=(i,e,t)=>e in i?E(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,H=(i,e,t)=>(F(i,typeof e!="symbol"?e+"":e,t),t);import{c as M,S as L,i as S,f as u,s as T,b as x,e as g,d as v,g as $,n as I,j as m,k as z,w as G,q as N,h as O,r as Q,G as B}from"./svelte.js";import"./index2.js";function y(i){let e,t;return{c(){e=g("span"),t=N(i[3])},m(r,n){$(r,e,n),O(e,t)},p(r,n){n&8&&Q(t,r[3])},d(r){r&&m(e)}}}function C(i){let e,t,r,n,s=i[3]&&y(i);return{c(){s&&s.c(),e=x(),t=g("div"),r=x(),n=g("textarea"),v(n,"id",i[1]),v(n,"name",i[2]),n.value=i[0],n.hidden=!0},m(l,c){s&&s.m(l,c),$(l,e,c),$(l,t,c),i[9](t),$(l,r,c),$(l,n,c)},p(l,[c]){l[3]?s?s.p(l,c):(s=y(l),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),c&2&&v(n,"id",l[1]),c&4&&v(n,"name",l[2]),c&1&&(n.value=l[0])},i:I,o:I,d(l){l&&(m(e),m(t),m(r),m(n)),s&&s.d(l),i[9](null)}}}function D(){return window.Quill}function J(i,e,t){let{attachedInternals:r}=e,{service:n}=e,{value:s=""}=e,{id:l=null}=e,{name:c=null}=e,{label:f=""}=e,{options:p={modules:{toolbar:[["bold","italic","underline"],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block"],["image"],[{align:[]}],["clean"]]},theme:"snow"}}=e,o;const k=()=>s,V=z();let d,h;function A(){o=document.createElement("input"),o.setAttribute("type","file"),o.setAttribute("accept",n.acceptedFiles),o.setAttribute("style","visibility:hidden"),o.onchange=async()=>{const a=o.files[0],b=await n.uploadFile(a);j(b)},o.click()}function j(a){const b=h.getSelection();h.insertEmbed(b.index,"image",a)}G(()=>{let a=D();s&&t(4,d.innerHTML=s,d),h=new a(d,p),n&&h.getModule("toolbar").addHandler("image",()=>{A()}),h.on("text-change",()=>{t(0,s=h.root.innerHTML)})});function q(a){B[a?"unshift":"push"](()=>{d=a,t(4,d)})}return i.$$set=a=>{"attachedInternals"in a&&t(5,r=a.attachedInternals),"service"in a&&t(6,n=a.service),"value"in a&&t(0,s=a.value),"id"in a&&t(1,l=a.id),"name"in a&&t(2,c=a.name),"label"in a&&t(3,f=a.label),"options"in a&&t(7,p=a.options)},i.$$.update=()=>{i.$$.dirty&33&&(r.checkValidity(),r.setFormValue(s),V("value",{value:s}))},[s,l,c,f,d,r,n,p,k,q]}class w extends L{constructor(e){super(),S(this,e,J,C,T,{attachedInternals:5,service:6,value:0,id:1,name:2,label:3,options:7,getValue:8})}get attachedInternals(){return this.$$.ctx[5]}set attachedInternals(e){this.$$set({attachedInternals:e}),u()}get service(){return this.$$.ctx[6]}set service(e){this.$$set({service:e}),u()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),u()}get id(){return this.$$.ctx[1]}set id(e){this.$$set({id:e}),u()}get name(){return this.$$.ctx[2]}set name(e){this.$$set({name:e}),u()}get label(){return this.$$.ctx[3]}set label(e){this.$$set({label:e}),u()}get options(){return this.$$.ctx[7]}set options(e){this.$$set({options:e}),u()}get getValue(){return this.$$.ctx[8]}}customElements.define("jp-quill",M(w,{attachedInternals:{},service:{},value:{},id:{},name:{},label:{},options:{}},[],["getValue"],!1,i=>{var e;return e=class extends i{constructor(){super(),this.attachedInternals=this.attachInternals()}},H(e,"formAssociated",!0),e}));export{w as default};
