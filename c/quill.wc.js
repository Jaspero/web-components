var Y=Object.defineProperty,Z=(s,e,r)=>e in s?Y(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r,_=(s,e,r)=>(Z(s,typeof e!="symbol"?e+"":e,r),r);import{c as X,S as ee,i as te,f as c,s as re,a as se,b as F,e as V,d as b,g as q,h as T,L as j,o as ae,n as E,j as x,k as ie,x as ne,t as le,u as oe,I as H}from"./svelte.js";import"./index2.js";function de(s){se(s,"svelte-1l7er5k",".label.svelte-1l7er5k{margin-top:0.5rem;margin-bottom:0.125rem;font-size:0.875rem}textarea.svelte-1l7er5k{width:100%;height:0;opacity:0;position:absolute}")}function P(s){let e,r;return{c(){e=V("div"),r=le(s[2]),b(e,"class","label svelte-1l7er5k")},m(l,d){q(l,e,d),T(e,r)},p(l,d){d&4&&oe(r,l[2])},d(l){l&&x(e)}}}function ue(s){let e,r,l,d,a,m,S,n=s[2]&&P(s);return{c(){n&&n.c(),e=F(),r=V("div"),l=V("div"),d=F(),a=V("textarea"),b(a,"id",s[0]),b(a,"name",s[1]),a.required=s[3],b(a,"tabindex","-1"),b(a,"class","svelte-1l7er5k")},m(i,o){n&&n.m(i,o),q(i,e,o),q(i,r,o),T(r,l),s[20](l),s[21](r),q(i,d,o),q(i,a,o),j(a,s[4]),s[23](a),m||(S=ae(a,"input",s[22]),m=!0)},p(i,[o]){i[2]?n?n.p(i,o):(n=P(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),o&1&&b(a,"id",i[0]),o&2&&b(a,"name",i[1]),o&8&&(a.required=i[3]),o&16&&j(a,i[4])},i:E,o:E,d(i){i&&(x(e),x(r),x(d),x(a)),n&&n.d(i),s[20](null),s[21](null),s[23](null),m=!1,S()}}}function ce(){return window.Quill}function $e(s,e,r){let{attachedInternals:l}=e,{service:d}=e,{value:a=""}=e,{id:m=null}=e,{name:S=null}=e,{label:n=""}=e,{options:i={modules:{toolbar:[["bold","italic","underline"],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block"],["image"],[{align:[]}],["clean"]]},theme:"snow"}}=e,{toolbarStyle:o="border-color:var(--border-primary)!important;border-top-left-radius:.25rem;border-top-right-radius:.25rem;"}=e,{containerStyle:w="border-color: var(--border-primary)!important;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;"}=e,{editorStyle:k="max-height: 500px;"}=e,{required:I=!1}=e,{validationMessages:A={}}=e,{requiredValidationMessage:L}=e,g,$="";const R=()=>$||"",B=ie();let y,M,u,v;async function D(t){return await Promise.allSettled([...u.root.querySelectorAll("img")].map(async h=>{const f=await N(h.src),p=await d.uploadFile(f,t);h.src=p})),r(8,a=u.root.innerHTML),r(4,$=u.root.innerHTML||""),$}const N=t=>fetch(t).then(h=>h.blob()),O=t=>new Promise((h,f)=>{const p=new FileReader;p.readAsDataURL(t),p.onload=()=>h(p.result),p.onerror=W=>f(W)});function Q(){g=document.createElement("input"),g.setAttribute("type","file"),g.setAttribute("accept",d.acceptedFiles),g.setAttribute("style","visibility:hidden"),g.onchange=async()=>{const t=g.files[0],h=await O(t),f=u.getSelection();u.insertEmbed(f.index,"image",h)},g.click()}function U(){y.querySelector(".ql-toolbar").setAttribute("style",o),y.querySelector(".ql-container").setAttribute("style",w),y.querySelector(".ql-editor").setAttribute("style",k)}ne(()=>{let t=ce();r(19,u=new t(M,i)),d&&u.getModule("toolbar").addHandler("image",()=>{Q()}),u.on("text-change",()=>{r(4,$=u.root.innerHTML||"")}),U()});function C(t){H[t?"unshift":"push"](()=>{M=t,r(7,M)})}function G(t){H[t?"unshift":"push"](()=>{y=t,r(6,y)})}function J(){$=this.value,r(4,$)}function K(t){H[t?"unshift":"push"](()=>{v=t,r(5,v)})}return s.$$set=t=>{"attachedInternals"in t&&r(9,l=t.attachedInternals),"service"in t&&r(10,d=t.service),"value"in t&&r(8,a=t.value),"id"in t&&r(0,m=t.id),"name"in t&&r(1,S=t.name),"label"in t&&r(2,n=t.label),"options"in t&&r(11,i=t.options),"toolbarStyle"in t&&r(12,o=t.toolbarStyle),"containerStyle"in t&&r(13,w=t.containerStyle),"editorStyle"in t&&r(14,k=t.editorStyle),"required"in t&&r(3,I=t.required),"validationMessages"in t&&r(15,A=t.validationMessages),"requiredValidationMessage"in t&&r(16,L=t.requiredValidationMessage)},s.$$.update=()=>{s.$$.dirty&98872&&(l.checkValidity(),v&&(!$&&I?l.setValidity({valueMissing:!0},L||A.required||v.validationMessage,v):l.setValidity({})),l.setFormValue($||""),B("value",{internalValue:$||""})),s.$$.dirty&524544&&u&&r(19,u.root.innerHTML=a,u)},[m,S,n,I,$,v,y,M,a,l,d,i,o,w,k,A,L,R,D,u,C,G,J,K]}class z extends ee{constructor(e){super(),te(this,e,$e,ue,re,{attachedInternals:9,service:10,value:8,id:0,name:1,label:2,options:11,toolbarStyle:12,containerStyle:13,editorStyle:14,required:3,validationMessages:15,requiredValidationMessage:16,getValue:17,save:18},de)}get attachedInternals(){return this.$$.ctx[9]}set attachedInternals(e){this.$$set({attachedInternals:e}),c()}get service(){return this.$$.ctx[10]}set service(e){this.$$set({service:e}),c()}get value(){return this.$$.ctx[8]}set value(e){this.$$set({value:e}),c()}get id(){return this.$$.ctx[0]}set id(e){this.$$set({id:e}),c()}get name(){return this.$$.ctx[1]}set name(e){this.$$set({name:e}),c()}get label(){return this.$$.ctx[2]}set label(e){this.$$set({label:e}),c()}get options(){return this.$$.ctx[11]}set options(e){this.$$set({options:e}),c()}get toolbarStyle(){return this.$$.ctx[12]}set toolbarStyle(e){this.$$set({toolbarStyle:e}),c()}get containerStyle(){return this.$$.ctx[13]}set containerStyle(e){this.$$set({containerStyle:e}),c()}get editorStyle(){return this.$$.ctx[14]}set editorStyle(e){this.$$set({editorStyle:e}),c()}get required(){return this.$$.ctx[3]}set required(e){this.$$set({required:e}),c()}get validationMessages(){return this.$$.ctx[15]}set validationMessages(e){this.$$set({validationMessages:e}),c()}get requiredValidationMessage(){return this.$$.ctx[16]}set requiredValidationMessage(e){this.$$set({requiredValidationMessage:e}),c()}get getValue(){return this.$$.ctx[17]}get save(){return this.$$.ctx[18]}}try{customElements.define("jp-quill",X(z,{attachedInternals:{},service:{},value:{},id:{},name:{},label:{},options:{},toolbarStyle:{},containerStyle:{},editorStyle:{},required:{type:"Boolean"},validationMessages:{},requiredValidationMessage:{}},[],["getValue","save"],!1,s=>{var e;return e=class extends s{constructor(){super(),this.attachedInternals=this.attachInternals()}},_(e,"formAssociated",!0),e}));}catch{};export{z as default};
