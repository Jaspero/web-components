var ye=Object.defineProperty,we=(a,e,t)=>e in a?ye(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,xe=(a,e,t)=>we(a,typeof e!="symbol"?e+"":e,t);import{c as je,S as Me,i as Te,f as V,s as ke,b as z,e as I,F,H as G,g as $,t as D,h as L,j as q,U as P,l as U,p as R,G as W,J as S,o as C,r as Z,D as qe,E as Ve,B as Q,z as Ie,Z as Le,_ as Ce,I as X,y as Y}from"./svelte.js";import"./index.js";import{clickOutside as He}from"./click-outside.js";import{wait as Ae}from"./wait.js";const De='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z" /></svg>',Be='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z" /></svg>',ze='<svg xmlns="http://www.w3.org/2000/svg" width="1rem" height="1rem" viewBox="0 0 448 512"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z" /></svg>';function ee(a,e,t){const n=a.slice();return n[36]=e[t],n[37]=e,n[38]=t,n}function te(a){let e;return{c(){e=I("div"),$(e,"class","jp-select-label-outside")},m(t,n){L(t,e,n),e.innerHTML=a[16]},p(t,n){n[0]&65536&&(e.innerHTML=t[16])},d(t){t&&C(e)}}}function se(a){let e,t,n;return{c(){e=I("button"),$(e,"class","jp-select-clear")},m(i,o){L(i,e,o),e.innerHTML=De,t||(n=U(e,"click",a[19]),t=!0)},p:S,d(i){i&&C(e),t=!1,n()}}}function ae(a){let e;return{c(){e=I("span"),$(e,"class","jp-select-label"),D(e,"jp-select-label-move",a[15]||a[10])},m(t,n){L(t,e,n),e.innerHTML=a[16]},p(t,n){n[0]&65536&&(e.innerHTML=t[16]),n[0]&33792&&D(e,"jp-select-label-move",t[15]||t[10])},d(t){t&&C(e)}}}function ne(a){let e;return{c(){e=I("span"),$(e,"class","jp-select-hint")},m(t,n){L(t,e,n),e.innerHTML=a[4]},p(t,n){n[0]&16&&(e.innerHTML=t[4])},d(t){t&&C(e)}}}function le(a){let e,t,n=[],i=new Map,o,j,b=Q(a[0]);const k=r=>r[36];for(let r=0;r<b.length;r+=1){let p=ee(a,b,r),v=k(p);i.set(v,n[r]=re(v,p))}return{c(){e=I("div"),t=I("div");for(let r=0;r<n.length;r+=1)n[r].c();$(t,"class","jp-select-menu"),$(t,"style",a[13]),$(t,"role","dialog"),$(e,"class","jp-select-overlay")},m(r,p){L(r,e,p),q(e,t);for(let v=0;v<n.length;v+=1)n[v]&&n[v].m(t,null);o||(j=[Ie(He.call(null,t)),U(t,"click_outside",a[29]),U(t,"keydown",a[18])],o=!0)},p(r,p){p[0]&147459&&(b=Q(r[0]),n=Le(n,p,k,1,r,b,i,t,Ce,re,null,ee)),p[0]&8192&&$(t,"style",r[13])},d(r){r&&C(e);for(let p=0;p<n.length;p+=1)n[p].d();o=!1,Z(j)}}}function ie(a){let e,t;return{c(){e=new X(!1),t=G(),e.a=t},m(n,i){e.m(ze,n,i),L(n,t,i)},d(n){n&&(C(t),e.d())}}}function re(a,e){let t,n,i=(e[36].label?e[36].label:e[36].value)+"",o,j,b,k,r=e[38],p,v,h=e[1]==e[36].value&&ie();const B=()=>e[27](t,r),f=()=>e[27](null,r);function E(){return e[28](e[36])}return{key:a,first:null,c(){t=I("button"),n=I("span"),o=F(i),j=z(),h&&h.c(),b=z(),$(t,"type","button"),t.disabled=k=e[36].disabled,D(t,"jp-select-menu-selected",e[1]==e[36].value),this.first=t},m(M,y){L(M,t,y),q(t,n),q(n,o),q(t,j),h&&h.m(t,null),q(t,b),B(),p||(v=U(t,"click",R(E)),p=!0)},p(M,y){e=M,y[0]&1&&i!==(i=(e[36].label?e[36].label:e[36].value)+"")&&W(o,i),e[1]==e[36].value?h||(h=ie(),h.c(),h.m(t,b)):h&&(h.d(1),h=null),y[0]&1&&k!==(k=e[36].disabled)&&(t.disabled=k),r!==e[38]&&(f(),r=e[38],B()),y[0]&3&&D(t,"jp-select-menu-selected",e[1]==e[36].value)},d(M){M&&C(t),h&&h.d(),f(),p=!1,v()}}}function Ee(a){let e,t,n,i,o,j,b=(a[15]||"")+"",k,r,p,v,h,B,f,E,M,y,H,d=a[7]&&a[8]=="outside"&&te(a),w=a[9]&&a[1]&&se(a),u=a[7]&&a[8]=="inside"&&ae(a),g=a[4]&&ne(a),x=a[10]&&le(a);return{c(){d&&d.c(),e=z(),t=I("div"),w&&w.c(),n=z(),i=I("button"),u&&u.c(),o=z(),j=I("span"),k=F(b),p=z(),v=new X(!1),h=z(),g&&g.c(),B=z(),f=I("input"),E=z(),x&&x.c(),M=G(),$(j,"class",r=`jp-select-option ${a[8]=="outside"||!a[7]?"":"jp-select-option-padding"} `),D(j,"jp-select-option-has-clear",a[9]),v.a=null,$(i,"type","button"),$(i,"class","jp-select-toggle"),i.disabled=a[2],D(i,"jp-select-toggled",a[10]),$(f,"tabindex","-1"),$(f,"id",a[5]),$(f,"name",a[6]),f.required=a[3],$(t,"class","jp-select"),D(t,"jp-select-has-hint",a[4])},m(l,c){d&&d.m(l,c),L(l,e,c),L(l,t,c),w&&w.m(t,null),q(t,n),q(t,i),u&&u.m(i,null),q(i,o),q(i,j),q(j,k),q(i,p),v.m(Be,i),a[24](i),q(t,h),g&&g.m(t,null),q(t,B),q(t,f),a[25](f),P(f,a[1]),L(l,E,c),x&&x.m(l,c),L(l,M,c),y||(H=[U(i,"click",R(a[17])),U(i,"keydown",a[18]),U(f,"input",a[26])],y=!0)},p(l,c){l[7]&&l[8]=="outside"?d?d.p(l,c):(d=te(l),d.c(),d.m(e.parentNode,e)):d&&(d.d(1),d=null),l[9]&&l[1]?w?w.p(l,c):(w=se(l),w.c(),w.m(t,n)):w&&(w.d(1),w=null),l[7]&&l[8]=="inside"?u?u.p(l,c):(u=ae(l),u.c(),u.m(i,o)):u&&(u.d(1),u=null),c[0]&32768&&b!==(b=(l[15]||"")+"")&&W(k,b),c[0]&384&&r!==(r=`jp-select-option ${l[8]=="outside"||!l[7]?"":"jp-select-option-padding"} `)&&$(j,"class",r),c[0]&896&&D(j,"jp-select-option-has-clear",l[9]),c[0]&4&&(i.disabled=l[2]),c[0]&1024&&D(i,"jp-select-toggled",l[10]),l[4]?g?g.p(l,c):(g=ne(l),g.c(),g.m(t,B)):g&&(g.d(1),g=null),c[0]&32&&$(f,"id",l[5]),c[0]&64&&$(f,"name",l[6]),c[0]&8&&(f.required=l[3]),c[0]&2&&f.value!==l[1]&&P(f,l[1]),c[0]&16&&D(t,"jp-select-has-hint",l[4]),l[10]?x?x.p(l,c):(x=le(l),x.c(),x.m(M.parentNode,M)):x&&(x.d(1),x=null)},i:S,o:S,d(l){l&&(C(e),C(t),C(E),C(M)),d&&d.d(l),w&&w.d(),u&&u.d(),a[24](null),g&&g.d(),a[25](null),x&&x.d(l),y=!1,Z(H)}}}function Oe(a,e,t){let n,{attachedInternals:i}=e,{options:o=[]}=e,{disabled:j=!1}=e,{required:b=!1}=e,{hint:k=""}=e,{value:r=""}=e,{id:p=""}=e,{name:v=""}=e,{label:h=""}=e,{labelType:B="inside"}=e,{showClear:f=!1}=e;const E=()=>r;let{requiredValidationMessage:M}=e,y,H=!1,d,w,u=[],g="",x,l;const c=qe(),ue=()=>i.reportValidity();async function ce(){await Ae(),i.checkValidity(),y&&(y.validity.valueMissing?i.setValidity({valueMissing:!0},M||y.validationMessage,y):i.setValidity({}))}function J(){const s=d.getBoundingClientRect(),T=window.innerHeight-s.bottom,m=300;let O="";T<m?O=`
        width: ${s.width}px;
        bottom: ${window.innerHeight-s.top}px;
        left: ${s.left}px;
      `:O=`
        width: ${s.width}px;
        top: ${s.bottom}px;
        left: ${s.left}px;
      `,t(13,w=O),t(10,H=!H),setTimeout(H?()=>{const N=o.findIndex(A=>!A.disabled);N!==-1&&u[N].focus()}:()=>{d.focus()},10)}function K(s,T){if(T==="next"){for(let m=s+1;m<o.length;m++)if(!o[m].disabled)return m}else if(T==="previous"){for(let m=s-1;m>=0;m--)if(!o[m].disabled)return m}return s}function de(s){const T=u.findIndex(O=>O===document.activeElement);let m;if(H){if(s.key==="Escape"){J(),d.focus();return}const O=s.key==="Home"||s.key==="ArrowUp"&&s.metaKey,N=s.key==="End"||s.key==="ArrowDown"&&s.metaKey;if(O){s.preventDefault();const A=o.findIndex(_=>!_.disabled);A!==-1&&u[A].focus();return}if(N){s.preventDefault();const A=o.slice().reverse().findIndex(ve=>!ve.disabled),_=A!==-1?o.length-1-A:-1;_!==-1&&u[_].focus();return}if(["ArrowDown","ArrowUp"].includes(s.key)&&(s.preventDefault(),s.key==="ArrowUp"?m=K(T,"previous"):m=K(T,"next"),u[m].focus()),s.key==="Tab"){if(s.preventDefault(),s.shiftKey){if(m=K(T,"previous"),T===m){J(),d.focus();return}}else if(m=K(T,"next"),T===m){J(),d.focus();return}u[m].focus()}if(/^[a-z\d]$/i.test(s.key)){clearTimeout(x),g+=s.key;const A=o.findIndex(_=>_.value.toLowerCase().startsWith(g.toLowerCase()));A!==-1&&u[A].focus(),x=setTimeout(()=>{g=""},500)}}}function pe(){t(15,l=""),t(1,r="")}Ve(()=>{typeof o=="string"&&t(0,o=JSON.parse(o))});function he(s){Y[s?"unshift":"push"](()=>{d=s,t(12,d)})}function fe(s){Y[s?"unshift":"push"](()=>{y=s,t(11,y)})}function me(){r=this.value,t(1,r)}function $e(s,T){Y[s?"unshift":"push"](()=>{u[T]=s,t(14,u)})}const ge=s=>{t(1,r=s.value),J()},be=()=>t(10,H=!1);return a.$$set=s=>{"attachedInternals"in s&&t(20,i=s.attachedInternals),"options"in s&&t(0,o=s.options),"disabled"in s&&t(2,j=s.disabled),"required"in s&&t(3,b=s.required),"hint"in s&&t(4,k=s.hint),"value"in s&&t(1,r=s.value),"id"in s&&t(5,p=s.id),"name"in s&&t(6,v=s.name),"label"in s&&t(7,h=s.label),"labelType"in s&&t(8,B=s.labelType),"showClear"in s&&t(9,f=s.showClear),"requiredValidationMessage"in s&&t(22,M=s.requiredValidationMessage)},a.$$.update=()=>{if(a.$$.dirty[0]&1024&&(H?document.documentElement.style.overflowY="hidden":document.documentElement.style.overflowY=""),a.$$.dirty[0]&3&&Array.isArray(o)){const s=o.filter(T=>T.value===r);s.length&&t(15,l=s[0].label?s[0].label:s[0].value)}a.$$.dirty[0]&2&&(ce(),c("value",r)),a.$$.dirty[0]&136&&t(16,n=b?`${h} *`:h)},[o,r,j,b,k,p,v,h,B,f,H,y,d,w,u,l,n,J,de,pe,i,E,M,ue,he,fe,me,$e,ge,be]}class oe extends Me{constructor(e){super(),Te(this,e,Oe,Ee,ke,{attachedInternals:20,options:0,disabled:2,required:3,hint:4,value:1,id:5,name:6,label:7,labelType:8,showClear:9,getValue:21,requiredValidationMessage:22,reportValidity:23},null,[-1,-1])}get attachedInternals(){return this.$$.ctx[20]}set attachedInternals(e){this.$$set({attachedInternals:e}),V()}get options(){return this.$$.ctx[0]}set options(e){this.$$set({options:e}),V()}get disabled(){return this.$$.ctx[2]}set disabled(e){this.$$set({disabled:e}),V()}get required(){return this.$$.ctx[3]}set required(e){this.$$set({required:e}),V()}get hint(){return this.$$.ctx[4]}set hint(e){this.$$set({hint:e}),V()}get value(){return this.$$.ctx[1]}set value(e){this.$$set({value:e}),V()}get id(){return this.$$.ctx[5]}set id(e){this.$$set({id:e}),V()}get name(){return this.$$.ctx[6]}set name(e){this.$$set({name:e}),V()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),V()}get labelType(){return this.$$.ctx[8]}set labelType(e){this.$$set({labelType:e}),V()}get showClear(){return this.$$.ctx[9]}set showClear(e){this.$$set({showClear:e}),V()}get getValue(){return this.$$.ctx[21]}get requiredValidationMessage(){return this.$$.ctx[22]}set requiredValidationMessage(e){this.$$set({requiredValidationMessage:e}),V()}get reportValidity(){return this.$$.ctx[23]}}try{customElements.define("jp-select",je(oe,{attachedInternals:{},options:{},disabled:{type:"Boolean"},required:{type:"Boolean"},hint:{},value:{},id:{},name:{},label:{},labelType:{},showClear:{type:"Boolean"},requiredValidationMessage:{}},[],["getValue","reportValidity"],!1,a=>{var e;return e=class extends a{constructor(){super(),this.attachedInternals=this.attachInternals()}},xe(e,"formAssociated",!0),e}));}catch{};export{oe as default};
//# sourceMappingURL=select.wc.js.map
