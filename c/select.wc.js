var we=Object.defineProperty,xe=(a,e,t)=>e in a?we(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,je=(a,e,t)=>xe(a,typeof e!="symbol"?e+"":e,t);import{c as ke,S as Me,i as qe,o as T,s as Te,l as O,e as V,z as P,y as R,d as f,A as B,f as L,p as q,X as W,m as z,N as Z,B as F,w as Y,k as A,r as Q,x as Ve,G as Ie,C as X,q as Ce,$ as He,a0 as Le,Z as ee,n as J}from"./svelte.js";import"./index.js";import{clickOutside as Ae}from"./click-outside.js";import{c as De}from"./clear.js";import{wait as Ee}from"./wait.js";import{a as Be}from"./arrow.js";const Ne='<svg xmlns="http://www.w3.org/2000/svg" width="1rem" height="1rem" viewBox="0 0 448 512"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z" /></svg>';function te(a,e,t){const n=a.slice();return n[37]=e[t],n[38]=e,n[39]=t,n}function se(a){let e;return{c(){e=V("div"),f(e,"class","jp-select-label-outside")},m(t,n){L(t,e,n),e.innerHTML=a[17]},p(t,n){n[0]&131072&&(e.innerHTML=t[17])},d(t){t&&A(e)}}}function ae(a){let e,t,n;return{c(){e=V("button"),f(e,"class","jp-select-clear")},m(i,r){L(i,e,r),e.innerHTML=De,t||(n=z(e,"click",a[20]),t=!0)},p:Y,d(i){i&&A(e),t=!1,n()}}}function ne(a){let e;return{c(){e=V("span"),f(e,"class","jp-select-label"),B(e,"jp-select-label-move",a[16]||a[11])},m(t,n){L(t,e,n),e.innerHTML=a[17]},p(t,n){n[0]&131072&&(e.innerHTML=t[17]),n[0]&67584&&B(e,"jp-select-label-move",t[16]||t[11])},d(t){t&&A(e)}}}function le(a){let e;return{c(){e=V("span"),f(e,"class","jp-select-hint")},m(t,n){L(t,e,n),e.innerHTML=a[4]},p(t,n){n[0]&16&&(e.innerHTML=t[4])},d(t){t&&A(e)}}}function ie(a){let e,t,n=[],i=new Map,r,x,g=X(a[0]);const M=o=>o[37];for(let o=0;o<g.length;o+=1){let p=te(a,g,o),y=M(p);i.set(y,n[o]=re(y,p))}return{c(){e=V("div"),t=V("div");for(let o=0;o<n.length;o+=1)n[o].c();f(t,"class","jp-select-menu"),f(t,"style",a[14]),f(t,"role","dialog"),f(e,"class","jp-select-overlay")},m(o,p){L(o,e,p),q(e,t);for(let y=0;y<n.length;y+=1)n[y]&&n[y].m(t,null);r||(x=[Ce(Ae.call(null,t)),z(t,"click_outside",a[30]),z(t,"keydown",a[19])],r=!0)},p(o,p){p[0]&294915&&(g=X(o[0]),n=He(n,p,M,1,o,g,i,t,Le,re,null,te)),p[0]&16384&&f(t,"style",o[14])},d(o){o&&A(e);for(let p=0;p<n.length;p+=1)n[p].d();r=!1,Q(x)}}}function oe(a){let e,t;return{c(){e=new ee(!1),t=R(),e.a=t},m(n,i){e.m(Ne,n,i),L(n,t,i)},d(n){n&&(A(t),e.d())}}}function re(a,e){let t,n,i=(e[37].label?e[37].label:e[37].value)+"",r,x,g,M,o=e[39],p,y,$=e[1]==e[37].value&&oe();const I=()=>e[28](t,o),h=()=>e[28](null,o);function N(){return e[29](e[37])}return{key:a,first:null,c(){t=V("button"),n=V("span"),r=P(i),x=O(),$&&$.c(),g=O(),f(t,"type","button"),t.disabled=M=e[37].disabled,B(t,"jp-select-menu-selected",e[1]==e[37].value),this.first=t},m(C,j){L(C,t,j),q(t,n),q(n,r),q(t,x),$&&$.m(t,null),q(t,g),I(),p||(y=z(t,"click",Z(N)),p=!0)},p(C,j){e=C,j[0]&1&&i!==(i=(e[37].label?e[37].label:e[37].value)+"")&&F(r,i),e[1]==e[37].value?$||($=oe(),$.c(),$.m(t,g)):$&&($.d(1),$=null),j[0]&1&&M!==(M=e[37].disabled)&&(t.disabled=M),o!==e[39]&&(h(),o=e[39],I()),j[0]&3&&B(t,"jp-select-menu-selected",e[1]==e[37].value)},d(C){C&&A(t),$&&$.d(),h(),p=!1,y()}}}function Oe(a){let e,t,n,i,r,x,g=(a[16]||"")+"",M,o,p,y,$,I,h,N,C,j,H,D,c=a[8]&&a[9]=="outside"&&se(a),v=a[10]&&a[1]&&ae(a),u=a[8]&&a[9]=="inside"&&ne(a),b=a[4]&&le(a),w=a[11]&&ie(a);return{c(){c&&c.c(),e=O(),t=V("div"),v&&v.c(),n=O(),i=V("button"),u&&u.c(),r=O(),x=V("span"),M=P(g),p=O(),y=new ee(!1),$=O(),b&&b.c(),I=O(),h=V("input"),C=O(),w&&w.c(),j=R(),f(x,"class",o=`jp-select-option ${a[9]=="outside"||!a[8]?"":"jp-select-option-padding"} `),B(x,"jp-select-option-has-clear",a[10]),y.a=null,f(i,"type","button"),f(i,"class","jp-select-toggle"),i.disabled=a[2],B(i,"jp-select-toggled",a[11]),f(h,"tabindex","-1"),f(h,"id",a[5]),f(h,"name",a[6]),h.required=a[3],f(h,"autocomplete",N=a[7]||a[6]),f(t,"class","jp-select"),B(t,"jp-select-has-hint",a[4])},m(l,d){c&&c.m(l,d),L(l,e,d),L(l,t,d),v&&v.m(t,null),q(t,n),q(t,i),u&&u.m(i,null),q(i,r),q(i,x),q(x,M),q(i,p),y.m(Be,i),a[25](i),q(t,$),b&&b.m(t,null),q(t,I),q(t,h),a[26](h),W(h,a[1]),L(l,C,d),w&&w.m(l,d),L(l,j,d),H||(D=[z(i,"click",Z(a[18])),z(i,"keydown",a[19]),z(h,"input",a[27])],H=!0)},p(l,d){l[8]&&l[9]=="outside"?c?c.p(l,d):(c=se(l),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null),l[10]&&l[1]?v?v.p(l,d):(v=ae(l),v.c(),v.m(t,n)):v&&(v.d(1),v=null),l[8]&&l[9]=="inside"?u?u.p(l,d):(u=ne(l),u.c(),u.m(i,r)):u&&(u.d(1),u=null),d[0]&65536&&g!==(g=(l[16]||"")+"")&&F(M,g),d[0]&768&&o!==(o=`jp-select-option ${l[9]=="outside"||!l[8]?"":"jp-select-option-padding"} `)&&f(x,"class",o),d[0]&1792&&B(x,"jp-select-option-has-clear",l[10]),d[0]&4&&(i.disabled=l[2]),d[0]&2048&&B(i,"jp-select-toggled",l[11]),l[4]?b?b.p(l,d):(b=le(l),b.c(),b.m(t,I)):b&&(b.d(1),b=null),d[0]&32&&f(h,"id",l[5]),d[0]&64&&f(h,"name",l[6]),d[0]&8&&(h.required=l[3]),d[0]&192&&N!==(N=l[7]||l[6])&&f(h,"autocomplete",N),d[0]&2&&h.value!==l[1]&&W(h,l[1]),d[0]&16&&B(t,"jp-select-has-hint",l[4]),l[11]?w?w.p(l,d):(w=ie(l),w.c(),w.m(j.parentNode,j)):w&&(w.d(1),w=null)},i:Y,o:Y,d(l){l&&(A(e),A(t),A(C),A(j)),c&&c.d(l),v&&v.d(),u&&u.d(),a[25](null),b&&b.d(),a[26](null),w&&w.d(l),H=!1,Q(D)}}}function Ke(a,e,t){let n,{attachedInternals:i}=e,{options:r=[]}=e,{disabled:x=!1}=e,{required:g=!1}=e,{hint:M=""}=e,{value:o=""}=e,{id:p=""}=e,{name:y=""}=e,{autocomplete:$=""}=e,{label:I=""}=e,{labelType:h="inside"}=e,{showClear:N=!1}=e;const C=()=>o;let{requiredValidationMessage:j}=e,H,D=!1,c,v,u=[],b="",w,l;const d=Ve(),de=()=>i.reportValidity();async function ce(){await Ee(),i.checkValidity(),H&&(H.validity.valueMissing?i.setValidity({valueMissing:!0},j||H.validationMessage,H):i.setValidity({}))}function U(){const s=c.getBoundingClientRect(),k=window.innerHeight-s.bottom,m=300;let K="";k<m?K=`
        width: ${s.width}px;
        bottom: ${window.innerHeight-s.top}px;
        left: ${s.left}px;
      `:K=`
        width: ${s.width}px;
        top: ${s.bottom}px;
        left: ${s.left}px;
      `,t(14,v=K),t(11,D=!D),setTimeout(D?()=>{const G=r.findIndex(E=>!E.disabled);G!==-1&&u[G].focus()}:()=>{c.focus()},10)}function _(s,k){if(k==="next"){for(let m=s+1;m<r.length;m++)if(!r[m].disabled)return m}else if(k==="previous"){for(let m=s-1;m>=0;m--)if(!r[m].disabled)return m}return s}function pe(s){const k=u.findIndex(K=>K===document.activeElement);let m;if(D){if(s.key==="Escape"){U(),c.focus();return}const K=s.key==="Home"||s.key==="ArrowUp"&&s.metaKey,G=s.key==="End"||s.key==="ArrowDown"&&s.metaKey;if(K){s.preventDefault();const E=r.findIndex(S=>!S.disabled);E!==-1&&u[E].focus();return}if(G){s.preventDefault();const E=r.slice().reverse().findIndex(ve=>!ve.disabled),S=E!==-1?r.length-1-E:-1;S!==-1&&u[S].focus();return}if(["ArrowDown","ArrowUp"].includes(s.key)&&(s.preventDefault(),s.key==="ArrowUp"?m=_(k,"previous"):m=_(k,"next"),u[m].focus()),s.key==="Tab"){if(s.preventDefault(),s.shiftKey){if(m=_(k,"previous"),k===m){U(),c.focus();return}}else if(m=_(k,"next"),k===m){U(),c.focus();return}u[m].focus()}if(/^[a-z\d]$/i.test(s.key)){clearTimeout(w),b+=s.key;const E=r.findIndex(S=>S.value.toLowerCase().startsWith(b.toLowerCase()));E!==-1&&u[E].focus(),w=setTimeout(()=>{b=""},500)}}}function he(){t(16,l=""),t(1,o="")}Ie(()=>{typeof r=="string"&&t(0,r=JSON.parse(r))});function fe(s){J[s?"unshift":"push"](()=>{c=s,t(13,c)})}function me(s){J[s?"unshift":"push"](()=>{H=s,t(12,H)})}function $e(){o=this.value,t(1,o)}function be(s,k){J[s?"unshift":"push"](()=>{u[k]=s,t(15,u)})}const ge=s=>{t(1,o=s.value),U()},ye=()=>t(11,D=!1);return a.$$set=s=>{"attachedInternals"in s&&t(21,i=s.attachedInternals),"options"in s&&t(0,r=s.options),"disabled"in s&&t(2,x=s.disabled),"required"in s&&t(3,g=s.required),"hint"in s&&t(4,M=s.hint),"value"in s&&t(1,o=s.value),"id"in s&&t(5,p=s.id),"name"in s&&t(6,y=s.name),"autocomplete"in s&&t(7,$=s.autocomplete),"label"in s&&t(8,I=s.label),"labelType"in s&&t(9,h=s.labelType),"showClear"in s&&t(10,N=s.showClear),"requiredValidationMessage"in s&&t(23,j=s.requiredValidationMessage)},a.$$.update=()=>{if(a.$$.dirty[0]&2048&&(D?document.documentElement.style.overflowY="hidden":document.documentElement.style.overflowY=""),a.$$.dirty[0]&3&&Array.isArray(r)){const s=r.filter(k=>k.value===o);s.length&&t(16,l=s[0].label?s[0].label:s[0].value)}a.$$.dirty[0]&2&&(ce(),d("value",o)),a.$$.dirty[0]&264&&t(17,n=g?`${I} *`:I)},[r,o,x,g,M,p,y,$,I,h,N,D,H,c,v,u,l,n,U,pe,he,i,C,j,de,fe,me,$e,be,ge,ye]}class ue extends Me{constructor(e){super(),qe(this,e,Ke,Oe,Te,{attachedInternals:21,options:0,disabled:2,required:3,hint:4,value:1,id:5,name:6,autocomplete:7,label:8,labelType:9,showClear:10,getValue:22,requiredValidationMessage:23,reportValidity:24},null,[-1,-1])}get attachedInternals(){return this.$$.ctx[21]}set attachedInternals(e){this.$$set({attachedInternals:e}),T()}get options(){return this.$$.ctx[0]}set options(e){this.$$set({options:e}),T()}get disabled(){return this.$$.ctx[2]}set disabled(e){this.$$set({disabled:e}),T()}get required(){return this.$$.ctx[3]}set required(e){this.$$set({required:e}),T()}get hint(){return this.$$.ctx[4]}set hint(e){this.$$set({hint:e}),T()}get value(){return this.$$.ctx[1]}set value(e){this.$$set({value:e}),T()}get id(){return this.$$.ctx[5]}set id(e){this.$$set({id:e}),T()}get name(){return this.$$.ctx[6]}set name(e){this.$$set({name:e}),T()}get autocomplete(){return this.$$.ctx[7]}set autocomplete(e){this.$$set({autocomplete:e}),T()}get label(){return this.$$.ctx[8]}set label(e){this.$$set({label:e}),T()}get labelType(){return this.$$.ctx[9]}set labelType(e){this.$$set({labelType:e}),T()}get showClear(){return this.$$.ctx[10]}set showClear(e){this.$$set({showClear:e}),T()}get getValue(){return this.$$.ctx[22]}get requiredValidationMessage(){return this.$$.ctx[23]}set requiredValidationMessage(e){this.$$set({requiredValidationMessage:e}),T()}get reportValidity(){return this.$$.ctx[24]}}try{customElements.define("jp-select",ke(ue,{attachedInternals:{},options:{},disabled:{type:"Boolean"},required:{type:"Boolean"},hint:{},value:{},id:{},name:{},autocomplete:{},label:{},labelType:{},showClear:{type:"Boolean"},requiredValidationMessage:{}},[],["getValue","reportValidity"],!1,a=>{var e;return e=class extends a{constructor(){super(),this.attachedInternals=this.attachInternals()}},je(e,"formAssociated",!0),e}));}catch{};export{ue as default};
//# sourceMappingURL=select.wc.js.map
