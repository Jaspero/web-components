var ye=Object.defineProperty,xe=(a,e,t)=>e in a?ye(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,je=(a,e,t)=>xe(a,typeof e!="symbol"?e+"":e,t);import{c as Me,S as ke,i as Te,f as V,s as Ve,b as K,e as q,F as G,H as P,g as f,t as E,h as C,j as T,V as R,l as J,p as W,G as Z,J as _,o as B,r as Q,D as qe,E as Le,B as X,z as Ie,Y as He,Z as Ce,I as ee,y as F}from"./svelte.js";import"./index.js";import{clickOutside as Be}from"./click-outside.js";import{wait as De}from"./wait.js";const Ae='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z" /></svg>',Ee='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z" /></svg>',ze='<svg xmlns="http://www.w3.org/2000/svg" width="1rem" height="1rem" viewBox="0 0 448 512"><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z" /></svg>';function te(a,e,t){const n=a.slice();return n[37]=e[t],n[38]=e,n[39]=t,n}function se(a){let e;return{c(){e=q("div"),f(e,"class","jp-select-label-outside")},m(t,n){C(t,e,n),e.innerHTML=a[17]},p(t,n){n[0]&131072&&(e.innerHTML=t[17])},d(t){t&&B(e)}}}function ae(a){let e,t,n;return{c(){e=q("button"),f(e,"class","jp-select-clear")},m(i,o){C(i,e,o),e.innerHTML=Ae,t||(n=J(e,"click",a[20]),t=!0)},p:_,d(i){i&&B(e),t=!1,n()}}}function ne(a){let e;return{c(){e=q("span"),f(e,"class","jp-select-label"),E(e,"jp-select-label-move",a[16]||a[11])},m(t,n){C(t,e,n),e.innerHTML=a[17]},p(t,n){n[0]&131072&&(e.innerHTML=t[17]),n[0]&67584&&E(e,"jp-select-label-move",t[16]||t[11])},d(t){t&&B(e)}}}function le(a){let e;return{c(){e=q("span"),f(e,"class","jp-select-hint")},m(t,n){C(t,e,n),e.innerHTML=a[4]},p(t,n){n[0]&16&&(e.innerHTML=t[4])},d(t){t&&B(e)}}}function ie(a){let e,t,n=[],i=new Map,o,x,b=X(a[0]);const k=r=>r[37];for(let r=0;r<b.length;r+=1){let p=te(a,b,r),v=k(p);i.set(v,n[r]=oe(v,p))}return{c(){e=q("div"),t=q("div");for(let r=0;r<n.length;r+=1)n[r].c();f(t,"class","jp-select-menu"),f(t,"style",a[14]),f(t,"role","dialog"),f(e,"class","jp-select-overlay")},m(r,p){C(r,e,p),T(e,t);for(let v=0;v<n.length;v+=1)n[v]&&n[v].m(t,null);o||(x=[Ie(Be.call(null,t)),J(t,"click_outside",a[30]),J(t,"keydown",a[19])],o=!0)},p(r,p){p[0]&294915&&(b=X(r[0]),n=He(n,p,k,1,r,b,i,t,Ce,oe,null,te)),p[0]&16384&&f(t,"style",r[14])},d(r){r&&B(e);for(let p=0;p<n.length;p+=1)n[p].d();o=!1,Q(x)}}}function re(a){let e,t;return{c(){e=new ee(!1),t=P(),e.a=t},m(n,i){e.m(ze,n,i),C(n,t,i)},d(n){n&&(B(t),e.d())}}}function oe(a,e){let t,n,i=(e[37].label?e[37].label:e[37].value)+"",o,x,b,k,r=e[39],p,v,$=e[1]==e[37].value&&re();const L=()=>e[28](t,r),h=()=>e[28](null,r);function z(){return e[29](e[37])}return{key:a,first:null,c(){t=q("button"),n=q("span"),o=G(i),x=K(),$&&$.c(),b=K(),f(t,"type","button"),t.disabled=k=e[37].disabled,E(t,"jp-select-menu-selected",e[1]==e[37].value),this.first=t},m(I,j){C(I,t,j),T(t,n),T(n,o),T(t,x),$&&$.m(t,null),T(t,b),L(),p||(v=J(t,"click",W(z)),p=!0)},p(I,j){e=I,j[0]&1&&i!==(i=(e[37].label?e[37].label:e[37].value)+"")&&Z(o,i),e[1]==e[37].value?$||($=re(),$.c(),$.m(t,b)):$&&($.d(1),$=null),j[0]&1&&k!==(k=e[37].disabled)&&(t.disabled=k),r!==e[39]&&(h(),r=e[39],L()),j[0]&3&&E(t,"jp-select-menu-selected",e[1]==e[37].value)},d(I){I&&B(t),$&&$.d(),h(),p=!1,v()}}}function Ke(a){let e,t,n,i,o,x,b=(a[16]||"")+"",k,r,p,v,$,L,h,z,I,j,H,D,d=a[8]&&a[9]=="outside"&&se(a),w=a[10]&&a[1]&&ae(a),u=a[8]&&a[9]=="inside"&&ne(a),g=a[4]&&le(a),y=a[11]&&ie(a);return{c(){d&&d.c(),e=K(),t=q("div"),w&&w.c(),n=K(),i=q("button"),u&&u.c(),o=K(),x=q("span"),k=G(b),p=K(),v=new ee(!1),$=K(),g&&g.c(),L=K(),h=q("input"),I=K(),y&&y.c(),j=P(),f(x,"class",r=`jp-select-option ${a[9]=="outside"||!a[8]?"":"jp-select-option-padding"} `),E(x,"jp-select-option-has-clear",a[10]),v.a=null,f(i,"type","button"),f(i,"class","jp-select-toggle"),i.disabled=a[2],E(i,"jp-select-toggled",a[11]),f(h,"tabindex","-1"),f(h,"id",a[5]),f(h,"name",a[6]),h.required=a[3],f(h,"autocomplete",z=a[7]||a[6]),f(t,"class","jp-select"),E(t,"jp-select-has-hint",a[4])},m(l,c){d&&d.m(l,c),C(l,e,c),C(l,t,c),w&&w.m(t,null),T(t,n),T(t,i),u&&u.m(i,null),T(i,o),T(i,x),T(x,k),T(i,p),v.m(Ee,i),a[25](i),T(t,$),g&&g.m(t,null),T(t,L),T(t,h),a[26](h),R(h,a[1]),C(l,I,c),y&&y.m(l,c),C(l,j,c),H||(D=[J(i,"click",W(a[18])),J(i,"keydown",a[19]),J(h,"input",a[27])],H=!0)},p(l,c){l[8]&&l[9]=="outside"?d?d.p(l,c):(d=se(l),d.c(),d.m(e.parentNode,e)):d&&(d.d(1),d=null),l[10]&&l[1]?w?w.p(l,c):(w=ae(l),w.c(),w.m(t,n)):w&&(w.d(1),w=null),l[8]&&l[9]=="inside"?u?u.p(l,c):(u=ne(l),u.c(),u.m(i,o)):u&&(u.d(1),u=null),c[0]&65536&&b!==(b=(l[16]||"")+"")&&Z(k,b),c[0]&768&&r!==(r=`jp-select-option ${l[9]=="outside"||!l[8]?"":"jp-select-option-padding"} `)&&f(x,"class",r),c[0]&1792&&E(x,"jp-select-option-has-clear",l[10]),c[0]&4&&(i.disabled=l[2]),c[0]&2048&&E(i,"jp-select-toggled",l[11]),l[4]?g?g.p(l,c):(g=le(l),g.c(),g.m(t,L)):g&&(g.d(1),g=null),c[0]&32&&f(h,"id",l[5]),c[0]&64&&f(h,"name",l[6]),c[0]&8&&(h.required=l[3]),c[0]&192&&z!==(z=l[7]||l[6])&&f(h,"autocomplete",z),c[0]&2&&h.value!==l[1]&&R(h,l[1]),c[0]&16&&E(t,"jp-select-has-hint",l[4]),l[11]?y?y.p(l,c):(y=ie(l),y.c(),y.m(j.parentNode,j)):y&&(y.d(1),y=null)},i:_,o:_,d(l){l&&(B(e),B(t),B(I),B(j)),d&&d.d(l),w&&w.d(),u&&u.d(),a[25](null),g&&g.d(),a[26](null),y&&y.d(l),H=!1,Q(D)}}}function Oe(a,e,t){let n,{attachedInternals:i}=e,{options:o=[]}=e,{disabled:x=!1}=e,{required:b=!1}=e,{hint:k=""}=e,{value:r=""}=e,{id:p=""}=e,{name:v=""}=e,{autocomplete:$=""}=e,{label:L=""}=e,{labelType:h="inside"}=e,{showClear:z=!1}=e;const I=()=>r;let{requiredValidationMessage:j}=e,H,D=!1,d,w,u=[],g="",y,l;const c=qe(),ce=()=>i.reportValidity();async function de(){await De(),i.checkValidity(),H&&(H.validity.valueMissing?i.setValidity({valueMissing:!0},j||H.validationMessage,H):i.setValidity({}))}function S(){const s=d.getBoundingClientRect(),M=window.innerHeight-s.bottom,m=300;let O="";M<m?O=`
        width: ${s.width}px;
        bottom: ${window.innerHeight-s.top}px;
        left: ${s.left}px;
      `:O=`
        width: ${s.width}px;
        top: ${s.bottom}px;
        left: ${s.left}px;
      `,t(14,w=O),t(11,D=!D),setTimeout(D?()=>{const Y=o.findIndex(A=>!A.disabled);Y!==-1&&u[Y].focus()}:()=>{d.focus()},10)}function U(s,M){if(M==="next"){for(let m=s+1;m<o.length;m++)if(!o[m].disabled)return m}else if(M==="previous"){for(let m=s-1;m>=0;m--)if(!o[m].disabled)return m}return s}function pe(s){const M=u.findIndex(O=>O===document.activeElement);let m;if(D){if(s.key==="Escape"){S(),d.focus();return}const O=s.key==="Home"||s.key==="ArrowUp"&&s.metaKey,Y=s.key==="End"||s.key==="ArrowDown"&&s.metaKey;if(O){s.preventDefault();const A=o.findIndex(N=>!N.disabled);A!==-1&&u[A].focus();return}if(Y){s.preventDefault();const A=o.slice().reverse().findIndex(we=>!we.disabled),N=A!==-1?o.length-1-A:-1;N!==-1&&u[N].focus();return}if(["ArrowDown","ArrowUp"].includes(s.key)&&(s.preventDefault(),s.key==="ArrowUp"?m=U(M,"previous"):m=U(M,"next"),u[m].focus()),s.key==="Tab"){if(s.preventDefault(),s.shiftKey){if(m=U(M,"previous"),M===m){S(),d.focus();return}}else if(m=U(M,"next"),M===m){S(),d.focus();return}u[m].focus()}if(/^[a-z\d]$/i.test(s.key)){clearTimeout(y),g+=s.key;const A=o.findIndex(N=>N.value.toLowerCase().startsWith(g.toLowerCase()));A!==-1&&u[A].focus(),y=setTimeout(()=>{g=""},500)}}}function he(){t(16,l=""),t(1,r="")}Le(()=>{typeof o=="string"&&t(0,o=JSON.parse(o))});function fe(s){F[s?"unshift":"push"](()=>{d=s,t(13,d)})}function me(s){F[s?"unshift":"push"](()=>{H=s,t(12,H)})}function $e(){r=this.value,t(1,r)}function ge(s,M){F[s?"unshift":"push"](()=>{u[M]=s,t(15,u)})}const be=s=>{t(1,r=s.value),S()},ve=()=>t(11,D=!1);return a.$$set=s=>{"attachedInternals"in s&&t(21,i=s.attachedInternals),"options"in s&&t(0,o=s.options),"disabled"in s&&t(2,x=s.disabled),"required"in s&&t(3,b=s.required),"hint"in s&&t(4,k=s.hint),"value"in s&&t(1,r=s.value),"id"in s&&t(5,p=s.id),"name"in s&&t(6,v=s.name),"autocomplete"in s&&t(7,$=s.autocomplete),"label"in s&&t(8,L=s.label),"labelType"in s&&t(9,h=s.labelType),"showClear"in s&&t(10,z=s.showClear),"requiredValidationMessage"in s&&t(23,j=s.requiredValidationMessage)},a.$$.update=()=>{if(a.$$.dirty[0]&2048&&(D?document.documentElement.style.overflowY="hidden":document.documentElement.style.overflowY=""),a.$$.dirty[0]&3&&Array.isArray(o)){const s=o.filter(M=>M.value===r);s.length&&t(16,l=s[0].label?s[0].label:s[0].value)}a.$$.dirty[0]&2&&(de(),c("value",r)),a.$$.dirty[0]&264&&t(17,n=b?`${L} *`:L)},[o,r,x,b,k,p,v,$,L,h,z,D,H,d,w,u,l,n,S,pe,he,i,I,j,ce,fe,me,$e,ge,be,ve]}class ue extends ke{constructor(e){super(),Te(this,e,Oe,Ke,Ve,{attachedInternals:21,options:0,disabled:2,required:3,hint:4,value:1,id:5,name:6,autocomplete:7,label:8,labelType:9,showClear:10,getValue:22,requiredValidationMessage:23,reportValidity:24},null,[-1,-1])}get attachedInternals(){return this.$$.ctx[21]}set attachedInternals(e){this.$$set({attachedInternals:e}),V()}get options(){return this.$$.ctx[0]}set options(e){this.$$set({options:e}),V()}get disabled(){return this.$$.ctx[2]}set disabled(e){this.$$set({disabled:e}),V()}get required(){return this.$$.ctx[3]}set required(e){this.$$set({required:e}),V()}get hint(){return this.$$.ctx[4]}set hint(e){this.$$set({hint:e}),V()}get value(){return this.$$.ctx[1]}set value(e){this.$$set({value:e}),V()}get id(){return this.$$.ctx[5]}set id(e){this.$$set({id:e}),V()}get name(){return this.$$.ctx[6]}set name(e){this.$$set({name:e}),V()}get autocomplete(){return this.$$.ctx[7]}set autocomplete(e){this.$$set({autocomplete:e}),V()}get label(){return this.$$.ctx[8]}set label(e){this.$$set({label:e}),V()}get labelType(){return this.$$.ctx[9]}set labelType(e){this.$$set({labelType:e}),V()}get showClear(){return this.$$.ctx[10]}set showClear(e){this.$$set({showClear:e}),V()}get getValue(){return this.$$.ctx[22]}get requiredValidationMessage(){return this.$$.ctx[23]}set requiredValidationMessage(e){this.$$set({requiredValidationMessage:e}),V()}get reportValidity(){return this.$$.ctx[24]}}try{customElements.define("jp-select",Me(ue,{attachedInternals:{},options:{},disabled:{type:"Boolean"},required:{type:"Boolean"},hint:{},value:{},id:{},name:{},autocomplete:{},label:{},labelType:{},showClear:{type:"Boolean"},requiredValidationMessage:{}},[],["getValue","reportValidity"],!1,a=>{var e;return e=class extends a{constructor(){super(),this.attachedInternals=this.attachInternals()}},je(e,"formAssociated",!0),e}));}catch{};export{ue as default};
//# sourceMappingURL=select.wc.js.map
