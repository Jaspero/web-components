var q=Object.defineProperty,G=(t,e,s)=>e in t?q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,J=(t,e,s)=>(G(t,typeof e!="symbol"?e+"":e,s),s);import{c as K,S as N,i as Q,f as M,s as W,a as X,e as h,b as L,d as i,t as H,g as A,h as d,I as P,o as $,J as Z,n as R,j as U,K as ee,k as te,L as Y}from"./svelte.js";import"./index2.js";function se(t){X(t,"svelte-1k5r425",".field.svelte-1k5r425.svelte-1k5r425{position:relative;display:flex;align-items:center;text-align:left;width:100%;height:3rem;padding-right:.75rem;-webkit-user-select:none;-moz-user-select:none;user-select:none;gap:.75rem;background-color:var(--background-primary);border:1px solid var(--border-primary);border-radius:.25rem}.field.svelte-1k5r425.svelte-1k5r425:focus-within{border-color:var(--primary-color);box-shadow:inset 0 0 0 1px var(--primary-color)}.field-label.svelte-1k5r425.svelte-1k5r425{position:absolute;top:50%;left:.75rem;transform:translateY(-50%);font-size:1rem;transition:transform .3s, top .3s, font-size .3s}.field-label.move.svelte-1k5r425.svelte-1k5r425{top:.25rem;transform:translateY(0);font-size:.75rem}.field-input.svelte-1k5r425.svelte-1k5r425{flex:auto;width:10rem;height:100%;font-size:1rem;white-space:nowrap;background:transparent;overflow:hidden;text-overflow:ellipsis;padding:1rem 0 0 0;border:none;outline:none;border-radius:0}.field-upload.svelte-1k5r425.svelte-1k5r425{position:absolute;top:0;left:0;width:100%;height:100%;border:1px solid red;border-radius:0;opacity:0;cursor:pointer}.field-upload-container.svelte-1k5r425.svelte-1k5r425{position:relative;display:flex;padding:0 .75rem;height:100%;overflow:hidden;flex:1}.field-icons.svelte-1k5r425.svelte-1k5r425{display:flex;align-items:center;gap:.375rem}.field-icon.svelte-1k5r425.svelte-1k5r425{display:flex;justify-content:center;align-items:center;width:1rem;height:1rem}.field-icon.clickable.svelte-1k5r425.svelte-1k5r425{cursor:pointer}.field-icon.hidden.svelte-1k5r425.svelte-1k5r425{display:none}.field-icon.svelte-1k5r425 button.svelte-1k5r425{width:100%;height:100%}.preview-button.svelte-1k5r425.svelte-1k5r425{position:relative}.preview.svelte-1k5r425.svelte-1k5r425{position:absolute;bottom:100%;right:0;max-width:75vw;width:auto;background-color:var(--background-primary);border-radius:.5rem;box-shadow:0 3px 12px 3px rgba(0,0,0,.16)}")}function D(t){let e,s,p;return{c(){e=h("img"),i(e,"class","preview svelte-1k5r425"),Y(e.src,s=t[6]?t[7]:t[0])||i(e,"src",s),i(e,"alt","preview"),e.hidden=p=!t[0]&&!t[7]},m(c,r){A(c,e,r)},p(c,r){r&193&&!Y(e.src,s=c[6]?c[7]:c[0])&&i(e,"src",s),r&129&&p!==(p=!c[0]&&!c[7])&&(e.hidden=p)},d(c){c&&U(e)}}}function ie(t){let e,s,p,c,r,o,b,y,n,I,m,k,z,g,w,F,V,f,x,C,T,v=t[8]&&D(t);return{c(){e=h("div"),s=h("label"),p=h("span"),c=L(),r=h("span"),o=h("input"),y=L(),n=h("input"),I=L(),m=h("div"),k=h("div"),k.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M64 480H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H288c-10.1 0-19.6-4.7-25.6-12.8L243.2 57.6C231.1 41.5 212.1 32 192 32H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64z"></path></svg>',z=L(),g=h("div"),w=h("button"),w.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"></path></svg>',F=L(),v&&v.c(),V=L(),f=h("div"),x=h("button"),x.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"></path></svg>',i(p,"class","field-label svelte-1k5r425"),H(p,"move",t[5]||t[0]),i(o,"type","file"),i(o,"class","field-upload svelte-1k5r425"),i(o,"accept",b=t[4].acceptedFiles),i(o,"id",t[2]),i(o,"name",t[3]),i(n,"class","field-input svelte-1k5r425"),i(n,"type","text"),i(n,"name",t[3]),i(n,"id",t[2]),n.disabled=t[6],i(r,"class","field-upload-container svelte-1k5r425"),i(k,"class","field-icon clickable svelte-1k5r425"),i(w,"class","svelte-1k5r425"),i(g,"class","field-icon preview-button svelte-1k5r425"),H(g,"hidden",!t[6]),i(x,"class","svelte-1k5r425"),i(f,"class","field-icon svelte-1k5r425"),H(f,"hidden",!t[6]),i(m,"class","field-icons svelte-1k5r425"),i(s,"class","field svelte-1k5r425")},m(a,u){A(a,e,u),d(e,s),d(s,p),p.innerHTML=t[1],d(s,c),d(s,r),d(r,o),d(r,y),d(r,n),P(n,t[0]),d(s,I),d(s,m),d(m,k),d(m,z),d(m,g),d(g,w),d(g,F),v&&v.m(g,null),d(m,V),d(m,f),d(f,x),C||(T=[$(o,"change",t[13]),$(o,"change",t[14]),$(o,"focus",t[15]),$(o,"blur",t[16]),$(n,"input",t[17]),$(w,"click",t[18]),$(x,"click",Z(t[19]))],C=!0)},p(a,[u]){u&2&&(p.innerHTML=a[1]),u&33&&H(p,"move",a[5]||a[0]),u&16&&b!==(b=a[4].acceptedFiles)&&i(o,"accept",b),u&4&&i(o,"id",a[2]),u&8&&i(o,"name",a[3]),u&8&&i(n,"name",a[3]),u&4&&i(n,"id",a[2]),u&64&&(n.disabled=a[6]),u&1&&n.value!==a[0]&&P(n,a[0]),a[8]?v?v.p(a,u):(v=D(a),v.c(),v.m(g,null)):v&&(v.d(1),v=null),u&64&&H(g,"hidden",!a[6]),u&64&&H(f,"hidden",!a[6])},i:R,o:R,d(a){a&&U(e),v&&v.d(),C=!1,ee(T)}}}function re(t,e,s){let{label:p="Upload a file"}=e,{attachedInternals:c}=e,{value:r=""}=e,{id:o=""}=e,{name:b=""}=e,y=!1,n=!1,I="",m=null,k=!1,{service:z}=e;const g=()=>r,w=te();async function F(){if(n)try{s(0,r=await z.uploadFile(m))}catch(l){console.log(l)}return r}async function V(l){s(6,n=!0),s(0,r=l.target.value),m=l.target.files[0];const B=await f(m);s(7,I=B)}const f=l=>new Promise((B,S)=>{const j=new FileReader;j.readAsDataURL(l),j.onload=()=>B(j.result),j.onerror=_=>S(_)});function x(){r=this.value,s(0,r)}const C=l=>{V(l)},T=()=>s(5,y=!0),v=()=>s(5,y=!1);function a(){r=this.value,s(0,r)}const u=()=>s(8,k=!k),O=()=>{s(6,n=!1),s(7,I=""),s(0,r="")};return t.$$set=l=>{"label"in l&&s(1,p=l.label),"attachedInternals"in l&&s(10,c=l.attachedInternals),"value"in l&&s(0,r=l.value),"id"in l&&s(2,o=l.id),"name"in l&&s(3,b=l.name),"service"in l&&s(4,z=l.service)},t.$$.update=()=>{t.$$.dirty&1025&&(c.checkValidity(),c.setFormValue(r),w("value",{value:r}))},[r,p,o,b,z,y,n,I,k,V,c,g,F,x,C,T,v,a,u,O]}class E extends N{constructor(e){super(),Q(this,e,re,ie,W,{label:1,attachedInternals:10,value:0,id:2,name:3,service:4,getValue:11,save:12},se)}get label(){return this.$$.ctx[1]}set label(e){this.$$set({label:e}),M()}get attachedInternals(){return this.$$.ctx[10]}set attachedInternals(e){this.$$set({attachedInternals:e}),M()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),M()}get id(){return this.$$.ctx[2]}set id(e){this.$$set({id:e}),M()}get name(){return this.$$.ctx[3]}set name(e){this.$$set({name:e}),M()}get service(){return this.$$.ctx[4]}set service(e){this.$$set({service:e}),M()}get getValue(){return this.$$.ctx[11]}get save(){return this.$$.ctx[12]}}customElements.define("jp-image-upload",K(E,{label:{},attachedInternals:{},value:{},id:{},name:{},service:{}},[],["getValue","save"],!1,t=>{var e;return e=class extends t{constructor(){super(),this.attachedInternals=this.attachInternals()}},J(e,"formAssociated",!0),e}));export{E as default};
