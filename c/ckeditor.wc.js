var W=Object.defineProperty,G=(s,e,a)=>e in s?W(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,Q=(s,e,a)=>(G(s,typeof e!="symbol"?e+"":e,a),a);import{c as J,S as U,i as X,f as c,s as Y,a as Z,b as E,e as C,d as h,g as b,h as P,L as D,o as _,n as F,j as f,k as ee,x as te,O as ae,t as se,u as ie,I as y}from"./svelte.js";import"./index2.js";function ne(s){Z(s,"svelte-1l7er5k",".label.svelte-1l7er5k{margin-top:0.5rem;margin-bottom:0.125rem;font-size:0.875rem}textarea.svelte-1l7er5k{width:100%;height:0;opacity:0;position:absolute}")}function H(s){let e,a;return{c(){e=C("div"),a=se(s[2]),h(e,"class","label svelte-1l7er5k")},m(l,u){b(l,e,u),P(e,a)},p(l,u){u&4&&ie(a,l[2])},d(l){l&&f(e)}}}function re(s){let e,a,l,u,i,g,p,r=s[2]&&H(s);return{c(){r&&r.c(),e=E(),a=C("div"),l=C("div"),u=E(),i=C("textarea"),h(i,"id",s[0]),h(i,"name",s[1]),i.required=s[3],h(i,"tabindex","-1"),h(i,"class","svelte-1l7er5k")},m(n,o){r&&r.m(n,o),b(n,e,o),b(n,a,o),P(a,l),s[16](l),s[17](a),b(n,u,o),b(n,i,o),D(i,s[4]),s[19](i),g||(p=_(i,"input",s[18]),g=!0)},p(n,[o]){n[2]?r?r.p(n,o):(r=H(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),o&1&&h(i,"id",n[0]),o&2&&h(i,"name",n[1]),o&8&&(i.required=n[3]),o&16&&D(i,n[4])},i:F,o:F,d(n){n&&(f(e),f(a),f(u),f(i)),r&&r.d(n),s[16](null),s[17](null),s[19](null),g=!1,p()}}}function le(){var s;return(s=window.CKEDITOR)==null?void 0:s.ClassicEditor}function oe(s,e,a){let{attachedInternals:l}=e,{service:u}=e,{value:i=""}=e,{id:g=null}=e,{name:p=null}=e,{label:r=""}=e,{options:n={toolbar:{items:["findAndReplace","selectAll","|","heading","|","bold","italic","strikethrough","underline","code","subscript","superscript","removeFormat","|","bulletedList","numberedList","todoList","|","outdent","indent","|","undo","redo","-","fontSize","fontColor","fontBackgroundColor","highlight","|","alignment","|","link","uploadImage","blockQuote","insertTable","mediaEmbed","codeBlock","htmlEmbed","|","specialCharacters","horizontalLine","|","sourceEditing"],shouldNotGroupWhenFull:!0},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},heading:{options:[{model:"paragraph",title:"Paragraph"},{model:"heading2",view:"h2",title:"Heading 2"},{model:"heading3",view:"h3",title:"Heading 3"},{model:"heading4",view:"h4",title:"Heading 4"},{model:"heading5",view:"h5",title:"Heading 5"},{model:"heading6",view:"h6",title:"Heading 6"}]},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0},htmlSupport:{allow:[{name:/.*/,attributes:!0,classes:!0,styles:!0}]},htmlEmbed:{showPreviews:!0},link:{decorators:{addTargetToExternalLinks:!0,defaultProtocol:"https://",toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},removePlugins:["AIAssistant","CKBox","CKFinder","EasyImage","RealTimeCollaborativeComments","RealTimeCollaborativeTrackChanges","RealTimeCollaborativeRevisionHistory","PresenceList","Comments","TrackChanges","TrackChangesData","RevisionHistory","Pagination","WProofreader","MathType","SlashCommand","Template","DocumentOutline","FormatPainter","TableOfContents","PasteFromOfficeEnhanced","CaseChange"]}}=e,{required:o=!1}=e,{validationMessages:q={}}=e,{requiredValidationMessage:w}=e,d="";const R=()=>d||"",V=ee(),A=t=>fetch(t).then($=>$.blob());let M,x,m,v;async function O(t){const $=/src="data:(.*?)"/g,j=/(^src=")|("$)/g,I=[...d.match($)||[]];return I.length&&(await Promise.all([...I].map(async T=>{try{const k=await A(T.replace(j,"")),N=await u.uploadFile(k,t);a(4,d=d.replace(T,`src="${N}"`))}catch(k){console.error(k)}})),a(8,i=d),V("value",d||"")),d}te(()=>{a(4,d=i);const t=le();if(!t){console.warn("CKEditor not found");return}t.create(x,n).then($=>{m=$,i&&m.setData(i),m.model.document.on("change:data",()=>{a(4,d=m.getData()),l.checkValidity(),v&&(!d&&o?l.setValidity({valueMissing:!0},w||q.required||v.validationMessage,v):l.setValidity({})),l.setFormValue(d||""),V("value",d||"")})}).catch(console.error)}),ae(()=>{m&&m.destroy().catch(console.error)});function S(t){y[t?"unshift":"push"](()=>{x=t,a(6,x)})}function z(t){y[t?"unshift":"push"](()=>{M=t,a(5,M)})}function B(){d=this.value,a(4,d)}function K(t){y[t?"unshift":"push"](()=>{v=t,a(7,v)})}return s.$$set=t=>{"attachedInternals"in t&&a(9,l=t.attachedInternals),"service"in t&&a(10,u=t.service),"value"in t&&a(8,i=t.value),"id"in t&&a(0,g=t.id),"name"in t&&a(1,p=t.name),"label"in t&&a(2,r=t.label),"options"in t&&a(11,n=t.options),"required"in t&&a(3,o=t.required),"validationMessages"in t&&a(12,q=t.validationMessages),"requiredValidationMessage"in t&&a(13,w=t.requiredValidationMessage)},[g,p,r,o,d,M,x,v,i,l,u,n,q,w,R,O,S,z,B,K]}class L extends U{constructor(e){super(),X(this,e,oe,re,Y,{attachedInternals:9,service:10,value:8,id:0,name:1,label:2,options:11,required:3,validationMessages:12,requiredValidationMessage:13,getValue:14,save:15},ne)}get attachedInternals(){return this.$$.ctx[9]}set attachedInternals(e){this.$$set({attachedInternals:e}),c()}get service(){return this.$$.ctx[10]}set service(e){this.$$set({service:e}),c()}get value(){return this.$$.ctx[8]}set value(e){this.$$set({value:e}),c()}get id(){return this.$$.ctx[0]}set id(e){this.$$set({id:e}),c()}get name(){return this.$$.ctx[1]}set name(e){this.$$set({name:e}),c()}get label(){return this.$$.ctx[2]}set label(e){this.$$set({label:e}),c()}get options(){return this.$$.ctx[11]}set options(e){this.$$set({options:e}),c()}get required(){return this.$$.ctx[3]}set required(e){this.$$set({required:e}),c()}get validationMessages(){return this.$$.ctx[12]}set validationMessages(e){this.$$set({validationMessages:e}),c()}get requiredValidationMessage(){return this.$$.ctx[13]}set requiredValidationMessage(e){this.$$set({requiredValidationMessage:e}),c()}get getValue(){return this.$$.ctx[14]}get save(){return this.$$.ctx[15]}}try{customElements.define("jp-ckeditor",J(L,{attachedInternals:{},service:{},value:{},id:{},name:{},label:{},options:{},required:{type:"Boolean"},validationMessages:{},requiredValidationMessage:{}},[],["getValue","save"],!1,s=>{var e;return e=class extends s{constructor(){super(),this.attachedInternals=this.attachInternals()}},Q(e,"formAssociated",!0),e}));}catch{};export{L as default};
