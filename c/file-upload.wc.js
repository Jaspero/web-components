var pe=Object.defineProperty,me=(a,e,t)=>e in a?pe(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,fe=(a,e,t)=>(me(a,typeof e!="symbol"?e+"":e,t),t);import{c as ve,S as xe,i as he,f as C,s as we,a as ge,b as V,e as h,d as l,g as $,h as g,o as w,J as B,n as _,j as T,k as ye,I as ke,G as D,m as A,K as E,L as G,r as R,M as J,N as ze}from"./svelte.js";import"./index2.js";import{c as $e}from"./clickOutside.js";function Te(a){ge(a,"svelte-1bba0u2",`.field.svelte-1bba0u2.svelte-1bba0u2{position:relative;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-webkit-flex-direction:row-reverse;-moz-box-orient:horizontal;-moz-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;text-align:left;width:100%;height:3rem;padding-right:0.75rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;gap:0.75rem;background-color:transparent;border:1px solid var(--border-primary);-webkit-border-radius:0.25rem;-moz-border-radius:0.25rem;border-radius:0.25rem}.drop.svelte-1bba0u2.svelte-1bba0u2{position:absolute;left:0;right:0;top:0;bottom:0;border:2px dashed var(--primary-color)}.field.svelte-1bba0u2.svelte-1bba0u2:focus-within{border-color:var(--primary-color);-webkit-box-shadow:inset 0 0 0 1px var(--primary-color);-moz-box-shadow:inset 0 0 0 1px var(--primary-color);box-shadow:inset 0 0 0 1px var(--primary-color)}.field-label.svelte-1bba0u2.svelte-1bba0u2{position:absolute;top:50%;left:0.75rem;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);font-size:1rem;-webkit-transition:transform 0.3s,
      top 0.3s,
      font-size 0.3s;-o-transition:transform 0.3s,
      top 0.3s,
      font-size 0.3s;-moz-transition:transform 0.3s,
      top 0.3s,
      font-size 0.3s;-webkit-transition:top 0.3s,
      font-size 0.3s,
      -webkit-transform 0.3s;transition:top 0.3s,
      font-size 0.3s,
      -webkit-transform 0.3s;-o-transition:top 0.3s,
      font-size 0.3s,
      -o-transform 0.3s;-moz-transition:transform 0.3s,
      top 0.3s,
      font-size 0.3s,
      -moz-transform 0.3s;transition:transform 0.3s,
      top 0.3s,
      font-size 0.3s;transition:transform 0.3s,
      top 0.3s,
      font-size 0.3s,
      -webkit-transform 0.3s,
      -moz-transform 0.3s,
      -o-transform 0.3s}.field-label.move.svelte-1bba0u2.svelte-1bba0u2{top:0.25rem;-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0);font-size:0.75rem}.field-input.svelte-1bba0u2.svelte-1bba0u2{-webkit-box-flex:1;-webkit-flex:auto;-moz-box-flex:1;-ms-flex:auto;flex:auto;width:10rem;height:100%;font-size:1rem;white-space:nowrap;background:transparent;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;border:none;outline:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.field-input-padding.svelte-1bba0u2.svelte-1bba0u2{padding:1rem 0 0 0}.field-upload.svelte-1bba0u2.svelte-1bba0u2{z-index:1;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;opacity:0;cursor:pointer}.field-upload-container.svelte-1bba0u2.svelte-1bba0u2{position:relative;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding:0 0.75rem;height:100%;overflow:hidden;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.field-icons.svelte-1bba0u2.svelte-1bba0u2{z-index:1;position:relative;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:0.375rem}.field-icon.svelte-1bba0u2.svelte-1bba0u2{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:2rem;height:2rem;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;cursor:pointer}.field-icon.svelte-1bba0u2.svelte-1bba0u2:hover{background:var(--background-tertiary)}.field-icon.hidden.svelte-1bba0u2.svelte-1bba0u2{display:none}.field-icon-upload.svelte-1bba0u2.svelte-1bba0u2{position:relative;cursor:pointer}.field-icon.svelte-1bba0u2 button.svelte-1bba0u2{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:100%}.preview-button.svelte-1bba0u2.svelte-1bba0u2{position:relative}.preview.svelte-1bba0u2.svelte-1bba0u2{z-index:1;position:absolute;bottom:100%;right:0;max-width:300px;max-height:300px;width:auto;height:auto;background-color:var(--background-primary);-webkit-border-radius:0.5rem;-moz-border-radius:0.5rem;border-radius:0.5rem;-webkit-box-shadow:0 3px 12px 3px rgba(0, 0, 0, 0.16);-moz-box-shadow:0 3px 12px 3px rgba(0, 0, 0, 0.16);box-shadow:0 3px 12px 3px rgba(0, 0, 0, 0.16)}`)}function K(a){let e;return{c(){e=h("div"),l(e,"class","label")},m(t,i){$(t,e,i),e.innerHTML=a[1]},p(t,i){i[0]&2&&(e.innerHTML=t[1])},d(t){t&&T(e)}}}function Me(a){let e,t,i,b,c,n,y,k,v,o,p,I,H,Y,M,d,z,F,S,x=a[1]&&a[2]=="inside"&&O(a),m=a[11]&&U(a),f=a[0]&&W(a);return{c(){x&&x.c(),e=V(),t=h("div"),i=h("label"),b=h("input"),n=V(),y=D("svg"),k=D("path"),v=V(),o=h("div"),p=h("button"),p.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"></path></svg>',I=V(),m&&m.c(),H=V(),f&&f.c(),Y=V(),M=h("span"),d=h("input"),l(b,"type","file"),l(b,"id",a[4]),l(b,"class","field-upload svelte-1bba0u2"),l(b,"accept",c=a[5]&&a[5].acceptedFiles),l(k,"d","M64 480H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H288c-10.1 0-19.6-4.7-25.6-12.8L243.2 57.6C231.1 41.5 212.1 32 192 32H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64z"),l(y,"xmlns","http://www.w3.org/2000/svg"),l(y,"height","1rem"),l(y,"viewBox","0 0 512 512"),l(i,"for",a[4]),l(i,"class","field-icon field-icon-upload svelte-1bba0u2"),l(p,"class","svelte-1bba0u2"),l(o,"class","field-icon preview-button svelte-1bba0u2"),A(o,"hidden",!a[10]),l(t,"class","field-icons svelte-1bba0u2"),l(d,"class",z=E(`field-input ${a[2]=="outside"||!a[1]?"":"field-input-padding"}`)+" svelte-1bba0u2"),l(d,"type","text"),l(d,"name",a[4]),l(d,"id",a[3]),d.disabled=a[9],l(M,"class","field-upload-container svelte-1bba0u2")},m(r,u){x&&x.m(r,u),$(r,e,u),$(r,t,u),g(t,i),g(i,b),g(i,n),g(i,y),g(y,k),g(t,v),g(t,o),g(o,p),g(o,I),m&&m.m(o,null),g(t,H),f&&f.m(t,null),$(r,Y,u),$(r,M,u),g(M,d),G(d,a[0]),F||(S=[w(b,"change",a[14]),w(b,"focus",a[23]),w(b,"blur",a[24]),w(p,"click",B(a[25])),w(d,"focus",a[28]),w(d,"blur",a[29]),w(d,"change",a[30]),w(d,"input",a[31])],F=!0)},p(r,u){r[1]&&r[2]=="inside"?x?x.p(r,u):(x=O(r),x.c(),x.m(e.parentNode,e)):x&&(x.d(1),x=null),u[0]&16&&l(b,"id",r[4]),u[0]&32&&c!==(c=r[5]&&r[5].acceptedFiles)&&l(b,"accept",c),u[0]&16&&l(i,"for",r[4]),r[11]?m?m.p(r,u):(m=U(r),m.c(),m.m(o,null)):m&&(m.d(1),m=null),u[0]&1024&&A(o,"hidden",!r[10]),r[0]?f?f.p(r,u):(f=W(r),f.c(),f.m(t,null)):f&&(f.d(1),f=null),u[0]&6&&z!==(z=E(`field-input ${r[2]=="outside"||!r[1]?"":"field-input-padding"}`)+" svelte-1bba0u2")&&l(d,"class",z),u[0]&16&&l(d,"name",r[4]),u[0]&8&&l(d,"id",r[3]),u[0]&512&&(d.disabled=r[9]),u[0]&1&&d.value!==r[0]&&G(d,r[0])},d(r){r&&(T(e),T(t),T(Y),T(M)),x&&x.d(r),m&&m.d(),f&&f.d(),F=!1,R(S)}}}function He(a){let e,t,i;return{c(){e=h("div"),l(e,"class","drop svelte-1bba0u2")},m(b,c){$(b,e,c),t||(i=[w(e,"dragleave",a[20]),w(e,"dragend",a[21]),w(e,"drop",B(a[22]))],t=!0)},p:_,d(b){b&&T(e),t=!1,R(i)}}}function O(a){let e;return{c(){e=h("span"),l(e,"class","field-label svelte-1bba0u2"),A(e,"move",a[8]||a[0])},m(t,i){$(t,e,i),e.innerHTML=a[1]},p(t,i){i[0]&2&&(e.innerHTML=t[1]),i[0]&257&&A(e,"move",t[8]||t[0])},d(t){t&&T(e)}}}function U(a){let e,t,i,b;return{c(){e=h("img"),l(e,"class","preview svelte-1bba0u2"),l(e,"style",a[6]),J(e.src,t=a[10])||l(e,"src",t),l(e,"alt","preview")},m(c,n){$(c,e,n),i||(b=[ze($e.call(null,e)),w(e,"click_outside",a[26])],i=!0)},p(c,n){n[0]&64&&l(e,"style",c[6]),n[0]&1024&&!J(e.src,t=c[10])&&l(e,"src",t)},d(c){c&&T(e),i=!1,R(b)}}}function W(a){let e,t,i,b;return{c(){e=h("div"),t=h("button"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"></path></svg>',l(t,"class","svelte-1bba0u2"),l(e,"class","field-icon svelte-1bba0u2")},m(c,n){$(c,e,n),g(e,t),i||(b=w(t,"click",B(a[27])),i=!0)},p:_,d(c){c&&T(e),i=!1,b()}}}function Ie(a){let e,t,i,b,c,n=a[1]&&a[2]=="outside"&&K(a);function y(o,p){return o[12]?He:Me}let k=y(a),v=k(a);return{c(){n&&n.c(),e=V(),t=h("div"),i=h("div"),v.c(),l(i,"class","field svelte-1bba0u2")},m(o,p){n&&n.m(o,p),$(o,e,p),$(o,t,p),g(t,i),v.m(i,null),a[32](i),b||(c=w(i,"dragover",B(a[33])),b=!0)},p(o,p){o[1]&&o[2]=="outside"?n?n.p(o,p):(n=K(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),k===(k=y(o))&&v?v.p(o,p):(v.d(1),v=k(o),v&&(v.c(),v.m(i,null)))},i:_,o:_,d(o){o&&(T(e),T(t)),n&&n.d(o),v.d(),a[32](null),b=!1,c()}}}function Ye(a,e,t){let{label:i=""}=e,{labelType:b="inside"}=e,{attachedInternals:c}=e,{value:n=""}=e,{id:y=""}=e,{name:k=""}=e,v,o,p=!1,I=!1,H="",Y=null,M=!1,d=!1,{service:z}=e;const F=()=>n,S=ye();async function x(s){if(I)try{t(0,n=await z.uploadFile(Y,s))}catch(j){console.log(j)}return n}async function m(s){if(z&&z.maxSize&&s.size>z.maxSize){S("rejected",{file:s.name,code:"maxSize"});return}if(t(9,I=!0),Y=s,t(0,n=s.name),Y.type.split("/")[0]==="image"){const j=await Q(Y);t(10,H=j)}else t(10,H="")}async function f(s){s.dataTransfer.files.length&&m(s.dataTransfer.files[0]),t(12,d=!1)}async function r(s){m(s.target.files[0])}async function u(){I||((await(await fetch(n)).blob()).type.startsWith("image/")?t(10,H=n):t(10,H=""))}function P(){const s=o.getBoundingClientRect(),j=window.innerHeight-s.bottom,N=300;let L="";j<N?L=`bottom: ${window.innerHeight-s.top}px;right: ${s.left}px;`:L=`top:${s.bottom}px;right: ${s.left}px;`,t(6,v=L),t(11,M=!M)}const Q=s=>new Promise((j,N)=>{const L=new FileReader;L.readAsDataURL(s),L.onload=()=>j(L.result),L.onerror=ue=>N(ue)}),X=()=>t(12,d=!1),Z=()=>t(12,d=!1),ee=s=>f(s),te=()=>t(8,p=!0),ae=()=>t(8,p=!1),ie=()=>P(),se=()=>t(11,M=!1),ne=()=>{t(9,I=!1),t(10,H=""),t(0,n="")},le=()=>t(8,p=!0),re=()=>t(8,p=!1),oe=()=>u();function be(){n=this.value,t(0,n)}function ce(s){ke[s?"unshift":"push"](()=>{o=s,t(7,o)})}const de=()=>t(12,d=!0);return a.$$set=s=>{"label"in s&&t(1,i=s.label),"labelType"in s&&t(2,b=s.labelType),"attachedInternals"in s&&t(17,c=s.attachedInternals),"value"in s&&t(0,n=s.value),"id"in s&&t(3,y=s.id),"name"in s&&t(4,k=s.name),"service"in s&&t(5,z=s.service)},a.$$.update=()=>{a.$$.dirty[0]&131073&&(c.checkValidity(),c.setFormValue(n),S("value",{value:n}))},[n,i,b,y,k,z,v,o,p,I,H,M,d,f,r,u,P,c,F,x,X,Z,ee,te,ae,ie,se,ne,le,re,oe,be,ce,de]}class q extends xe{constructor(e){super(),he(this,e,Ye,Ie,we,{label:1,labelType:2,attachedInternals:17,value:0,id:3,name:4,service:5,getValue:18,save:19},Te,[-1,-1])}get label(){return this.$$.ctx[1]}set label(e){this.$$set({label:e}),C()}get labelType(){return this.$$.ctx[2]}set labelType(e){this.$$set({labelType:e}),C()}get attachedInternals(){return this.$$.ctx[17]}set attachedInternals(e){this.$$set({attachedInternals:e}),C()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),C()}get id(){return this.$$.ctx[3]}set id(e){this.$$set({id:e}),C()}get name(){return this.$$.ctx[4]}set name(e){this.$$set({name:e}),C()}get service(){return this.$$.ctx[5]}set service(e){this.$$set({service:e}),C()}get getValue(){return this.$$.ctx[18]}get save(){return this.$$.ctx[19]}}try{customElements.define("jp-file-upload",ve(q,{label:{},labelType:{},attachedInternals:{},value:{},id:{},name:{},service:{}},[],["getValue","save"],!1,a=>{var e;return e=class extends a{constructor(){super(),this.attachedInternals=this.attachInternals()}},fe(e,"formAssociated",!0),e}));}catch{};export{q as default};
