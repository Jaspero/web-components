var ce=Object.defineProperty,de=(o,e,t)=>e in o?ce(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,he=(o,e,t)=>(de(o,typeof e!="symbol"?e+"":e,t),t);import{c as ue,S as me,i as ve,f as E,s as pe,a as fe,e as V,b as j,q as J,E as U,p as be,d as h,t as A,g as B,h as g,I as P,o as H,J as _,r as N,n as G,j as D,K as R,k as ge,w as qe,l as F,V as xe,O as we,P as $e,G as Q}from"./svelte.js";import"./index2.js";function ye(o){fe(o,"svelte-171iqoh",".has-hint.svelte-171iqoh.svelte-171iqoh{position:relative;margin-bottom:1.25rem}.overlay.svelte-171iqoh.svelte-171iqoh{z-index:100;position:fixed;top:0;left:0;right:0;bottom:0}.select.svelte-171iqoh.svelte-171iqoh{position:relative;display:flex;justify-content:space-between;align-items:center;text-align:left;width:100%;height:3rem;-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:0 .75rem;gap:.75rem;background-color:var(--background-primary);border:1px solid var(--border-primary);border-radius:.25rem}.select.svelte-171iqoh.svelte-171iqoh:focus{outline:none;border-color:var(--primary-color);box-shadow:inset 0 0 0 1px var(--primary-color)}.select.toggled.svelte-171iqoh.svelte-171iqoh{border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-color:var(--primary-color);box-shadow:inset 0 -2px 1px -1px var(--primary-color)}.select.svelte-171iqoh.svelte-171iqoh:disabled{opacity:.5}.select-label.svelte-171iqoh.svelte-171iqoh{position:absolute;top:50%;transform:translateY(-50%);transition:.3s}.select-label.move.svelte-171iqoh.svelte-171iqoh{top:.25rem;transform:translateY(0);font-size:.75rem}input:required+.select.svelte-171iqoh .select-label.svelte-171iqoh::after{content:' *'}input.svelte-171iqoh:required:invalid+.select.svelte-171iqoh{border-color:var(--danger-color)}.select-option.svelte-171iqoh.svelte-171iqoh{flex:auto;width:10rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-top:1rem}.select-arrow.svelte-171iqoh.svelte-171iqoh{width:1rem;height:1rem;min-width:1rem;min-height:1rem;transition:.3s}.select-arrow.rotate.svelte-171iqoh.svelte-171iqoh{transform:rotate(-180deg)}.select-hint.svelte-171iqoh.svelte-171iqoh{position:absolute;top:100%;left:0;width:100%;height:1.25rem;line-height:1.25rem;font-size:.75rem;padding:0 .75rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--text-secondary)}.select-hint.svelte-171iqoh.svelte-171iqoh:hover{z-index:255;overflow:unset}.menu.svelte-171iqoh.svelte-171iqoh{position:absolute;display:flex;flex-direction:column;max-height:300px;overflow-y:auto;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;box-shadow:0 6px 9px rgba(0,0,0,.16);background-color:var(--background-primary)}.menu-button.svelte-171iqoh.svelte-171iqoh{display:flex;justify-content:space-between;align-items:center;gap:.75rem;padding:.75rem;text-align:left;outline:none;transition:.3s}.menu-button.selected.svelte-171iqoh.svelte-171iqoh{background-color:var(--background-tertiary);color:var(--primary-color);fill:var(--primary-color)}.menu-button.svelte-171iqoh.svelte-171iqoh:disabled{opacity:.33}.menu-button.svelte-171iqoh.svelte-171iqoh:not(:disabled):hover,.menu-button.svelte-171iqoh.svelte-171iqoh:focus{background-color:var(--background-secondary)}")}function W(o,e,t){const i=o.slice();return i[28]=e[t],i[29]=e,i[30]=t,i}function X(o){let e;return{c(){e=V("span"),h(e,"class","select-hint svelte-171iqoh")},m(t,i){B(t,e,i),e.innerHTML=o[4]},p(t,i){i&16&&(e.innerHTML=t[4])},d(t){t&&D(e)}}}function Z(o){let e,t,i=[],a=new Map,m,l,$=F(o[0]);const k=r=>r[28];for(let r=0;r<$.length;r+=1){let d=W(o,$,r),q=k(d);a.set(q,i[r]=te(q,d))}return{c(){e=V("div"),t=V("div");for(let r=0;r<i.length;r+=1)i[r].c();h(t,"class","menu svelte-171iqoh"),h(t,"style",o[10]),h(e,"class","overlay svelte-171iqoh"),h(e,"tabindex","-1"),h(e,"role","dialog")},m(r,d){B(r,e,d),g(e,t);for(let q=0;q<i.length;q+=1)i[q]&&i[q].m(t,null);m||(l=[H(e,"click",xe(o[13])),H(e,"keydown",o[14])],m=!0)},p(r,d){d&2049&&($=F(r[0]),i=we(i,d,k,1,r,$,a,t,$e,te,null,W)),d&1024&&h(t,"style",r[10])},d(r){r&&D(e);for(let d=0;d<i.length;d+=1)i[d].d();m=!1,R(l)}}}function ee(o){let e,t;return{c(){e=U("svg"),t=U("path"),h(t,"d","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"width","1rem"),h(e,"height","1rem"),h(e,"viewBox","0 0 448 512")},m(i,a){B(i,e,a),g(e,t)},d(i){i&&D(e)}}}function te(o,e){let t,i,a=(e[28].label?e[28].label:e[28].value)+"",m,l,$,k,r=e[30],d,q,f=e[28].selected&&ee();const y=()=>e[21](t,r),z=()=>e[21](null,r);function M(){return e[22](e[28],e[29],e[30])}return{key:o,first:null,c(){t=V("button"),i=V("span"),m=J(a),l=j(),f&&f.c(),$=j(),h(t,"class","menu-button svelte-171iqoh"),t.disabled=k=e[28].disabled,A(t,"selected",e[28].selected),this.first=t},m(w,v){B(w,t,v),g(t,i),g(i,m),g(t,l),f&&f.m(t,null),g(t,$),y(),d||(q=H(t,"click",_(M)),d=!0)},p(w,v){e=w,v&1&&a!==(a=(e[28].label?e[28].label:e[28].value)+"")&&N(m,a),e[28].selected?f||(f=ee(),f.c(),f.m(t,$)):f&&(f.d(1),f=null),v&1&&k!==(k=e[28].disabled)&&(t.disabled=k),r!==e[30]&&(z(),r=e[30],y()),v&1&&A(t,"selected",e[28].selected)},d(w){w&&D(t),f&&f.d(),z(),d=!1,q()}}}function ke(o){let e,t,i,a,m,l=(o[7]||"Select an option")+"",$,k,r,d=(o[12]||"")+"",q,f,y,z,M,w,v,T,S,b=o[4]&&X(o),x=o[8]&&Z(o);return{c(){e=V("div"),t=V("input"),i=j(),a=V("button"),m=V("span"),$=J(l),k=j(),r=V("span"),q=J(d),f=j(),y=U("svg"),z=U("path"),M=j(),b&&b.c(),w=j(),x&&x.c(),v=be(),h(t,"id",o[5]),h(t,"name",o[6]),t.required=o[3],t.hidden=!0,h(t,"class","svelte-171iqoh"),h(m,"class","select-label svelte-171iqoh"),A(m,"move",o[1]||o[8]),h(r,"class","select-option svelte-171iqoh"),h(z,"d","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"),h(y,"xmlns","http://www.w3.org/2000/svg"),h(y,"viewBox","0 0 320 512"),h(y,"class","select-arrow svelte-171iqoh"),A(y,"rotate",o[8]),h(a,"class","select svelte-171iqoh"),a.disabled=o[2],A(a,"toggled",o[8]),h(e,"class","svelte-171iqoh"),A(e,"has-hint",o[4])},m(c,p){B(c,e,p),g(e,t),P(t,o[1]),g(e,i),g(e,a),g(a,m),g(m,$),g(a,k),g(a,r),g(r,q),g(a,f),g(a,y),g(y,z),o[20](a),g(e,M),b&&b.m(e,null),B(c,w,p),x&&x.m(c,p),B(c,v,p),T||(S=[H(t,"input",o[19]),H(a,"click",_(o[13])),H(a,"keydown",o[14])],T=!0)},p(c,[p]){p&32&&h(t,"id",c[5]),p&64&&h(t,"name",c[6]),p&8&&(t.required=c[3]),p&2&&t.value!==c[1]&&P(t,c[1]),p&128&&l!==(l=(c[7]||"Select an option")+"")&&N($,l),p&258&&A(m,"move",c[1]||c[8]),p&4096&&d!==(d=(c[12]||"")+"")&&N(q,d),p&256&&A(y,"rotate",c[8]),p&4&&(a.disabled=c[2]),p&256&&A(a,"toggled",c[8]),c[4]?b?b.p(c,p):(b=X(c),b.c(),b.m(e,null)):b&&(b.d(1),b=null),p&16&&A(e,"has-hint",c[4]),c[8]?x?x.p(c,p):(x=Z(c),x.c(),x.m(v.parentNode,v)):x&&(x.d(1),x=null)},i:G,o:G,d(c){c&&(D(e),D(w),D(v)),o[20](null),b&&b.d(),x&&x.d(c),T=!1,R(S)}}}function Se(o,e,t){let{attachedInternals:i}=e,{minSelects:a=0}=e,{maxSelects:m=null}=e,{options:l=[]}=e,{disabled:$=!1}=e,{required:k=!1}=e,{hint:r=""}=e,{value:d=""}=e,{id:q=""}=e,{name:f=""}=e,{label:y="Label"}=e;const z=()=>l.filter(s=>s.selected).map(s=>s.value);let M=!1,w=!1,v,T,S=[],b="",x,c;const p=ge();function Y(s){if(s&&s.target&&s.target.closest(".menu"))return;const n=v.getBoundingClientRect(),u=window.innerHeight-n.bottom,K=300;let O="";u<K?O=`
            min-width: ${n.width}px;
            bottom: ${window.innerHeight-n.top}px;
            left: ${n.left}px;
        `:O=`
            min-width: ${n.width}px;
            top: ${n.bottom}px;
            left: ${n.left}px;
        `,t(10,T=O),t(8,w=!w),setTimeout(w?()=>{const I=l.findIndex(L=>!L.disabled);I!==-1&&S[I].focus()}:()=>{M?v.nextElementSibling.focus():v.focus()},10)}function C(s,n){if(n==="next"){for(let u=s+1;u<l.length;u++)if(!l[u].disabled)return u}else if(n==="previous"){for(let u=s-1;u>=0;u--)if(!l[u].disabled)return u}return s}function oe(s){const n=S.findIndex(K=>K===document.activeElement);let u;if(w){if(s.key==="Escape"){Y(),v.focus();return}const K=s.key==="Home"||s.key==="ArrowUp"&&s.metaKey,O=s.key==="End"||s.key==="ArrowDown"&&s.metaKey;if(K){s.preventDefault();const I=l.findIndex(L=>!L.disabled);I!==-1&&S[I].focus();return}if(O){s.preventDefault();const I=l.slice().reverse().findIndex(ae=>!ae.disabled),L=I!==-1?l.length-1-I:-1;L!==-1&&S[L].focus();return}if(["ArrowDown","ArrowUp"].includes(s.key)&&(s.preventDefault(),s.key==="ArrowUp"?u=C(n,"previous"):u=C(n,"next"),S[u].focus()),s.key==="Tab"){if(s.preventDefault(),M=!0,s.shiftKey){if(u=C(n,"previous"),n===u){Y(),v.focus();return}}else if(u=C(n,"next"),n===u){Y(),v.focus();return}S[u].focus()}if(/^[a-z\d]$/i.test(s.key)){clearTimeout(x),b+=s.key;const I=l.findIndex(L=>L.toLowerCase().includes(b.toLowerCase()));I!==-1&&S[I].focus(),x=setTimeout(()=>{b=""},500)}}}qe(()=>{typeof l=="string"&&t(0,l=JSON.parse(l)),m||t(15,m=l.length)});function ie(){d=this.value,t(1,d),t(0,l),t(17,a),t(16,i),t(15,m)}function ne(s){Q[s?"unshift":"push"](()=>{v=s,t(9,v)})}function le(s,n){Q[s?"unshift":"push"](()=>{S[n]=s,t(11,S)})}const re=(s,n,u)=>t(0,n[u].selected=!s.selected,l);return o.$$set=s=>{"attachedInternals"in s&&t(16,i=s.attachedInternals),"minSelects"in s&&t(17,a=s.minSelects),"maxSelects"in s&&t(15,m=s.maxSelects),"options"in s&&t(0,l=s.options),"disabled"in s&&t(2,$=s.disabled),"required"in s&&t(3,k=s.required),"hint"in s&&t(4,r=s.hint),"value"in s&&t(1,d=s.value),"id"in s&&t(5,q=s.id),"name"in s&&t(6,f=s.name),"label"in s&&t(7,y=s.label)},o.$$.update=()=>{if(o.$$.dirty&229377&&Array.isArray(l)){const s=l.filter(n=>n.selected).length;s<a?i.setValidity({customError:!0},"Below limit checks."):s>m?i.setValidity({customError:!0},"Above limit checks."):i.setValidity({}),i.checkValidity(),t(1,d=l.filter(n=>n.selected).map(n=>n.value).join(",")),t(12,c=l.filter(n=>n.selected).map(n=>n.label?n.label:n.value)),p("value",l.filter(n=>n.selected).map(n=>n.value))}o.$$.dirty&256&&(w?document.documentElement.style.overflowY="hidden":document.documentElement.style.overflowY="")},[l,d,$,k,r,q,f,y,w,v,T,S,c,Y,oe,m,i,a,z,ie,ne,le,re]}class se extends me{constructor(e){super(),ve(this,e,Se,ke,pe,{attachedInternals:16,minSelects:17,maxSelects:15,options:0,disabled:2,required:3,hint:4,value:1,id:5,name:6,label:7,getValue:18},ye)}get attachedInternals(){return this.$$.ctx[16]}set attachedInternals(e){this.$$set({attachedInternals:e}),E()}get minSelects(){return this.$$.ctx[17]}set minSelects(e){this.$$set({minSelects:e}),E()}get maxSelects(){return this.$$.ctx[15]}set maxSelects(e){this.$$set({maxSelects:e}),E()}get options(){return this.$$.ctx[0]}set options(e){this.$$set({options:e}),E()}get disabled(){return this.$$.ctx[2]}set disabled(e){this.$$set({disabled:e}),E()}get required(){return this.$$.ctx[3]}set required(e){this.$$set({required:e}),E()}get hint(){return this.$$.ctx[4]}set hint(e){this.$$set({hint:e}),E()}get value(){return this.$$.ctx[1]}set value(e){this.$$set({value:e}),E()}get id(){return this.$$.ctx[5]}set id(e){this.$$set({id:e}),E()}get name(){return this.$$.ctx[6]}set name(e){this.$$set({name:e}),E()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),E()}get getValue(){return this.$$.ctx[18]}}customElements.define("jp-multiselect",ue(se,{attachedInternals:{},minSelects:{},maxSelects:{},options:{},disabled:{type:"Boolean"},required:{type:"Boolean"},hint:{},value:{},id:{},name:{},label:{}},[],["getValue"],!1,o=>{var e;return e=class extends o{constructor(){super(),this.attachedInternals=this.attachInternals()}},he(e,"formAssociated",!0),e}));export{se as default};
