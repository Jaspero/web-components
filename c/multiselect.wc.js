var Se=Object.defineProperty,qe=(l,e,t)=>e in l?Se(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,Le=(l,e,t)=>qe(l,typeof e!="symbol"?e+"":e,t);import{c as Oe,S as Ae,i as Ce,f as w,s as Ee,b as H,e as L,F as te,d as P,g as m,t as V,h as D,j as M,U as se,l as _,p as le,G as ie,J as X,o as U,r as ae,D as Be,E as He,B as ne,z as De,_ as Ue,$ as ze,y as re}from"./svelte.js";import"./index.js";import{clickOutside as Ke}from"./click-outside.js";function ce(l,e,t){const n=l.slice();return n[41]=e[t],n[42]=e,n[43]=t,n}function de(l){let e;return{c(){e=L("div"),m(e,"class","label")},m(t,n){D(t,e,n),e.innerHTML=l[7]},p(t,n){n[0]&128&&(e.innerHTML=t[7])},d(t){t&&U(e)}}}function ue(l){let e,t,n;return{c(){e=L("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"></path></svg>',m(e,"class","jp-multiselect-clear")},m(r,j){D(r,e,j),t||(n=_(e,"click",l[17]),t=!0)},p:X,d(r){r&&U(e),t=!1,n()}}}function oe(l){let e;return{c(){e=L("span"),m(e,"class","jp-multiselect-select-label"),V(e,"jp-multiselect-select-label-move",l[1]||l[10])},m(t,n){D(t,e,n),e.innerHTML=l[7]},p(t,n){n[0]&128&&(e.innerHTML=t[7]),n[0]&1026&&V(e,"jp-multiselect-select-label-move",t[1]||t[10])},d(t){t&&U(e)}}}function me(l){let e;return{c(){e=L("span"),m(e,"class","jp-multiselect-select-hint")},m(t,n){D(t,e,n),e.innerHTML=l[4]},p(t,n){n[0]&16&&(e.innerHTML=t[4])},d(t){t&&U(e)}}}function pe(l){let e,t,n=[],r=new Map,j,o,i=ne(l[0]);const y=u=>u[41];for(let u=0;u<i.length;u+=1){let h=ce(l,i,u),g=y(h);r.set(g,n[u]=ge(g,h))}return{c(){e=L("div"),t=L("div");for(let u=0;u<n.length;u+=1)n[u].c();m(t,"class","jp-multiselect-menu"),m(t,"style",l[12]),m(e,"class","jp-multiselect-overlay")},m(u,h){D(u,e,h),M(e,t);for(let g=0;g<n.length;g+=1)n[g]&&n[g].m(t,null);j||(o=[De(Ke.call(null,t)),_(t,"click_outside",l[34]),_(t,"keydown",l[19])],j=!0)},p(u,h){h[0]&40961&&(i=ne(u[0]),n=Ue(n,h,y,1,u,i,r,t,ze,ge,null,ce)),h[0]&4096&&m(t,"style",u[12])},d(u){u&&U(e);for(let h=0;h<n.length;h+=1)n[h].d();j=!1,ae(o)}}}function he(l){let e,t;return{c(){e=P("svg"),t=P("path"),m(t,"d","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","1rem"),m(e,"height","1rem"),m(e,"viewBox","0 0 448 512")},m(n,r){D(n,e,r),M(e,t)},d(n){n&&U(e)}}}function ge(l,e){let t,n,r=(e[41].label?e[41].label:e[41].value)+"",j,o,i,y,u=e[43],h,g,$=e[41].selected&&he();const T=()=>e[32](t,u),B=()=>e[32](null,u);function F(){return e[33](e[41],e[42],e[43])}return{key:l,first:null,c(){t=L("button"),n=L("span"),j=te(r),o=H(),$&&$.c(),i=H(),m(t,"type","button"),m(t,"class","jp-multiselect-menu-button"),t.disabled=y=e[41].disabled,V(t,"jp-multiselect-menu-button-selected",e[41].selected),V(t,"jp-multiselect-menu-button-disabled",e[41].disabled),this.first=t},m(S,I){D(S,t,I),M(t,n),M(n,j),M(t,o),$&&$.m(t,null),M(t,i),T(),h||(g=_(t,"click",le(F)),h=!0)},p(S,I){e=S,I[0]&1&&r!==(r=(e[41].label?e[41].label:e[41].value)+"")&&ie(j,r),e[41].selected?$||($=he(),$.c(),$.m(t,i)):$&&($.d(1),$=null),I[0]&1&&y!==(y=e[41].disabled)&&(t.disabled=y),u!==e[43]&&(B(),u=e[43],T()),I[0]&1&&V(t,"jp-multiselect-menu-button-selected",e[41].selected),I[0]&1&&V(t,"jp-multiselect-menu-button-disabled",e[41].disabled)},d(S){S&&U(t),$&&$.d(),B(),h=!1,g()}}}function Fe(l){let e,t,n,r,j,o,i,y,u=(l[14]||"")+"",h,g,$,T,B,F,S,I,Y,f=l[7]&&l[8]=="outside"&&de(l),b=l[9]&&l[16]&&ue(l),v=l[7]&&l[8]=="inside"&&oe(l),x=l[4]&&me(l),k=l[10]&&pe(l);return{c(){f&&f.c(),e=H(),t=L("div"),b&&b.c(),n=H(),r=L("input"),j=H(),o=L("button"),v&&v.c(),i=H(),y=L("span"),h=te(u),$=H(),T=P("svg"),B=P("path"),F=H(),x&&x.c(),S=H(),k&&k.c(),m(r,"class","jp-multiselect-input"),m(r,"tabindex","-1"),r.required=l[3],m(r,"id",l[5]),m(r,"name",l[6]),V(r,"jp-multiselect-input-required",l[3]),m(y,"class",g=`jp-multiselect-select-option ${l[8]=="outside"||!l[7]?"":"jp-multiselect-select-option-padding"}`),V(y,"has-clear",l[9]),m(B,"d","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"),m(T,"xmlns","http://www.w3.org/2000/svg"),m(T,"viewBox","0 0 320 512"),m(T,"class","jp-multiselect-select-arrow"),V(T,"jp-multiselect-rotate",l[10]),m(o,"type","button"),m(o,"class","jp-multiselect-select"),o.disabled=l[2],V(o,"jp-multiselect-select-toggled",l[10]),V(o,"jp-multiselect-select-disabled",l[2]),m(t,"class","jp-multiselect-wrapper"),V(t,"jp-multiselect-has-hint",l[4])},m(a,c){f&&f.m(a,c),D(a,e,c),D(a,t,c),b&&b.m(t,null),M(t,n),M(t,r),se(r,l[1]),M(t,j),M(t,o),v&&v.m(o,null),M(o,i),M(o,y),M(y,h),M(o,$),M(o,T),M(T,B),l[31](o),M(t,F),x&&x.m(t,null),M(t,S),k&&k.m(t,null),I||(Y=[_(r,"input",l[30]),_(o,"click",le(l[18])),_(o,"keydown",l[19])],I=!0)},p(a,c){a[7]&&a[8]=="outside"?f?f.p(a,c):(f=de(a),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null),a[9]&&a[16]?b?b.p(a,c):(b=ue(a),b.c(),b.m(t,n)):b&&(b.d(1),b=null),c[0]&8&&(r.required=a[3]),c[0]&32&&m(r,"id",a[5]),c[0]&64&&m(r,"name",a[6]),c[0]&2&&r.value!==a[1]&&se(r,a[1]),c[0]&8&&V(r,"jp-multiselect-input-required",a[3]),a[7]&&a[8]=="inside"?v?v.p(a,c):(v=oe(a),v.c(),v.m(o,i)):v&&(v.d(1),v=null),c[0]&16384&&u!==(u=(a[14]||"")+"")&&ie(h,u),c[0]&384&&g!==(g=`jp-multiselect-select-option ${a[8]=="outside"||!a[7]?"":"jp-multiselect-select-option-padding"}`)&&m(y,"class",g),c[0]&896&&V(y,"has-clear",a[9]),c[0]&1024&&V(T,"jp-multiselect-rotate",a[10]),c[0]&4&&(o.disabled=a[2]),c[0]&1024&&V(o,"jp-multiselect-select-toggled",a[10]),c[0]&4&&V(o,"jp-multiselect-select-disabled",a[2]),a[4]?x?x.p(a,c):(x=me(a),x.c(),x.m(t,S)):x&&(x.d(1),x=null),a[10]?k?k.p(a,c):(k=pe(a),k.c(),k.m(t,null)):k&&(k.d(1),k=null),c[0]&16&&V(t,"jp-multiselect-has-hint",a[4])},i:X,o:X,d(a){a&&(U(e),U(t)),f&&f.d(a),b&&b.d(),v&&v.d(),l[31](null),x&&x.d(),k&&k.d(),I=!1,ae(Y)}}}function _e(l,e,t){let n,{attachedInternals:r}=e,{minSelects:j=0}=e,{maxSelects:o=null}=e,{options:i=[]}=e,{disabled:y=!1}=e,{required:u=!1}=e,{hint:h=""}=e,{value:g}=e,{internalValue:$=""}=e,{id:T=""}=e,{name:B=""}=e,{label:F=""}=e,{labelType:S="inside"}=e,{showClear:I=!1}=e;const Y=()=>i.filter(s=>s.selected).sort((s,p)=>s.selectedOrder-p.selectedOrder).map(s=>s.value);let{validationMessages:f={}}=e,{requiredValidationMessage:b}=e,{minselectsValidationMessage:v}=e,{maxselectsValidationMessage:x}=e,k=!1,a=!1,c,Z,C=[],Q="",ee,W,J=0;const fe=Be(),be=()=>{r.reportValidity()};function ve(){t(14,W=null),Array.isArray(i)&&t(0,i=i.map(s=>({...s,selected:!1,selectedOrder:null})))}function xe(){if(t(0,i=i.map(s=>({...s,selected:!1,selectedOrder:null}))),typeof g=="string"){const s=g.split(",");s.forEach((p,d)=>{const O=i[i.findIndex(z=>z.value==p)];O.selected=!0,O.selectedOrder=d}),t(15,J=s.length)}else g.forEach((s,p)=>{const d=i[i.findIndex(O=>O.value==s)];d.selected=!0,d.selectedOrder=p}),t(15,J=g.length)}function R(s){if(s&&s.target&&s.target.closest(".menu"))return;const p=c.getBoundingClientRect(),d=window.innerHeight-p.bottom,O=300;let z="";d<O?z=`
        width: ${p.width}px;
        bottom: ${window.innerHeight-p.top}px;
        left: ${p.left}px;
      `:z=`
        width: ${p.width}px;
        top: ${p.bottom}px;
        left: ${p.left}px;
      `,t(12,Z=z),t(10,a=!a),setTimeout(a?()=>{var q;const A=i.findIndex(N=>!N.disabled);A!==-1&&((q=C[A])==null||q.focus())}:()=>{var q;k?(q=c.nextElementSibling)==null||q.focus():c?.focus()},10)}function G(s,p){if(p==="next"){for(let d=s+1;d<i.length;d++)if(!i[d].disabled)return d}else if(p==="previous"){for(let d=s-1;d>=0;d--)if(!i[d].disabled)return d}return s}function ye(s){var p,d,O,z;const q=C.findIndex(N=>N===document.activeElement);let A;if(a){if(s.key==="Escape"){R(),c.focus();return}const N=s.key==="Home"||s.key==="ArrowUp"&&s.metaKey,Te=s.key==="End"||s.key==="ArrowDown"&&s.metaKey;if(N){s.preventDefault();const K=i.findIndex(E=>!E.disabled);K!==-1&&((p=C[K])==null||p.focus());return}if(Te){s.preventDefault();const K=i.slice().reverse().findIndex(Ie=>!Ie.disabled),E=K!==-1?i.length-1-K:-1;E!==-1&&((d=C[E])==null||d.focus());return}if(["ArrowDown","ArrowUp"].includes(s.key)&&(s.preventDefault(),s.key==="ArrowUp"?A=G(q,"previous"):A=G(q,"next"),(O=C[A])==null||O.focus()),s.key==="Tab"){if(s.preventDefault(),k=!0,s.shiftKey){if(A=G(q,"previous"),q===A){R(),c?.focus();return}}else if(A=G(q,"next"),q===A){R(),c?.focus();return}(z=C[A])==null||z.focus()}if(/^[a-z\d]$/i.test(s.key)){clearTimeout(ee),Q+=s.key;const K=i.map(E=>E.label?E.label:E.value).findIndex(E=>E.toLowerCase().includes(Q.toLowerCase()));K!==-1&&C[K].focus(),ee=setTimeout(()=>{Q=""},500)}}}He(()=>{typeof i=="string"&&t(0,i=JSON.parse(i)),o||t(20,o=i.length),t(0,i=i.map(s=>(s.selected==null&&(s.selected=!1),s.selectedOrder=null,s)))});function we(){$=this.value,t(1,$),t(0,i),t(3,u),t(21,r),t(26,b),t(25,f),t(11,c),t(22,j),t(27,v),t(20,o),t(28,x)}function Ve(s){re[s?"unshift":"push"](()=>{c=s,t(11,c)})}function Me(s,p){re[s?"unshift":"push"](()=>{C[p]=s,t(13,C)})}const je=(s,p,d)=>{t(0,p[d].selected=!s.selected,i),s.selected?t(0,p[d].selectedOrder=t(15,J++,J),i):t(0,p[d].selectedOrder=null,i)},ke=()=>t(10,a=!1);return l.$$set=s=>{"attachedInternals"in s&&t(21,r=s.attachedInternals),"minSelects"in s&&t(22,j=s.minSelects),"maxSelects"in s&&t(20,o=s.maxSelects),"options"in s&&t(0,i=s.options),"disabled"in s&&t(2,y=s.disabled),"required"in s&&t(3,u=s.required),"hint"in s&&t(4,h=s.hint),"value"in s&&t(23,g=s.value),"internalValue"in s&&t(1,$=s.internalValue),"id"in s&&t(5,T=s.id),"name"in s&&t(6,B=s.name),"label"in s&&t(7,F=s.label),"labelType"in s&&t(8,S=s.labelType),"showClear"in s&&t(9,I=s.showClear),"validationMessages"in s&&t(25,f=s.validationMessages),"requiredValidationMessage"in s&&t(26,b=s.requiredValidationMessage),"minselectsValidationMessage"in s&&t(27,v=s.minselectsValidationMessage),"maxselectsValidationMessage"in s&&t(28,x=s.maxselectsValidationMessage)},l.$$.update=()=>{if(l.$$.dirty[0]&1024&&(a?document.documentElement.style.overflowY="hidden":document.documentElement.style.overflowY=""),l.$$.dirty[0]&510658569&&Array.isArray(i)){const s=i.filter(d=>d.selected).length;s==0&&u?r.setValidity({customError:!0},b||f.required||"At least one item needs to be checked.",c):s<j?r.setValidity({customError:!0},v||f.minselects||"Below limit checks.",c):s>o?r.setValidity({customError:!0},x||f.maxselects||"Above limit checks.",c):r.setValidity({}),r.checkValidity();const p=i.filter(d=>d.selected).sort((d,O)=>d.selectedOrder-O.selectedOrder);t(1,$=p.map(d=>d.value).join(",")),t(14,W=p.map(d=>d.label?d.label:d.value)),fe("value",p.map(d=>d.value))}l.$$.dirty[0]&1&&t(16,n=Array.isArray(i)&&i.some(s=>s.selected)),l.$$.dirty[0]&8388608&&g&&xe()},[i,$,y,u,h,T,B,F,S,I,a,c,Z,C,W,J,n,ve,R,ye,o,r,j,g,Y,f,b,v,x,be,we,Ve,Me,je,ke]}class $e extends Ae{constructor(e){super(),Ce(this,e,_e,Fe,Ee,{attachedInternals:21,minSelects:22,maxSelects:20,options:0,disabled:2,required:3,hint:4,value:23,internalValue:1,id:5,name:6,label:7,labelType:8,showClear:9,getValue:24,validationMessages:25,requiredValidationMessage:26,minselectsValidationMessage:27,maxselectsValidationMessage:28,reportValidity:29},null,[-1,-1])}get attachedInternals(){return this.$$.ctx[21]}set attachedInternals(e){this.$$set({attachedInternals:e}),w()}get minSelects(){return this.$$.ctx[22]}set minSelects(e){this.$$set({minSelects:e}),w()}get maxSelects(){return this.$$.ctx[20]}set maxSelects(e){this.$$set({maxSelects:e}),w()}get options(){return this.$$.ctx[0]}set options(e){this.$$set({options:e}),w()}get disabled(){return this.$$.ctx[2]}set disabled(e){this.$$set({disabled:e}),w()}get required(){return this.$$.ctx[3]}set required(e){this.$$set({required:e}),w()}get hint(){return this.$$.ctx[4]}set hint(e){this.$$set({hint:e}),w()}get value(){return this.$$.ctx[23]}set value(e){this.$$set({value:e}),w()}get internalValue(){return this.$$.ctx[1]}set internalValue(e){this.$$set({internalValue:e}),w()}get id(){return this.$$.ctx[5]}set id(e){this.$$set({id:e}),w()}get name(){return this.$$.ctx[6]}set name(e){this.$$set({name:e}),w()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),w()}get labelType(){return this.$$.ctx[8]}set labelType(e){this.$$set({labelType:e}),w()}get showClear(){return this.$$.ctx[9]}set showClear(e){this.$$set({showClear:e}),w()}get getValue(){return this.$$.ctx[24]}get validationMessages(){return this.$$.ctx[25]}set validationMessages(e){this.$$set({validationMessages:e}),w()}get requiredValidationMessage(){return this.$$.ctx[26]}set requiredValidationMessage(e){this.$$set({requiredValidationMessage:e}),w()}get minselectsValidationMessage(){return this.$$.ctx[27]}set minselectsValidationMessage(e){this.$$set({minselectsValidationMessage:e}),w()}get maxselectsValidationMessage(){return this.$$.ctx[28]}set maxselectsValidationMessage(e){this.$$set({maxselectsValidationMessage:e}),w()}get reportValidity(){return this.$$.ctx[29]}}try{customElements.define("jp-multiselect",Oe($e,{attachedInternals:{},minSelects:{},maxSelects:{},options:{},disabled:{type:"Boolean"},required:{type:"Boolean"},hint:{},value:{},internalValue:{},id:{},name:{},label:{},labelType:{},showClear:{type:"Boolean"},validationMessages:{},requiredValidationMessage:{},minselectsValidationMessage:{},maxselectsValidationMessage:{}},[],["getValue","reportValidity"],!1,l=>{var e;return e=class extends l{constructor(){super(),this.attachedInternals=this.attachInternals()}},Le(e,"formAssociated",!0),e}));}catch{};export{$e as default};
//# sourceMappingURL=multiselect.wc.js.map
