var de=Object.defineProperty,he=(i,e,t)=>e in i?de(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,ue=(i,e,t)=>(he(i,typeof e!="symbol"?e+"":e,t),t);import{c as me,S as ve,i as pe,f as V,s as fe,a as be,e as z,b as H,q as U,E as C,p as ge,d as h,t as A,g as L,h as q,I as N,o as T,J as P,r as J,n as G,j as B,K as Q,k as xe,w as qe,l as R,O as $e,P as we,Q as ye,G as F}from"./svelte.js";import"./index2.js";function ke(i){be(i,"svelte-171iqoh",".has-hint.svelte-171iqoh.svelte-171iqoh{position:relative;margin-bottom:1.25rem}.overlay.svelte-171iqoh.svelte-171iqoh{z-index:100;position:fixed;top:0;left:0;right:0;bottom:0}.select.svelte-171iqoh.svelte-171iqoh{position:relative;display:flex;justify-content:space-between;align-items:center;text-align:left;width:100%;height:3rem;-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:0 .75rem;gap:.75rem;background-color:var(--background-primary);border:1px solid var(--border-primary);border-radius:.25rem}.select.svelte-171iqoh.svelte-171iqoh:focus{outline:none;border-color:var(--primary-color);box-shadow:inset 0 0 0 1px var(--primary-color)}.select.toggled.svelte-171iqoh.svelte-171iqoh{border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-color:var(--primary-color);box-shadow:inset 0 -2px 1px -1px var(--primary-color)}.select.svelte-171iqoh.svelte-171iqoh:disabled{opacity:.5}.select-label.svelte-171iqoh.svelte-171iqoh{position:absolute;top:50%;transform:translateY(-50%);transition:.3s}.select-label.move.svelte-171iqoh.svelte-171iqoh{top:.25rem;transform:translateY(0);font-size:.75rem}input:required+.select.svelte-171iqoh .select-label.svelte-171iqoh::after{content:' *'}input.svelte-171iqoh:required:invalid+.select.svelte-171iqoh{border-color:var(--danger-color)}.select-option.svelte-171iqoh.svelte-171iqoh{flex:auto;width:10rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-top:1rem}.select-arrow.svelte-171iqoh.svelte-171iqoh{width:1rem;height:1rem;min-width:1rem;min-height:1rem;transition:.3s}.select-arrow.rotate.svelte-171iqoh.svelte-171iqoh{transform:rotate(-180deg)}.select-hint.svelte-171iqoh.svelte-171iqoh{position:absolute;top:100%;left:0;width:100%;height:1.25rem;line-height:1.25rem;font-size:.75rem;padding:0 .75rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--text-secondary)}.select-hint.svelte-171iqoh.svelte-171iqoh:hover{z-index:255;overflow:unset}.menu.svelte-171iqoh.svelte-171iqoh{position:absolute;display:flex;flex-direction:column;max-height:300px;overflow-y:auto;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;box-shadow:0 6px 9px rgba(0,0,0,.16);background-color:var(--background-primary)}.menu-button.svelte-171iqoh.svelte-171iqoh{display:flex;justify-content:space-between;align-items:center;gap:.75rem;padding:.75rem;text-align:left;outline:none;transition:.3s}.menu-button.selected.svelte-171iqoh.svelte-171iqoh{background-color:var(--background-tertiary);color:var(--primary-color);fill:var(--primary-color)}.menu-button.svelte-171iqoh.svelte-171iqoh:disabled{opacity:.33}.menu-button.svelte-171iqoh.svelte-171iqoh:not(:disabled):hover,.menu-button.svelte-171iqoh.svelte-171iqoh:focus{background-color:var(--background-secondary)}")}function W(i,e,t){const l=i.slice();return l[29]=e[t],l[30]=e,l[31]=t,l}function X(i){let e;return{c(){e=z("span"),h(e,"class","select-hint svelte-171iqoh")},m(t,l){L(t,e,l),e.innerHTML=i[4]},p(t,l){l[0]&16&&(e.innerHTML=t[4])},d(t){t&&B(e)}}}function Z(i){let e,t,l=[],a=new Map,v,n,$=R(i[0]);const y=r=>r[29];for(let r=0;r<$.length;r+=1){let d=W(i,$,r),f=y(d);a.set(f,l[r]=te(f,d))}return{c(){e=z("div"),t=z("div");for(let r=0;r<l.length;r+=1)l[r].c();h(t,"class","menu svelte-171iqoh"),h(t,"style",i[10]),h(e,"class","overlay svelte-171iqoh"),h(e,"tabindex","-1"),h(e,"role","dialog")},m(r,d){L(r,e,d),q(e,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);v||(n=[T(e,"click",$e(i[13])),T(e,"keydown",i[14])],v=!0)},p(r,d){d[0]&2049&&($=R(r[0]),l=we(l,d,y,1,r,$,a,t,ye,te,null,W)),d[0]&1024&&h(t,"style",r[10])},d(r){r&&B(e);for(let d=0;d<l.length;d+=1)l[d].d();v=!1,Q(n)}}}function ee(i){let e,t;return{c(){e=C("svg"),t=C("path"),h(t,"d","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"width","1rem"),h(e,"height","1rem"),h(e,"viewBox","0 0 448 512")},m(l,a){L(l,e,a),q(e,t)},d(l){l&&B(e)}}}function te(i,e){let t,l,a=(e[29].label?e[29].label:e[29].value)+"",v,n,$,y,r=e[31],d,f,b=e[29].selected&&ee();const w=()=>e[22](t,r),j=()=>e[22](null,r);function D(){return e[23](e[29],e[30],e[31])}return{key:i,first:null,c(){t=z("button"),l=z("span"),v=U(a),n=H(),b&&b.c(),$=H(),h(t,"class","menu-button svelte-171iqoh"),t.disabled=y=e[29].disabled,A(t,"selected",e[29].selected),this.first=t},m(S,g){L(S,t,g),q(t,l),q(l,v),q(t,n),b&&b.m(t,null),q(t,$),w(),d||(f=T(t,"click",P(D)),d=!0)},p(S,g){e=S,g[0]&1&&a!==(a=(e[29].label?e[29].label:e[29].value)+"")&&J(v,a),e[29].selected?b||(b=ee(),b.c(),b.m(t,$)):b&&(b.d(1),b=null),g[0]&1&&y!==(y=e[29].disabled)&&(t.disabled=y),r!==e[31]&&(j(),r=e[31],w()),g[0]&1&&A(t,"selected",e[29].selected)},d(S){S&&B(t),b&&b.d(),j(),d=!1,f()}}}function Se(i){let e,t,l,a,v,n=(i[7]||"Select an option")+"",$,y,r,d=(i[12]||"")+"",f,b,w,j,D,S,g,k,K,u=i[4]&&X(i),x=i[8]&&Z(i);return{c(){e=z("div"),t=z("input"),l=H(),a=z("button"),v=z("span"),$=U(n),y=H(),r=z("span"),f=U(d),b=H(),w=C("svg"),j=C("path"),D=H(),u&&u.c(),S=H(),x&&x.c(),g=ge(),h(t,"id",i[5]),h(t,"name",i[6]),t.required=i[3],t.hidden=!0,h(t,"class","svelte-171iqoh"),h(v,"class","select-label svelte-171iqoh"),A(v,"move",i[1]||i[8]),h(r,"class","select-option svelte-171iqoh"),h(j,"d","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"),h(w,"xmlns","http://www.w3.org/2000/svg"),h(w,"viewBox","0 0 320 512"),h(w,"class","select-arrow svelte-171iqoh"),A(w,"rotate",i[8]),h(a,"class","select svelte-171iqoh"),a.disabled=i[2],A(a,"toggled",i[8]),h(e,"class","svelte-171iqoh"),A(e,"has-hint",i[4])},m(c,p){L(c,e,p),q(e,t),N(t,i[1]),q(e,l),q(e,a),q(a,v),q(v,$),q(a,y),q(a,r),q(r,f),q(a,b),q(a,w),q(w,j),i[21](a),q(e,D),u&&u.m(e,null),L(c,S,p),x&&x.m(c,p),L(c,g,p),k||(K=[T(t,"input",i[20]),T(a,"click",P(i[13])),T(a,"keydown",i[14])],k=!0)},p(c,p){p[0]&32&&h(t,"id",c[5]),p[0]&64&&h(t,"name",c[6]),p[0]&8&&(t.required=c[3]),p[0]&2&&t.value!==c[1]&&N(t,c[1]),p[0]&128&&n!==(n=(c[7]||"Select an option")+"")&&J($,n),p[0]&258&&A(v,"move",c[1]||c[8]),p[0]&4096&&d!==(d=(c[12]||"")+"")&&J(f,d),p[0]&256&&A(w,"rotate",c[8]),p[0]&4&&(a.disabled=c[2]),p[0]&256&&A(a,"toggled",c[8]),c[4]?u?u.p(c,p):(u=X(c),u.c(),u.m(e,null)):u&&(u.d(1),u=null),p[0]&16&&A(e,"has-hint",c[4]),c[8]?x?x.p(c,p):(x=Z(c),x.c(),x.m(g.parentNode,g)):x&&(x.d(1),x=null)},i:G,o:G,d(c){c&&(B(e),B(S),B(g)),i[21](null),u&&u.d(),x&&x.d(c),k=!1,Q(K)}}}function Ie(i,e,t){let{attachedInternals:l}=e,{minSelects:a=0}=e,{maxSelects:v=null}=e,{options:n=[]}=e,{disabled:$=!1}=e,{required:y=!1}=e,{hint:r=""}=e,{value:d}=e,{internalValue:f=""}=e,{id:b=""}=e,{name:w=""}=e,{label:j="Label"}=e;const D=()=>n.filter(s=>s.selected).map(s=>s.value);let S=!1,g=!1,k,K,u=[],x="",c,p;const ie=xe();function Y(s){if(s&&s.target&&s.target.closest(".menu"))return;const o=k.getBoundingClientRect(),m=window.innerHeight-o.bottom,M=300;let O="";m<M?O=`
            min-width: ${o.width}px;
            bottom: ${window.innerHeight-o.top}px;
            left: ${o.left}px;
        `:O=`
            min-width: ${o.width}px;
            top: ${o.bottom}px;
            left: ${o.left}px;
        `,t(10,K=O),t(8,g=!g),setTimeout(g?()=>{const E=n.findIndex(I=>!I.disabled);E!==-1&&u[E].focus()}:()=>{S?k.nextElementSibling.focus():k.focus()},10)}function _(s,o){if(o==="next"){for(let m=s+1;m<n.length;m++)if(!n[m].disabled)return m}else if(o==="previous"){for(let m=s-1;m>=0;m--)if(!n[m].disabled)return m}return s}function ne(s){const o=u.findIndex(M=>M===document.activeElement);let m;if(g){if(s.key==="Escape"){Y(),k.focus();return}const M=s.key==="Home"||s.key==="ArrowUp"&&s.metaKey,O=s.key==="End"||s.key==="ArrowDown"&&s.metaKey;if(M){s.preventDefault();const E=n.findIndex(I=>!I.disabled);E!==-1&&u[E].focus();return}if(O){s.preventDefault();const E=n.slice().reverse().findIndex(ce=>!ce.disabled),I=E!==-1?n.length-1-E:-1;I!==-1&&u[I].focus();return}if(["ArrowDown","ArrowUp"].includes(s.key)&&(s.preventDefault(),s.key==="ArrowUp"?m=_(o,"previous"):m=_(o,"next"),u[m].focus()),s.key==="Tab"){if(s.preventDefault(),S=!0,s.shiftKey){if(m=_(o,"previous"),o===m){Y(),k.focus();return}}else if(m=_(o,"next"),o===m){Y(),k.focus();return}u[m].focus()}if(/^[a-z\d]$/i.test(s.key)){clearTimeout(c),x+=s.key;const E=n.map(I=>I.label?I.label:I.value).findIndex(I=>I.toLowerCase().includes(x.toLowerCase()));E!==-1&&u[E].focus(),c=setTimeout(()=>{x=""},500)}}}qe(()=>{typeof n=="string"&&t(0,n=JSON.parse(n)),v||t(15,v=n.length),t(0,n=n.map(s=>(s.selected==null&&(s.selected=!1),s))),d&&(typeof d=="string"?d.split(",").forEach(s=>{t(0,n[n.findIndex(o=>o.value==s)].selected=!0,n)}):d.forEach(s=>{t(0,n[n.findIndex(o=>o.value==s)].selected=!0,n)}))});function oe(){f=this.value,t(1,f),t(0,n),t(17,a),t(16,l),t(15,v)}function le(s){F[s?"unshift":"push"](()=>{k=s,t(9,k)})}function re(s,o){F[s?"unshift":"push"](()=>{u[o]=s,t(11,u)})}const ae=(s,o,m)=>t(0,o[m].selected=!s.selected,n);return i.$$set=s=>{"attachedInternals"in s&&t(16,l=s.attachedInternals),"minSelects"in s&&t(17,a=s.minSelects),"maxSelects"in s&&t(15,v=s.maxSelects),"options"in s&&t(0,n=s.options),"disabled"in s&&t(2,$=s.disabled),"required"in s&&t(3,y=s.required),"hint"in s&&t(4,r=s.hint),"value"in s&&t(18,d=s.value),"internalValue"in s&&t(1,f=s.internalValue),"id"in s&&t(5,b=s.id),"name"in s&&t(6,w=s.name),"label"in s&&t(7,j=s.label)},i.$$.update=()=>{if(i.$$.dirty[0]&229377&&Array.isArray(n)){const s=n.filter(o=>o.selected).length;s<a?l.setValidity({customError:!0},"Below limit checks."):s>v?l.setValidity({customError:!0},"Above limit checks."):l.setValidity({}),l.checkValidity(),t(1,f=n.filter(o=>o.selected).map(o=>o.value).join(",")),t(12,p=n.filter(o=>o.selected).map(o=>o.label?o.label:o.value)),ie("value",n.filter(o=>o.selected).map(o=>o.value))}i.$$.dirty[0]&256&&(g?document.documentElement.style.overflowY="hidden":document.documentElement.style.overflowY="")},[n,f,$,y,r,b,w,j,g,k,K,u,p,Y,ne,v,l,a,d,D,oe,le,re,ae]}class se extends ve{constructor(e){super(),pe(this,e,Ie,Se,fe,{attachedInternals:16,minSelects:17,maxSelects:15,options:0,disabled:2,required:3,hint:4,value:18,internalValue:1,id:5,name:6,label:7,getValue:19},ke,[-1,-1])}get attachedInternals(){return this.$$.ctx[16]}set attachedInternals(e){this.$$set({attachedInternals:e}),V()}get minSelects(){return this.$$.ctx[17]}set minSelects(e){this.$$set({minSelects:e}),V()}get maxSelects(){return this.$$.ctx[15]}set maxSelects(e){this.$$set({maxSelects:e}),V()}get options(){return this.$$.ctx[0]}set options(e){this.$$set({options:e}),V()}get disabled(){return this.$$.ctx[2]}set disabled(e){this.$$set({disabled:e}),V()}get required(){return this.$$.ctx[3]}set required(e){this.$$set({required:e}),V()}get hint(){return this.$$.ctx[4]}set hint(e){this.$$set({hint:e}),V()}get value(){return this.$$.ctx[18]}set value(e){this.$$set({value:e}),V()}get internalValue(){return this.$$.ctx[1]}set internalValue(e){this.$$set({internalValue:e}),V()}get id(){return this.$$.ctx[5]}set id(e){this.$$set({id:e}),V()}get name(){return this.$$.ctx[6]}set name(e){this.$$set({name:e}),V()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),V()}get getValue(){return this.$$.ctx[19]}}customElements.define("jp-multiselect",me(se,{attachedInternals:{},minSelects:{},maxSelects:{},options:{},disabled:{type:"Boolean"},required:{type:"Boolean"},hint:{},value:{},internalValue:{},id:{},name:{},label:{}},[],["getValue"],!1,i=>{var e;return e=class extends i{constructor(){super(),this.attachedInternals=this.attachInternals()}},ue(e,"formAssociated",!0),e}));export{se as default};
