var ye=Object.defineProperty,pe=(i,e,t)=>e in i?ye(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,ve=(i,e,t)=>(pe(i,typeof e!="symbol"?e+"":e,t),t);import{c as he,S as xe,i as ge,f as $,s as we,a as $e,e as S,b as D,t as O,G as J,l as ke,d as m,m as j,g as L,h,L as W,o as H,J as X,u as G,n as F,j as B,r as Q,k as Ve,x as Me,p as Z,V as ze,W as qe,X as Ie,I as ee}from"./svelte.js";import"./index2.js";function Se(i){$e(i,"svelte-1y747yf",".has-hint.svelte-1y747yf.svelte-1y747yf{position:relative;margin-bottom:1.25rem}.overlay.svelte-1y747yf.svelte-1y747yf{z-index:100;position:fixed;top:0;left:0;right:0;bottom:0}.select.svelte-1y747yf.svelte-1y747yf{position:relative;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;text-align:left;width:100%;height:3rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 0.75rem;gap:0.75rem;background-color:var(--background-primary);border:1px solid var(--border-primary);-webkit-border-radius:0.25rem;-moz-border-radius:0.25rem;border-radius:0.25rem}.select.svelte-1y747yf.svelte-1y747yf:focus{outline:none;border-color:var(--primary-color);-webkit-box-shadow:inset 0 0 0 1px var(--primary-color);-moz-box-shadow:inset 0 0 0 1px var(--primary-color);box-shadow:inset 0 0 0 1px var(--primary-color)}.select.toggled.svelte-1y747yf.svelte-1y747yf{-webkit-border-bottom-left-radius:0;-moz-border-radius-bottomleft:0;border-bottom-left-radius:0;-webkit-border-bottom-right-radius:0;-moz-border-radius-bottomright:0;border-bottom-right-radius:0;border-bottom-color:var(--primary-color);-webkit-box-shadow:inset 0 -2px 1px -1px var(--primary-color);-moz-box-shadow:inset 0 -2px 1px -1px var(--primary-color);box-shadow:inset 0 -2px 1px -1px var(--primary-color)}.select.svelte-1y747yf.svelte-1y747yf:disabled{opacity:0.5}.select-label.svelte-1y747yf.svelte-1y747yf{position:absolute;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);-webkit-transition:0.3s;-o-transition:0.3s;-moz-transition:0.3s;transition:0.3s}.select-label.move.svelte-1y747yf.svelte-1y747yf{top:0.25rem;-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0);font-size:0.75rem}input:required+.select.svelte-1y747yf .select-label.svelte-1y747yf::after{content:' *'}input.svelte-1y747yf:required:invalid+.select.svelte-1y747yf{border-color:var(--danger-color)}.select-option.svelte-1y747yf.svelte-1y747yf{-webkit-box-flex:1;-webkit-flex:auto;-moz-box-flex:1;-ms-flex:auto;flex:auto;width:10rem;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;padding-top:1rem}.select-arrow.svelte-1y747yf.svelte-1y747yf{width:1rem;height:1rem;min-width:1rem;min-height:1rem;-webkit-transition:0.3s;-o-transition:0.3s;-moz-transition:0.3s;transition:0.3s}.select-arrow.rotate.svelte-1y747yf.svelte-1y747yf{-webkit-transform:rotate(-180deg);-moz-transform:rotate(-180deg);-ms-transform:rotate(-180deg);-o-transform:rotate(-180deg);transform:rotate(-180deg)}.select-hint.svelte-1y747yf.svelte-1y747yf{position:absolute;top:100%;left:0;width:100%;height:1.25rem;line-height:1.25rem;font-size:0.75rem;padding:0 0.75rem;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;color:var(--text-secondary)}.select-hint.svelte-1y747yf.svelte-1y747yf:hover{z-index:255;overflow:unset}.menu.svelte-1y747yf.svelte-1y747yf{position:absolute;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;max-height:300px;overflow-y:auto;-webkit-border-bottom-left-radius:0.25rem;-moz-border-radius-bottomleft:0.25rem;border-bottom-left-radius:0.25rem;-webkit-border-bottom-right-radius:0.25rem;-moz-border-radius-bottomright:0.25rem;border-bottom-right-radius:0.25rem;-webkit-box-shadow:0 6px 9px rgba(0, 0, 0, 0.16);-moz-box-shadow:0 6px 9px rgba(0, 0, 0, 0.16);box-shadow:0 6px 9px rgba(0, 0, 0, 0.16);background-color:var(--background-primary)}.menu-button.svelte-1y747yf.svelte-1y747yf{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:0.75rem;padding:0.75rem;text-align:left;outline:none;-webkit-transition:0.3s;-o-transition:0.3s;-moz-transition:0.3s;transition:0.3s}.menu-button.selected.svelte-1y747yf.svelte-1y747yf{background-color:var(--background-tertiary);color:var(--primary-color);fill:var(--primary-color)}.menu-button.svelte-1y747yf.svelte-1y747yf:disabled{opacity:0.33}.menu-button.svelte-1y747yf.svelte-1y747yf:not(:disabled):hover,.menu-button.svelte-1y747yf.svelte-1y747yf:focus{background-color:var(--background-secondary)}")}function te(i,e,t){const l=i.slice();return l[34]=e[t],l[35]=e,l[36]=t,l}function se(i){let e;return{c(){e=S("span"),m(e,"class","select-hint svelte-1y747yf")},m(t,l){L(t,e,l),e.innerHTML=i[4]},p(t,l){l[0]&16&&(e.innerHTML=t[4])},d(t){t&&B(e)}}}function ie(i){let e,t,l=[],d=new Map,f,a,k=Z(i[0]);const V=o=>o[34];for(let o=0;o<k.length;o+=1){let c=te(i,k,o),p=V(c);d.set(p,l[o]=re(p,c))}return{c(){e=S("div"),t=S("div");for(let o=0;o<l.length;o+=1)l[o].c();m(t,"class","menu svelte-1y747yf"),m(t,"style",i[10]),m(e,"class","overlay svelte-1y747yf"),m(e,"tabindex","-1"),m(e,"role","dialog")},m(o,c){L(o,e,c),h(e,t);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(t,null);f||(a=[H(e,"click",ze(i[13])),H(e,"keydown",i[14])],f=!0)},p(o,c){c[0]&2049&&(k=Z(o[0]),l=qe(l,c,V,1,o,k,d,t,Ie,re,null,te)),c[0]&1024&&m(t,"style",o[10])},d(o){o&&B(e);for(let c=0;c<l.length;c+=1)l[c].d();f=!1,Q(a)}}}function ae(i){let e,t;return{c(){e=J("svg"),t=J("path"),m(t,"d","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","1rem"),m(e,"height","1rem"),m(e,"viewBox","0 0 448 512")},m(l,d){L(l,e,d),h(e,t)},d(l){l&&B(e)}}}function re(i,e){let t,l,d=(e[34].label?e[34].label:e[34].value)+"",f,a,k,V,o=e[36],c,p,v=e[34].selected&&ae();const M=()=>e[27](t,o),E=()=>e[27](null,o);function T(){return e[28](e[34],e[35],e[36])}return{key:i,first:null,c(){t=S("button"),l=S("span"),f=O(d),a=D(),v&&v.c(),k=D(),m(t,"class","menu-button svelte-1y747yf"),t.disabled=V=e[34].disabled,j(t,"selected",e[34].selected),this.first=t},m(g,w){L(g,t,w),h(t,l),h(l,f),h(t,a),v&&v.m(t,null),h(t,k),M(),c||(p=H(t,"click",X(T)),c=!0)},p(g,w){e=g,w[0]&1&&d!==(d=(e[34].label?e[34].label:e[34].value)+"")&&G(f,d),e[34].selected?v||(v=ae(),v.c(),v.m(t,k)):v&&(v.d(1),v=null),w[0]&1&&V!==(V=e[34].disabled)&&(t.disabled=V),o!==e[36]&&(E(),o=e[36],M()),w[0]&1&&j(t,"selected",e[34].selected)},d(g){g&&B(t),v&&v.d(),E(),c=!1,p()}}}function je(i){let e,t,l,d,f,a=(i[7]||"Select an option")+"",k,V,o,c=(i[12]||"")+"",p,v,M,E,T,g,w,Y,A,x=i[4]&&se(i),b=i[8]&&ie(i);return{c(){e=S("div"),t=S("input"),l=D(),d=S("button"),f=S("span"),k=O(a),V=D(),o=S("span"),p=O(c),v=D(),M=J("svg"),E=J("path"),T=D(),x&&x.c(),g=D(),b&&b.c(),w=ke(),m(t,"id",i[5]),m(t,"name",i[6]),t.required=i[3],t.hidden=!0,m(t,"class","svelte-1y747yf"),m(f,"class","select-label svelte-1y747yf"),j(f,"move",i[1]||i[8]),m(o,"class","select-option svelte-1y747yf"),m(E,"d","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"),m(M,"xmlns","http://www.w3.org/2000/svg"),m(M,"viewBox","0 0 320 512"),m(M,"class","select-arrow svelte-1y747yf"),j(M,"rotate",i[8]),m(d,"class","select svelte-1y747yf"),d.disabled=i[2],j(d,"toggled",i[8]),m(e,"class","svelte-1y747yf"),j(e,"has-hint",i[4])},m(n,y){L(n,e,y),h(e,t),W(t,i[1]),h(e,l),h(e,d),h(d,f),h(f,k),h(d,V),h(d,o),h(o,p),h(d,v),h(d,M),h(M,E),i[26](d),h(e,T),x&&x.m(e,null),L(n,g,y),b&&b.m(n,y),L(n,w,y),Y||(A=[H(t,"input",i[25]),H(d,"click",X(i[13])),H(d,"keydown",i[14])],Y=!0)},p(n,y){y[0]&32&&m(t,"id",n[5]),y[0]&64&&m(t,"name",n[6]),y[0]&8&&(t.required=n[3]),y[0]&2&&t.value!==n[1]&&W(t,n[1]),y[0]&128&&a!==(a=(n[7]||"Select an option")+"")&&G(k,a),y[0]&258&&j(f,"move",n[1]||n[8]),y[0]&4096&&c!==(c=(n[12]||"")+"")&&G(p,c),y[0]&256&&j(M,"rotate",n[8]),y[0]&4&&(d.disabled=n[2]),y[0]&256&&j(d,"toggled",n[8]),n[4]?x?x.p(n,y):(x=se(n),x.c(),x.m(e,null)):x&&(x.d(1),x=null),y[0]&16&&j(e,"has-hint",n[4]),n[8]?b?b.p(n,y):(b=ie(n),b.c(),b.m(w.parentNode,w)):b&&(b.d(1),b=null)},i:F,o:F,d(n){n&&(B(e),B(g),B(w)),i[26](null),x&&x.d(),b&&b.d(n),Y=!1,Q(A)}}}function Ee(i,e,t){let{attachedInternals:l}=e,{minSelects:d=0}=e,{maxSelects:f=null}=e,{options:a=[]}=e,{disabled:k=!1}=e,{required:V=!1}=e,{hint:o=""}=e,{value:c}=e,{internalValue:p=""}=e,{id:v=""}=e,{name:M=""}=e,{label:E="Label"}=e;const T=()=>a.filter(s=>s.selected).map(s=>s.value);let{validationMessages:g={}}=e,{requiredValidationMessage:w}=e,{minselectsValidationMessage:Y}=e,{maxselectsValidationMessage:A}=e,x=!1,b=!1,n,y,I=[],N="",P,R;const ne=Ve(),oe=()=>{l.reportValidity()};function _(s){if(s&&s.target&&s.target.closest(".menu"))return;const r=n.getBoundingClientRect(),u=window.innerHeight-r.bottom,C=300;let K="";u<C?K=`
            min-width: ${r.width}px;
            bottom: ${window.innerHeight-r.top}px;
            left: ${r.left}px;
        `:K=`
            min-width: ${r.width}px;
            top: ${r.bottom}px;
            left: ${r.left}px;
        `,t(10,y=K),t(8,b=!b),setTimeout(b?()=>{const q=a.findIndex(z=>!z.disabled);q!==-1&&I[q].focus()}:()=>{x?n.nextElementSibling.focus():n.focus()},10)}function U(s,r){if(r==="next"){for(let u=s+1;u<a.length;u++)if(!a[u].disabled)return u}else if(r==="previous"){for(let u=s-1;u>=0;u--)if(!a[u].disabled)return u}return s}function de(s){const r=I.findIndex(C=>C===document.activeElement);let u;if(b){if(s.key==="Escape"){_(),n.focus();return}const C=s.key==="Home"||s.key==="ArrowUp"&&s.metaKey,K=s.key==="End"||s.key==="ArrowDown"&&s.metaKey;if(C){s.preventDefault();const q=a.findIndex(z=>!z.disabled);q!==-1&&I[q].focus();return}if(K){s.preventDefault();const q=a.slice().reverse().findIndex(be=>!be.disabled),z=q!==-1?a.length-1-q:-1;z!==-1&&I[z].focus();return}if(["ArrowDown","ArrowUp"].includes(s.key)&&(s.preventDefault(),s.key==="ArrowUp"?u=U(r,"previous"):u=U(r,"next"),I[u].focus()),s.key==="Tab"){if(s.preventDefault(),x=!0,s.shiftKey){if(u=U(r,"previous"),r===u){_(),n.focus();return}}else if(u=U(r,"next"),r===u){_(),n.focus();return}I[u].focus()}if(/^[a-z\d]$/i.test(s.key)){clearTimeout(P),N+=s.key;const q=a.map(z=>z.label?z.label:z.value).findIndex(z=>z.toLowerCase().includes(N.toLowerCase()));q!==-1&&I[q].focus(),P=setTimeout(()=>{N=""},500)}}}Me(()=>{typeof a=="string"&&t(0,a=JSON.parse(a)),f||t(15,f=a.length),t(0,a=a.map(s=>(s.selected==null&&(s.selected=!1),s)))});function ce(){p=this.value,t(1,p),t(0,a),t(3,V),t(16,l),t(21,w),t(20,g),t(17,d),t(22,Y),t(15,f),t(23,A),t(18,c)}function me(s){ee[s?"unshift":"push"](()=>{n=s,t(9,n)})}function ue(s,r){ee[s?"unshift":"push"](()=>{I[r]=s,t(11,I)})}const fe=(s,r,u)=>t(0,r[u].selected=!s.selected,a);return i.$$set=s=>{"attachedInternals"in s&&t(16,l=s.attachedInternals),"minSelects"in s&&t(17,d=s.minSelects),"maxSelects"in s&&t(15,f=s.maxSelects),"options"in s&&t(0,a=s.options),"disabled"in s&&t(2,k=s.disabled),"required"in s&&t(3,V=s.required),"hint"in s&&t(4,o=s.hint),"value"in s&&t(18,c=s.value),"internalValue"in s&&t(1,p=s.internalValue),"id"in s&&t(5,v=s.id),"name"in s&&t(6,M=s.name),"label"in s&&t(7,E=s.label),"validationMessages"in s&&t(20,g=s.validationMessages),"requiredValidationMessage"in s&&t(21,w=s.requiredValidationMessage),"minselectsValidationMessage"in s&&t(22,Y=s.minselectsValidationMessage),"maxselectsValidationMessage"in s&&t(23,A=s.maxselectsValidationMessage)},i.$$.update=()=>{if(i.$$.dirty[0]&262145&&c&&(t(0,a=a.map(s=>({...s,selected:!1}))),typeof c=="string"?c.split(",").forEach(s=>{t(0,a[a.findIndex(r=>r.value==s)].selected=!0,a)}):c.forEach(s=>{t(0,a[a.findIndex(r=>r.value==s)].selected=!0,a)})),i.$$.dirty[0]&15958025&&Array.isArray(a)){const s=a.filter(r=>r.selected).length;s==0&&V?l.setValidity({customError:!0},w||g.required||"At least one item needs to be checked."):s<d?l.setValidity({customError:!0},Y||g.minselects||"Below limit checks."):s>f?l.setValidity({customError:!0},A||g.maxselects||"Above limit checks."):l.setValidity({}),l.checkValidity(),t(1,p=a.filter(r=>r.selected).map(r=>r.value).join(",")),t(12,R=a.filter(r=>r.selected).map(r=>r.label?r.label:r.value)),ne("value",a.filter(r=>r.selected).map(r=>r.value))}i.$$.dirty[0]&256&&(b?document.documentElement.style.overflowY="hidden":document.documentElement.style.overflowY="")},[a,p,k,V,o,v,M,E,b,n,y,I,R,_,de,f,l,d,c,T,g,w,Y,A,oe,ce,me,ue,fe]}class le extends xe{constructor(e){super(),ge(this,e,Ee,je,we,{attachedInternals:16,minSelects:17,maxSelects:15,options:0,disabled:2,required:3,hint:4,value:18,internalValue:1,id:5,name:6,label:7,getValue:19,validationMessages:20,requiredValidationMessage:21,minselectsValidationMessage:22,maxselectsValidationMessage:23,reportValidity:24},Se,[-1,-1])}get attachedInternals(){return this.$$.ctx[16]}set attachedInternals(e){this.$$set({attachedInternals:e}),$()}get minSelects(){return this.$$.ctx[17]}set minSelects(e){this.$$set({minSelects:e}),$()}get maxSelects(){return this.$$.ctx[15]}set maxSelects(e){this.$$set({maxSelects:e}),$()}get options(){return this.$$.ctx[0]}set options(e){this.$$set({options:e}),$()}get disabled(){return this.$$.ctx[2]}set disabled(e){this.$$set({disabled:e}),$()}get required(){return this.$$.ctx[3]}set required(e){this.$$set({required:e}),$()}get hint(){return this.$$.ctx[4]}set hint(e){this.$$set({hint:e}),$()}get value(){return this.$$.ctx[18]}set value(e){this.$$set({value:e}),$()}get internalValue(){return this.$$.ctx[1]}set internalValue(e){this.$$set({internalValue:e}),$()}get id(){return this.$$.ctx[5]}set id(e){this.$$set({id:e}),$()}get name(){return this.$$.ctx[6]}set name(e){this.$$set({name:e}),$()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),$()}get getValue(){return this.$$.ctx[19]}get validationMessages(){return this.$$.ctx[20]}set validationMessages(e){this.$$set({validationMessages:e}),$()}get requiredValidationMessage(){return this.$$.ctx[21]}set requiredValidationMessage(e){this.$$set({requiredValidationMessage:e}),$()}get minselectsValidationMessage(){return this.$$.ctx[22]}set minselectsValidationMessage(e){this.$$set({minselectsValidationMessage:e}),$()}get maxselectsValidationMessage(){return this.$$.ctx[23]}set maxselectsValidationMessage(e){this.$$set({maxselectsValidationMessage:e}),$()}get reportValidity(){return this.$$.ctx[24]}}try{customElements.define("jp-multiselect",he(le,{attachedInternals:{},minSelects:{},maxSelects:{},options:{},disabled:{type:"Boolean"},required:{type:"Boolean"},hint:{},value:{},internalValue:{},id:{},name:{},label:{},validationMessages:{},requiredValidationMessage:{},minselectsValidationMessage:{},maxselectsValidationMessage:{}},[],["getValue","reportValidity"],!1,i=>{var e;return e=class extends i{constructor(){super(),this.attachedInternals=this.attachInternals()}},ve(e,"formAssociated",!0),e}));}catch{};export{le as default};
