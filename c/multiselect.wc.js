var ce=Object.defineProperty,de=(s,e,t)=>e in s?ce(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,he=(s,e,t)=>(de(s,typeof e!="symbol"?e+"":e,t),t);import{c as ue,S as me,i as ve,f as A,s as pe,a as fe,e as E,b as j,q as J,E as U,p as be,d as h,t as L,g as B,h as g,I as P,o as H,J as _,r as N,n as G,j as D,K as Q,k as ge,w as qe,l as R,O as xe,P as we,Q as $e,G as F}from"./svelte.js";import"./index2.js";function ye(s){fe(s,"svelte-171iqoh",".has-hint.svelte-171iqoh.svelte-171iqoh{position:relative;margin-bottom:1.25rem}.overlay.svelte-171iqoh.svelte-171iqoh{z-index:100;position:fixed;top:0;left:0;right:0;bottom:0}.select.svelte-171iqoh.svelte-171iqoh{position:relative;display:flex;justify-content:space-between;align-items:center;text-align:left;width:100%;height:3rem;-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:0 .75rem;gap:.75rem;background-color:var(--background-primary);border:1px solid var(--border-primary);border-radius:.25rem}.select.svelte-171iqoh.svelte-171iqoh:focus{outline:none;border-color:var(--primary-color);box-shadow:inset 0 0 0 1px var(--primary-color)}.select.toggled.svelte-171iqoh.svelte-171iqoh{border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-color:var(--primary-color);box-shadow:inset 0 -2px 1px -1px var(--primary-color)}.select.svelte-171iqoh.svelte-171iqoh:disabled{opacity:.5}.select-label.svelte-171iqoh.svelte-171iqoh{position:absolute;top:50%;transform:translateY(-50%);transition:.3s}.select-label.move.svelte-171iqoh.svelte-171iqoh{top:.25rem;transform:translateY(0);font-size:.75rem}input:required+.select.svelte-171iqoh .select-label.svelte-171iqoh::after{content:' *'}input.svelte-171iqoh:required:invalid+.select.svelte-171iqoh{border-color:var(--danger-color)}.select-option.svelte-171iqoh.svelte-171iqoh{flex:auto;width:10rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-top:1rem}.select-arrow.svelte-171iqoh.svelte-171iqoh{width:1rem;height:1rem;min-width:1rem;min-height:1rem;transition:.3s}.select-arrow.rotate.svelte-171iqoh.svelte-171iqoh{transform:rotate(-180deg)}.select-hint.svelte-171iqoh.svelte-171iqoh{position:absolute;top:100%;left:0;width:100%;height:1.25rem;line-height:1.25rem;font-size:.75rem;padding:0 .75rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--text-secondary)}.select-hint.svelte-171iqoh.svelte-171iqoh:hover{z-index:255;overflow:unset}.menu.svelte-171iqoh.svelte-171iqoh{position:absolute;display:flex;flex-direction:column;max-height:300px;overflow-y:auto;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;box-shadow:0 6px 9px rgba(0,0,0,.16);background-color:var(--background-primary)}.menu-button.svelte-171iqoh.svelte-171iqoh{display:flex;justify-content:space-between;align-items:center;gap:.75rem;padding:.75rem;text-align:left;outline:none;transition:.3s}.menu-button.selected.svelte-171iqoh.svelte-171iqoh{background-color:var(--background-tertiary);color:var(--primary-color);fill:var(--primary-color)}.menu-button.svelte-171iqoh.svelte-171iqoh:disabled{opacity:.33}.menu-button.svelte-171iqoh.svelte-171iqoh:not(:disabled):hover,.menu-button.svelte-171iqoh.svelte-171iqoh:focus{background-color:var(--background-secondary)}")}function W(s,e,t){const o=s.slice();return o[28]=e[t],o[29]=e,o[30]=t,o}function X(s){let e;return{c(){e=E("span"),h(e,"class","select-hint svelte-171iqoh")},m(t,o){B(t,e,o),e.innerHTML=s[4]},p(t,o){o&16&&(e.innerHTML=t[4])},d(t){t&&D(e)}}}function Z(s){let e,t,o=[],a=new Map,m,n,$=R(s[0]);const k=r=>r[28];for(let r=0;r<$.length;r+=1){let d=W(s,$,r),q=k(d);a.set(q,o[r]=te(q,d))}return{c(){e=E("div"),t=E("div");for(let r=0;r<o.length;r+=1)o[r].c();h(t,"class","menu svelte-171iqoh"),h(t,"style",s[10]),h(e,"class","overlay svelte-171iqoh"),h(e,"tabindex","-1"),h(e,"role","dialog")},m(r,d){B(r,e,d),g(e,t);for(let q=0;q<o.length;q+=1)o[q]&&o[q].m(t,null);m||(n=[H(e,"click",xe(s[13])),H(e,"keydown",s[14])],m=!0)},p(r,d){d&2049&&($=R(r[0]),o=we(o,d,k,1,r,$,a,t,$e,te,null,W)),d&1024&&h(t,"style",r[10])},d(r){r&&D(e);for(let d=0;d<o.length;d+=1)o[d].d();m=!1,Q(n)}}}function ee(s){let e,t;return{c(){e=U("svg"),t=U("path"),h(t,"d","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"width","1rem"),h(e,"height","1rem"),h(e,"viewBox","0 0 448 512")},m(o,a){B(o,e,a),g(e,t)},d(o){o&&D(e)}}}function te(s,e){let t,o,a=(e[28].label?e[28].label:e[28].value)+"",m,n,$,k,r=e[30],d,q,f=e[28].selected&&ee();const y=()=>e[21](t,r),M=()=>e[21](null,r);function V(){return e[22](e[28],e[29],e[30])}return{key:s,first:null,c(){t=E("button"),o=E("span"),m=J(a),n=j(),f&&f.c(),$=j(),h(t,"class","menu-button svelte-171iqoh"),t.disabled=k=e[28].disabled,L(t,"selected",e[28].selected),this.first=t},m(w,v){B(w,t,v),g(t,o),g(o,m),g(t,n),f&&f.m(t,null),g(t,$),y(),d||(q=H(t,"click",_(V)),d=!0)},p(w,v){e=w,v&1&&a!==(a=(e[28].label?e[28].label:e[28].value)+"")&&N(m,a),e[28].selected?f||(f=ee(),f.c(),f.m(t,$)):f&&(f.d(1),f=null),v&1&&k!==(k=e[28].disabled)&&(t.disabled=k),r!==e[30]&&(M(),r=e[30],y()),v&1&&L(t,"selected",e[28].selected)},d(w){w&&D(t),f&&f.d(),M(),d=!1,q()}}}function ke(s){let e,t,o,a,m,n=(s[7]||"Select an option")+"",$,k,r,d=(s[12]||"")+"",q,f,y,M,V,w,v,T,S,b=s[4]&&X(s),x=s[8]&&Z(s);return{c(){e=E("div"),t=E("input"),o=j(),a=E("button"),m=E("span"),$=J(n),k=j(),r=E("span"),q=J(d),f=j(),y=U("svg"),M=U("path"),V=j(),b&&b.c(),w=j(),x&&x.c(),v=be(),h(t,"id",s[5]),h(t,"name",s[6]),t.required=s[3],t.hidden=!0,h(t,"class","svelte-171iqoh"),h(m,"class","select-label svelte-171iqoh"),L(m,"move",s[1]||s[8]),h(r,"class","select-option svelte-171iqoh"),h(M,"d","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"),h(y,"xmlns","http://www.w3.org/2000/svg"),h(y,"viewBox","0 0 320 512"),h(y,"class","select-arrow svelte-171iqoh"),L(y,"rotate",s[8]),h(a,"class","select svelte-171iqoh"),a.disabled=s[2],L(a,"toggled",s[8]),h(e,"class","svelte-171iqoh"),L(e,"has-hint",s[4])},m(c,p){B(c,e,p),g(e,t),P(t,s[1]),g(e,o),g(e,a),g(a,m),g(m,$),g(a,k),g(a,r),g(r,q),g(a,f),g(a,y),g(y,M),s[20](a),g(e,V),b&&b.m(e,null),B(c,w,p),x&&x.m(c,p),B(c,v,p),T||(S=[H(t,"input",s[19]),H(a,"click",_(s[13])),H(a,"keydown",s[14])],T=!0)},p(c,[p]){p&32&&h(t,"id",c[5]),p&64&&h(t,"name",c[6]),p&8&&(t.required=c[3]),p&2&&t.value!==c[1]&&P(t,c[1]),p&128&&n!==(n=(c[7]||"Select an option")+"")&&N($,n),p&258&&L(m,"move",c[1]||c[8]),p&4096&&d!==(d=(c[12]||"")+"")&&N(q,d),p&256&&L(y,"rotate",c[8]),p&4&&(a.disabled=c[2]),p&256&&L(a,"toggled",c[8]),c[4]?b?b.p(c,p):(b=X(c),b.c(),b.m(e,null)):b&&(b.d(1),b=null),p&16&&L(e,"has-hint",c[4]),c[8]?x?x.p(c,p):(x=Z(c),x.c(),x.m(v.parentNode,v)):x&&(x.d(1),x=null)},i:G,o:G,d(c){c&&(D(e),D(w),D(v)),s[20](null),b&&b.d(),x&&x.d(c),T=!1,Q(S)}}}function Se(s,e,t){let{attachedInternals:o}=e,{minSelects:a=0}=e,{maxSelects:m=null}=e,{options:n=[]}=e,{disabled:$=!1}=e,{required:k=!1}=e,{hint:r=""}=e,{value:d=""}=e,{id:q=""}=e,{name:f=""}=e,{label:y="Label"}=e;const M=()=>n.filter(i=>i.selected).map(i=>i.value);let V=!1,w=!1,v,T,S=[],b="",x,c;const p=ge();function Y(i){if(i&&i.target&&i.target.closest(".menu"))return;const l=v.getBoundingClientRect(),u=window.innerHeight-l.bottom,K=300;let O="";u<K?O=`
            min-width: ${l.width}px;
            bottom: ${window.innerHeight-l.top}px;
            left: ${l.left}px;
        `:O=`
            min-width: ${l.width}px;
            top: ${l.bottom}px;
            left: ${l.left}px;
        `,t(10,T=O),t(8,w=!w),setTimeout(w?()=>{const z=n.findIndex(I=>!I.disabled);z!==-1&&S[z].focus()}:()=>{V?v.nextElementSibling.focus():v.focus()},10)}function C(i,l){if(l==="next"){for(let u=i+1;u<n.length;u++)if(!n[u].disabled)return u}else if(l==="previous"){for(let u=i-1;u>=0;u--)if(!n[u].disabled)return u}return i}function se(i){const l=S.findIndex(K=>K===document.activeElement);let u;if(w){if(i.key==="Escape"){Y(),v.focus();return}const K=i.key==="Home"||i.key==="ArrowUp"&&i.metaKey,O=i.key==="End"||i.key==="ArrowDown"&&i.metaKey;if(K){i.preventDefault();const z=n.findIndex(I=>!I.disabled);z!==-1&&S[z].focus();return}if(O){i.preventDefault();const z=n.slice().reverse().findIndex(ae=>!ae.disabled),I=z!==-1?n.length-1-z:-1;I!==-1&&S[I].focus();return}if(["ArrowDown","ArrowUp"].includes(i.key)&&(i.preventDefault(),i.key==="ArrowUp"?u=C(l,"previous"):u=C(l,"next"),S[u].focus()),i.key==="Tab"){if(i.preventDefault(),V=!0,i.shiftKey){if(u=C(l,"previous"),l===u){Y(),v.focus();return}}else if(u=C(l,"next"),l===u){Y(),v.focus();return}S[u].focus()}if(/^[a-z\d]$/i.test(i.key)){clearTimeout(x),b+=i.key;const z=n.map(I=>I.label?I.label:I.value).findIndex(I=>I.toLowerCase().includes(b.toLowerCase()));z!==-1&&S[z].focus(),x=setTimeout(()=>{b=""},500)}}}qe(()=>{typeof n=="string"&&t(0,n=JSON.parse(n)),m||t(15,m=n.length),t(0,n=n.map(i=>(i.selected==null&&(i.selected=!1),i)))});function oe(){d=this.value,t(1,d),t(0,n),t(17,a),t(16,o),t(15,m)}function le(i){F[i?"unshift":"push"](()=>{v=i,t(9,v)})}function ne(i,l){F[i?"unshift":"push"](()=>{S[l]=i,t(11,S)})}const re=(i,l,u)=>t(0,l[u].selected=!i.selected,n);return s.$$set=i=>{"attachedInternals"in i&&t(16,o=i.attachedInternals),"minSelects"in i&&t(17,a=i.minSelects),"maxSelects"in i&&t(15,m=i.maxSelects),"options"in i&&t(0,n=i.options),"disabled"in i&&t(2,$=i.disabled),"required"in i&&t(3,k=i.required),"hint"in i&&t(4,r=i.hint),"value"in i&&t(1,d=i.value),"id"in i&&t(5,q=i.id),"name"in i&&t(6,f=i.name),"label"in i&&t(7,y=i.label)},s.$$.update=()=>{if(s.$$.dirty&229377&&Array.isArray(n)){const i=n.filter(l=>l.selected).length;i<a?o.setValidity({customError:!0},"Below limit checks."):i>m?o.setValidity({customError:!0},"Above limit checks."):o.setValidity({}),o.checkValidity(),t(1,d=n.filter(l=>l.selected).map(l=>l.value).join(",")),t(12,c=n.filter(l=>l.selected).map(l=>l.label?l.label:l.value)),p("value",n.filter(l=>l.selected).map(l=>l.value))}s.$$.dirty&256&&(w?document.documentElement.style.overflowY="hidden":document.documentElement.style.overflowY="")},[n,d,$,k,r,q,f,y,w,v,T,S,c,Y,se,m,o,a,M,oe,le,ne,re]}class ie extends me{constructor(e){super(),ve(this,e,Se,ke,pe,{attachedInternals:16,minSelects:17,maxSelects:15,options:0,disabled:2,required:3,hint:4,value:1,id:5,name:6,label:7,getValue:18},ye)}get attachedInternals(){return this.$$.ctx[16]}set attachedInternals(e){this.$$set({attachedInternals:e}),A()}get minSelects(){return this.$$.ctx[17]}set minSelects(e){this.$$set({minSelects:e}),A()}get maxSelects(){return this.$$.ctx[15]}set maxSelects(e){this.$$set({maxSelects:e}),A()}get options(){return this.$$.ctx[0]}set options(e){this.$$set({options:e}),A()}get disabled(){return this.$$.ctx[2]}set disabled(e){this.$$set({disabled:e}),A()}get required(){return this.$$.ctx[3]}set required(e){this.$$set({required:e}),A()}get hint(){return this.$$.ctx[4]}set hint(e){this.$$set({hint:e}),A()}get value(){return this.$$.ctx[1]}set value(e){this.$$set({value:e}),A()}get id(){return this.$$.ctx[5]}set id(e){this.$$set({id:e}),A()}get name(){return this.$$.ctx[6]}set name(e){this.$$set({name:e}),A()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),A()}get getValue(){return this.$$.ctx[18]}}customElements.define("jp-multiselect",ue(ie,{attachedInternals:{},minSelects:{},maxSelects:{},options:{},disabled:{type:"Boolean"},required:{type:"Boolean"},hint:{},value:{},id:{},name:{},label:{}},[],["getValue"],!1,s=>{var e;return e=class extends s{constructor(){super(),this.attachedInternals=this.attachInternals()}},he(e,"formAssociated",!0),e}));export{ie as default};
