var qe=Object.defineProperty,Le=(l,e,t)=>e in l?qe(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,Ae=(l,e,t)=>Le(l,typeof e!="symbol"?e+"":e,t);import{c as Ee,S as Oe,i as Ce,f as y,s as Be,b as B,e as q,F as se,d as R,g as u,t as w,h as H,j as V,V as le,l as _,p as ie,G as ae,J as X,o as z,r as ne,D as He,E as ze,B as re,z as De,Y as Ue,Z as Ye,y as ce}from"./svelte.js";import"./index.js";import{clickOutside as Ke}from"./click-outside.js";function de(l,e,t){const n=l.slice();return n[42]=e[t],n[43]=e,n[44]=t,n}function oe(l){let e;return{c(){e=q("div"),u(e,"class","label")},m(t,n){H(t,e,n),e.innerHTML=l[8]},p(t,n){n[0]&256&&(e.innerHTML=t[8])},d(t){t&&z(e)}}}function ue(l){let e,t,n;return{c(){e=q("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"></path></svg>',u(e,"class","jp-multiselect-clear")},m(r,f){H(r,e,f),t||(n=_(e,"click",l[18]),t=!0)},p:X,d(r){r&&z(e),t=!1,n()}}}function me(l){let e;return{c(){e=q("span"),u(e,"class","jp-multiselect-select-label"),w(e,"jp-multiselect-select-label-move",l[1]||l[11])},m(t,n){H(t,e,n),e.innerHTML=l[8]},p(t,n){n[0]&256&&(e.innerHTML=t[8]),n[0]&2050&&w(e,"jp-multiselect-select-label-move",t[1]||t[11])},d(t){t&&z(e)}}}function pe(l){let e;return{c(){e=q("span"),u(e,"class","jp-multiselect-select-hint")},m(t,n){H(t,e,n),e.innerHTML=l[4]},p(t,n){n[0]&16&&(e.innerHTML=t[4])},d(t){t&&z(e)}}}function he(l){let e,t,n=[],r=new Map,f,j,i=re(l[0]);const k=o=>o[42];for(let o=0;o<i.length;o+=1){let p=de(l,i,o),$=k(p);r.set($,n[o]=ge($,p))}return{c(){e=q("div"),t=q("div");for(let o=0;o<n.length;o+=1)n[o].c();u(t,"class","jp-multiselect-menu"),u(t,"style",l[13]),u(e,"class","jp-multiselect-overlay")},m(o,p){H(o,e,p),V(e,t);for(let $=0;$<n.length;$+=1)n[$]&&n[$].m(t,null);f||(j=[De(Ke.call(null,t)),_(t,"click_outside",l[35]),_(t,"keydown",l[20])],f=!0)},p(o,p){p[0]&81921&&(i=re(o[0]),n=Ue(n,p,k,1,o,i,r,t,Ye,ge,null,de)),p[0]&8192&&u(t,"style",o[13])},d(o){o&&z(e);for(let p=0;p<n.length;p+=1)n[p].d();f=!1,ne(j)}}}function $e(l){let e,t;return{c(){e=R("svg"),t=R("path"),u(t,"d","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"width","1rem"),u(e,"height","1rem"),u(e,"viewBox","0 0 448 512")},m(n,r){H(n,e,r),V(e,t)},d(n){n&&z(e)}}}function ge(l,e){let t,n,r=(e[42].label?e[42].label:e[42].value)+"",f,j,i,k,o=e[44],p,$,h=e[42].selected&&$e();const D=()=>e[33](t,o),S=()=>e[33](null,o);function U(){return e[34](e[42],e[43],e[44])}return{key:l,first:null,c(){t=q("button"),n=q("span"),f=se(r),j=B(),h&&h.c(),i=B(),u(t,"type","button"),u(t,"class","jp-multiselect-menu-button"),t.disabled=k=e[42].disabled,w(t,"jp-multiselect-menu-button-selected",e[42].selected),w(t,"jp-multiselect-menu-button-disabled",e[42].disabled),this.first=t},m(L,T){H(L,t,T),V(t,n),V(n,f),V(t,j),h&&h.m(t,null),V(t,i),D(),p||($=_(t,"click",ie(U)),p=!0)},p(L,T){e=L,T[0]&1&&r!==(r=(e[42].label?e[42].label:e[42].value)+"")&&ae(f,r),e[42].selected?h||(h=$e(),h.c(),h.m(t,i)):h&&(h.d(1),h=null),T[0]&1&&k!==(k=e[42].disabled)&&(t.disabled=k),o!==e[44]&&(S(),o=e[44],D()),T[0]&1&&w(t,"jp-multiselect-menu-button-selected",e[42].selected),T[0]&1&&w(t,"jp-multiselect-menu-button-disabled",e[42].disabled)},d(L){L&&z(t),h&&h.d(),S(),p=!1,$()}}}function _e(l){let e,t,n,r,f,j,i,k,o,p=(l[15]||"")+"",$,h,D,S,U,L,T,J,G,g=l[8]&&l[9]=="outside"&&oe(l),b=l[10]&&l[17]&&ue(l),v=l[8]&&l[9]=="inside"&&me(l),x=l[4]&&pe(l),M=l[11]&&he(l);return{c(){g&&g.c(),e=B(),t=q("div"),b&&b.c(),n=B(),r=q("input"),j=B(),i=q("button"),v&&v.c(),k=B(),o=q("span"),$=se(p),D=B(),S=R("svg"),U=R("path"),L=B(),x&&x.c(),T=B(),M&&M.c(),u(r,"class","jp-multiselect-input"),u(r,"tabindex","-1"),r.required=l[3],u(r,"id",l[5]),u(r,"name",l[6]),u(r,"autocomplete",f=l[7]||l[6]),w(r,"jp-multiselect-input-required",l[3]),u(o,"class",h=`jp-multiselect-select-option ${l[9]=="outside"||!l[8]?"":"jp-multiselect-select-option-padding"}`),w(o,"has-clear",l[10]),u(U,"d","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"),u(S,"xmlns","http://www.w3.org/2000/svg"),u(S,"viewBox","0 0 320 512"),u(S,"class","jp-multiselect-select-arrow"),w(S,"jp-multiselect-rotate",l[11]),u(i,"type","button"),u(i,"class","jp-multiselect-select"),i.disabled=l[2],w(i,"jp-multiselect-select-toggled",l[11]),w(i,"jp-multiselect-select-disabled",l[2]),u(t,"class","jp-multiselect-wrapper"),w(t,"jp-multiselect-has-hint",l[4])},m(a,c){g&&g.m(a,c),H(a,e,c),H(a,t,c),b&&b.m(t,null),V(t,n),V(t,r),le(r,l[1]),V(t,j),V(t,i),v&&v.m(i,null),V(i,k),V(i,o),V(o,$),V(i,D),V(i,S),V(S,U),l[32](i),V(t,L),x&&x.m(t,null),V(t,T),M&&M.m(t,null),J||(G=[_(r,"input",l[31]),_(i,"click",ie(l[19])),_(i,"keydown",l[20])],J=!0)},p(a,c){a[8]&&a[9]=="outside"?g?g.p(a,c):(g=oe(a),g.c(),g.m(e.parentNode,e)):g&&(g.d(1),g=null),a[10]&&a[17]?b?b.p(a,c):(b=ue(a),b.c(),b.m(t,n)):b&&(b.d(1),b=null),c[0]&8&&(r.required=a[3]),c[0]&32&&u(r,"id",a[5]),c[0]&64&&u(r,"name",a[6]),c[0]&192&&f!==(f=a[7]||a[6])&&u(r,"autocomplete",f),c[0]&2&&r.value!==a[1]&&le(r,a[1]),c[0]&8&&w(r,"jp-multiselect-input-required",a[3]),a[8]&&a[9]=="inside"?v?v.p(a,c):(v=me(a),v.c(),v.m(i,k)):v&&(v.d(1),v=null),c[0]&32768&&p!==(p=(a[15]||"")+"")&&ae($,p),c[0]&768&&h!==(h=`jp-multiselect-select-option ${a[9]=="outside"||!a[8]?"":"jp-multiselect-select-option-padding"}`)&&u(o,"class",h),c[0]&1792&&w(o,"has-clear",a[10]),c[0]&2048&&w(S,"jp-multiselect-rotate",a[11]),c[0]&4&&(i.disabled=a[2]),c[0]&2048&&w(i,"jp-multiselect-select-toggled",a[11]),c[0]&4&&w(i,"jp-multiselect-select-disabled",a[2]),a[4]?x?x.p(a,c):(x=pe(a),x.c(),x.m(t,T)):x&&(x.d(1),x=null),a[11]?M?M.p(a,c):(M=he(a),M.c(),M.m(t,null)):M&&(M.d(1),M=null),c[0]&16&&w(t,"jp-multiselect-has-hint",a[4])},i:X,o:X,d(a){a&&(z(e),z(t)),g&&g.d(a),b&&b.d(),v&&v.d(),l[32](null),x&&x.d(),M&&M.d(),J=!1,ne(G)}}}function Je(l,e,t){let n,{attachedInternals:r}=e,{minSelects:f=0}=e,{maxSelects:j=null}=e,{options:i=[]}=e,{disabled:k=!1}=e,{required:o=!1}=e,{hint:p=""}=e,{value:$}=e,{internalValue:h=""}=e,{id:D=""}=e,{name:S=""}=e,{autocomplete:U=""}=e,{label:L=""}=e,{labelType:T="inside"}=e,{showClear:J=!1}=e;const G=()=>i.filter(s=>s.selected).sort((s,m)=>s.selectedOrder-m.selectedOrder).map(s=>s.value);let{validationMessages:g={}}=e,{requiredValidationMessage:b}=e,{minselectsValidationMessage:v}=e,{maxselectsValidationMessage:x}=e,M=!1,a=!1,c,ee,O=[],Q="",te,W,N=0;const be=He(),ve=()=>{r.reportValidity()};function xe(){t(15,W=null),Array.isArray(i)&&t(0,i=i.map(s=>({...s,selected:!1,selectedOrder:null})))}function ye(){if(t(0,i=i.map(s=>({...s,selected:!1,selectedOrder:null}))),typeof $=="string"){const s=$.split(",");s.forEach((m,d)=>{const A=i[i.findIndex(Y=>Y.value==m)];A.selected=!0,A.selectedOrder=d}),t(16,N=s.length)}else $.forEach((s,m)=>{const d=i[i.findIndex(A=>A.value==s)];d.selected=!0,d.selectedOrder=m}),t(16,N=$.length)}function Z(s){if(s&&s.target&&s.target.closest(".menu"))return;const m=c.getBoundingClientRect(),d=window.innerHeight-m.bottom,A=300;let Y="";d<A?Y=`
        width: ${m.width}px;
        bottom: ${window.innerHeight-m.top}px;
        left: ${m.left}px;
      `:Y=`
        width: ${m.width}px;
        top: ${m.bottom}px;
        left: ${m.left}px;
      `,t(13,ee=Y),t(11,a=!a),setTimeout(a?()=>{var I;const E=i.findIndex(F=>!F.disabled);E!==-1&&((I=O[E])==null||I.focus())}:()=>{var I;M?(I=c.nextElementSibling)==null||I.focus():c?.focus()},10)}function P(s,m){if(m==="next"){for(let d=s+1;d<i.length;d++)if(!i[d].disabled)return d}else if(m==="previous"){for(let d=s-1;d>=0;d--)if(!i[d].disabled)return d}return s}function we(s){var m,d,A,Y;const I=O.findIndex(F=>F===document.activeElement);let E;if(a){if(s.key==="Escape"){Z(),c.focus();return}const F=s.key==="Home"||s.key==="ArrowUp"&&s.metaKey,Te=s.key==="End"||s.key==="ArrowDown"&&s.metaKey;if(F){s.preventDefault();const K=i.findIndex(C=>!C.disabled);K!==-1&&((m=O[K])==null||m.focus());return}if(Te){s.preventDefault();const K=i.slice().reverse().findIndex(Ie=>!Ie.disabled),C=K!==-1?i.length-1-K:-1;C!==-1&&((d=O[C])==null||d.focus());return}if(["ArrowDown","ArrowUp"].includes(s.key)&&(s.preventDefault(),s.key==="ArrowUp"?E=P(I,"previous"):E=P(I,"next"),(A=O[E])==null||A.focus()),s.key==="Tab"){if(s.preventDefault(),M=!0,s.shiftKey){if(E=P(I,"previous"),I===E){Z(),c?.focus();return}}else if(E=P(I,"next"),I===E){Z(),c?.focus();return}(Y=O[E])==null||Y.focus()}if(/^[a-z\d]$/i.test(s.key)){clearTimeout(te),Q+=s.key;const K=i.map(C=>C.label?C.label:C.value).findIndex(C=>C.toLowerCase().includes(Q.toLowerCase()));K!==-1&&O[K].focus(),te=setTimeout(()=>{Q=""},500)}}}ze(()=>{typeof i=="string"&&t(0,i=JSON.parse(i)),j||t(21,j=i.length),t(0,i=i.map(s=>(s.selected==null&&(s.selected=!1),s.selectedOrder=null,s)))});function Ve(){h=this.value,t(1,h),t(0,i),t(3,o),t(22,r),t(27,b),t(26,g),t(12,c),t(23,f),t(28,v),t(21,j),t(29,x)}function Me(s){ce[s?"unshift":"push"](()=>{c=s,t(12,c)})}function je(s,m){ce[s?"unshift":"push"](()=>{O[m]=s,t(14,O)})}const ke=(s,m,d)=>{t(0,m[d].selected=!s.selected,i),s.selected?t(0,m[d].selectedOrder=t(16,N++,N),i):t(0,m[d].selectedOrder=null,i)},Se=()=>t(11,a=!1);return l.$$set=s=>{"attachedInternals"in s&&t(22,r=s.attachedInternals),"minSelects"in s&&t(23,f=s.minSelects),"maxSelects"in s&&t(21,j=s.maxSelects),"options"in s&&t(0,i=s.options),"disabled"in s&&t(2,k=s.disabled),"required"in s&&t(3,o=s.required),"hint"in s&&t(4,p=s.hint),"value"in s&&t(24,$=s.value),"internalValue"in s&&t(1,h=s.internalValue),"id"in s&&t(5,D=s.id),"name"in s&&t(6,S=s.name),"autocomplete"in s&&t(7,U=s.autocomplete),"label"in s&&t(8,L=s.label),"labelType"in s&&t(9,T=s.labelType),"showClear"in s&&t(10,J=s.showClear),"validationMessages"in s&&t(26,g=s.validationMessages),"requiredValidationMessage"in s&&t(27,b=s.requiredValidationMessage),"minselectsValidationMessage"in s&&t(28,v=s.minselectsValidationMessage),"maxselectsValidationMessage"in s&&t(29,x=s.maxselectsValidationMessage)},l.$$.update=()=>{if(l.$$.dirty[0]&2048&&(a?document.documentElement.style.overflowY="hidden":document.documentElement.style.overflowY=""),l.$$.dirty[0]&1021317129&&Array.isArray(i)){const s=i.filter(d=>d.selected).length;s==0&&o?r.setValidity({customError:!0},b||g.required||"At least one item needs to be checked.",c):s<f?r.setValidity({customError:!0},v||g.minselects||"Below limit checks.",c):s>j?r.setValidity({customError:!0},x||g.maxselects||"Above limit checks.",c):r.setValidity({}),r.checkValidity();const m=i.filter(d=>d.selected).sort((d,A)=>d.selectedOrder-A.selectedOrder);t(1,h=m.map(d=>d.value).join(",")),t(15,W=m.map(d=>d.label?d.label:d.value)),be("value",m.map(d=>d.value))}l.$$.dirty[0]&1&&t(17,n=Array.isArray(i)&&i.some(s=>s.selected)),l.$$.dirty[0]&16777216&&$&&ye()},[i,h,k,o,p,D,S,U,L,T,J,a,c,ee,O,W,N,n,xe,Z,we,j,r,f,$,G,g,b,v,x,ve,Ve,Me,je,ke,Se]}class fe extends Oe{constructor(e){super(),Ce(this,e,Je,_e,Be,{attachedInternals:22,minSelects:23,maxSelects:21,options:0,disabled:2,required:3,hint:4,value:24,internalValue:1,id:5,name:6,autocomplete:7,label:8,labelType:9,showClear:10,getValue:25,validationMessages:26,requiredValidationMessage:27,minselectsValidationMessage:28,maxselectsValidationMessage:29,reportValidity:30},null,[-1,-1])}get attachedInternals(){return this.$$.ctx[22]}set attachedInternals(e){this.$$set({attachedInternals:e}),y()}get minSelects(){return this.$$.ctx[23]}set minSelects(e){this.$$set({minSelects:e}),y()}get maxSelects(){return this.$$.ctx[21]}set maxSelects(e){this.$$set({maxSelects:e}),y()}get options(){return this.$$.ctx[0]}set options(e){this.$$set({options:e}),y()}get disabled(){return this.$$.ctx[2]}set disabled(e){this.$$set({disabled:e}),y()}get required(){return this.$$.ctx[3]}set required(e){this.$$set({required:e}),y()}get hint(){return this.$$.ctx[4]}set hint(e){this.$$set({hint:e}),y()}get value(){return this.$$.ctx[24]}set value(e){this.$$set({value:e}),y()}get internalValue(){return this.$$.ctx[1]}set internalValue(e){this.$$set({internalValue:e}),y()}get id(){return this.$$.ctx[5]}set id(e){this.$$set({id:e}),y()}get name(){return this.$$.ctx[6]}set name(e){this.$$set({name:e}),y()}get autocomplete(){return this.$$.ctx[7]}set autocomplete(e){this.$$set({autocomplete:e}),y()}get label(){return this.$$.ctx[8]}set label(e){this.$$set({label:e}),y()}get labelType(){return this.$$.ctx[9]}set labelType(e){this.$$set({labelType:e}),y()}get showClear(){return this.$$.ctx[10]}set showClear(e){this.$$set({showClear:e}),y()}get getValue(){return this.$$.ctx[25]}get validationMessages(){return this.$$.ctx[26]}set validationMessages(e){this.$$set({validationMessages:e}),y()}get requiredValidationMessage(){return this.$$.ctx[27]}set requiredValidationMessage(e){this.$$set({requiredValidationMessage:e}),y()}get minselectsValidationMessage(){return this.$$.ctx[28]}set minselectsValidationMessage(e){this.$$set({minselectsValidationMessage:e}),y()}get maxselectsValidationMessage(){return this.$$.ctx[29]}set maxselectsValidationMessage(e){this.$$set({maxselectsValidationMessage:e}),y()}get reportValidity(){return this.$$.ctx[30]}}try{customElements.define("jp-multiselect",Ee(fe,{attachedInternals:{},minSelects:{},maxSelects:{},options:{},disabled:{type:"Boolean"},required:{type:"Boolean"},hint:{},value:{},internalValue:{},id:{},name:{},autocomplete:{},label:{},labelType:{},showClear:{type:"Boolean"},validationMessages:{},requiredValidationMessage:{},minselectsValidationMessage:{},maxselectsValidationMessage:{}},[],["getValue","reportValidity"],!1,l=>{var e;return e=class extends l{constructor(){super(),this.attachedInternals=this.attachInternals()}},Ae(e,"formAssociated",!0),e}));}catch{};export{fe as default};
//# sourceMappingURL=multiselect.wc.js.map
