var D=Object.defineProperty,K=(n,e,t)=>e in n?D(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,N=(n,e,t)=>(K(n,typeof e!="symbol"?e+"":e,t),t);import{c as P,S as _,i as G,f as h,s as J,a as Q,l as I,e as x,b as z,d as v,g as w,h as y,N as F,o as q,n as E,j as V,m as R,K as U,k as W,t as M,q as X,M as Z,r as ee}from"./svelte.js";import"./index2.js";function te(n){Q(n,"svelte-vpaa0b",".field.svelte-vpaa0b.svelte-vpaa0b{position:relative;display:flex;justify-content:space-between;align-items:center;text-align:left;width:100%;min-height:3rem;-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:0 .75rem;gap:.75rem;background-color:var(--background-primary);border:1px solid var(--border-primary);border-radius:.25rem}.field.svelte-vpaa0b.svelte-vpaa0b:focus-within{border-color:var(--primary-color);box-shadow:inset 0 0 0 1px var(--primary-color)}.field-label.svelte-vpaa0b.svelte-vpaa0b{position:absolute;top:50%;transform:translateY(-50%);font-size:1rem;transition:transform .3s, top .3s, font-size .3s}.field-label.move.svelte-vpaa0b.svelte-vpaa0b{top:.125rem;transform:translateY(0);font-size:.75rem}.field-label.move+.field-container.svelte-vpaa0b .field-container-input.svelte-vpaa0b::-moz-placeholder{opacity:1}.field-label.move+.field-container.svelte-vpaa0b .field-container-input.svelte-vpaa0b::placeholder{opacity:1}.field-container.svelte-vpaa0b.svelte-vpaa0b{display:flex;flex-wrap:wrap;gap:.5rem;flex:auto;width:10rem;font-size:1rem;overflow:hidden;padding:1.25rem 0 .25rem 0;border:none;outline:none;border-radius:0}.field-container-chip.svelte-vpaa0b.svelte-vpaa0b{display:flex;align-items:center;gap:.25rem;background-color:var(--background-secondary);border-radius:.25rem;padding:.25rem}.field-container-chip-label.svelte-vpaa0b.svelte-vpaa0b{font-size:.875rem;word-break:break-all;white-space:normal}.field-container-input.svelte-vpaa0b.svelte-vpaa0b{border:none;outline:none;flex:auto;width:10rem;padding:0;border-radius:0;font-size:1rem}.field-container-input.svelte-vpaa0b.svelte-vpaa0b::-moz-placeholder{opacity:0;-moz-transition:opacity .3s;transition:opacity .3s}.field-container-input.svelte-vpaa0b.svelte-vpaa0b::placeholder{opacity:0;transition:opacity .3s}")}function j(n,e,t){const r=n.slice();return r[21]=e[t],r}function B(n){let e;return{c(){e=x("span"),v(e,"class","field-label svelte-vpaa0b"),M(e,"move",n[2]||n[0])},m(t,r){w(t,e,r),e.innerHTML=n[6]},p(t,r){r&64&&(e.innerHTML=t[6]),r&5&&M(e,"move",t[2]||t[0])},d(t){t&&V(e)}}}function A(n){let e,t,r=n[21]+"",d,$,c,b,p;function f(){return n[16](n[21])}return{c(){e=x("div"),t=x("span"),d=X(r),$=z(),c=x("button"),c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height=".875rem" viewBox="0 0 512 512"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"></path></svg>',v(t,"class","field-container-chip-label svelte-vpaa0b"),v(c,"class","field-container-chip-button"),v(e,"class","field-container-chip svelte-vpaa0b")},m(m,l){w(m,e,l),y(e,t),y(t,d),y(e,$),y(e,c),b||(p=q(c,"click",Z(f)),b=!0)},p(m,l){n=m,l&2&&r!==(r=n[21]+"")&&ee(d,r)},d(m){m&&V(e),b=!1,p()}}}function ae(n){let e,t,r,d,$,c,b,p,f,m,l=n[6]&&B(n),g=I(n[1]),u=[];for(let a=0;a<g.length;a+=1)u[a]=A(j(n,g,a));return{c(){e=x("div"),t=x("label"),l&&l.c(),r=z(),d=x("div");for(let a=0;a<u.length;a+=1)u[a].c();$=z(),c=x("input"),b=z(),p=x("textarea"),v(c,"type","text"),v(c,"class","field-container-input svelte-vpaa0b"),v(c,"placeholder",n[7]),v(d,"class","field-container svelte-vpaa0b"),v(t,"class","field svelte-vpaa0b"),v(p,"id",n[4]),v(p,"name",n[5]),p.value=n[0],p.required=n[8],p.hidden=!0},m(a,o){w(a,e,o),y(e,t),l&&l.m(t,null),y(t,r),y(t,d);for(let i=0;i<u.length;i+=1)u[i]&&u[i].m(d,null);y(d,$),y(d,c),F(c,n[3]),w(a,b,o),w(a,p,o),f||(m=[q(window,"keydown",n[15]),q(c,"focus",n[17]),q(c,"blur",n[18]),q(c,"input",n[19])],f=!0)},p(a,[o]){if(a[6]?l?l.p(a,o):(l=B(a),l.c(),l.m(t,r)):l&&(l.d(1),l=null),o&2){g=I(a[1]);let i;for(i=0;i<g.length;i+=1){const k=j(a,g,i);u[i]?u[i].p(k,o):(u[i]=A(k),u[i].c(),u[i].m(d,$))}for(;i<u.length;i+=1)u[i].d(1);u.length=g.length}o&128&&v(c,"placeholder",a[7]),o&8&&c.value!==a[3]&&F(c,a[3]),o&16&&v(p,"id",a[4]),o&32&&v(p,"name",a[5]),o&1&&(p.value=a[0]),o&256&&(p.required=a[8])},i:E,o:E,d(a){a&&(V(e),V(b),V(p)),l&&l.d(),R(u,a),f=!1,U(m)}}}function ne(n,e,t){let{attachedInternals:r}=e,{value:d=""}=e,{id:$=null}=e,{name:c=null}=e,{label:b="Label"}=e,{placeholder:p=null}=e,{minitems:f=0}=e,{maxitems:m=null}=e,{pattern:l=null}=e,{required:g=!1}=e,{unique:u=!1}=e,{chips:a=[]}=e,{inputFocused:o=!1}=e,{inputValue:i=""}=e;const k=()=>a,H=W(),T=s=>{o&&(s.key=="Enter"&&(s.preventDefault(),i&&(t(1,a=[...a,i]),t(3,i=""))),s.key=="Backspace"&&!i&&t(1,a=a.slice(0,-1)))},C=s=>{a.splice(a.indexOf(s),1),t(1,a),t(2,o),t(3,i)},O=()=>t(2,o=!0),S=()=>t(2,o=!1);function Y(){i=this.value,t(3,i),t(2,o),t(1,a)}return n.$$set=s=>{"attachedInternals"in s&&t(9,r=s.attachedInternals),"value"in s&&t(0,d=s.value),"id"in s&&t(4,$=s.id),"name"in s&&t(5,c=s.name),"label"in s&&t(6,b=s.label),"placeholder"in s&&t(7,p=s.placeholder),"minitems"in s&&t(10,f=s.minitems),"maxitems"in s&&t(11,m=s.maxitems),"pattern"in s&&t(12,l=s.pattern),"required"in s&&t(8,g=s.required),"unique"in s&&t(13,u=s.unique),"chips"in s&&t(1,a=s.chips),"inputFocused"in s&&t(2,o=s.inputFocused),"inputValue"in s&&t(3,i=s.inputValue)},n.$$.update=()=>{n.$$.dirty&14&&!o&&i&&(t(1,a=[...a,i]),t(3,i="")),n.$$.dirty&15875&&(t(0,d=a.join(",")),a.length<f?r.setValidity({customError:!0},`A minimum of ${f} items need to be added.`):m&&a.length>m?r.setValidity({customError:!0},`A maximum of ${m} items are allowed.`):u&&new Set(a).size!==a.length?r.setValidity({customError:!0},"Chips are not unique."):l!=null&&a.filter(s=>l.test(s)).length!=a.length?r.setValidity({customError:!0},"Chips dont satisfy pattern."):r.setValidity({}),r.checkValidity(),r.setFormValue(d),H("value",a))},[d,a,o,i,$,c,b,p,g,r,f,m,l,u,k,T,C,O,S,Y]}class L extends _{constructor(e){super(),G(this,e,ne,ae,J,{attachedInternals:9,value:0,id:4,name:5,label:6,placeholder:7,minitems:10,maxitems:11,pattern:12,required:8,unique:13,chips:1,inputFocused:2,inputValue:3,getValue:14},te)}get attachedInternals(){return this.$$.ctx[9]}set attachedInternals(e){this.$$set({attachedInternals:e}),h()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),h()}get id(){return this.$$.ctx[4]}set id(e){this.$$set({id:e}),h()}get name(){return this.$$.ctx[5]}set name(e){this.$$set({name:e}),h()}get label(){return this.$$.ctx[6]}set label(e){this.$$set({label:e}),h()}get placeholder(){return this.$$.ctx[7]}set placeholder(e){this.$$set({placeholder:e}),h()}get minitems(){return this.$$.ctx[10]}set minitems(e){this.$$set({minitems:e}),h()}get maxitems(){return this.$$.ctx[11]}set maxitems(e){this.$$set({maxitems:e}),h()}get pattern(){return this.$$.ctx[12]}set pattern(e){this.$$set({pattern:e}),h()}get required(){return this.$$.ctx[8]}set required(e){this.$$set({required:e}),h()}get unique(){return this.$$.ctx[13]}set unique(e){this.$$set({unique:e}),h()}get chips(){return this.$$.ctx[1]}set chips(e){this.$$set({chips:e}),h()}get inputFocused(){return this.$$.ctx[2]}set inputFocused(e){this.$$set({inputFocused:e}),h()}get inputValue(){return this.$$.ctx[3]}set inputValue(e){this.$$set({inputValue:e}),h()}get getValue(){return this.$$.ctx[14]}}customElements.define("jp-chips",P(L,{attachedInternals:{},value:{},id:{},name:{},label:{},placeholder:{},minitems:{},maxitems:{},pattern:{},required:{type:"Boolean"},unique:{type:"Boolean"},chips:{},inputFocused:{type:"Boolean"},inputValue:{}},[],["getValue"],!1,n=>{var e;return e=class extends n{constructor(){super(),this.attachedInternals=this.attachInternals()}},N(e,"formAssociated",!0),e}));export{L as default};
