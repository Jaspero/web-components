import{S as D,i as Q,s as R,Q as F,d as i,v as E,f as P,p as w,w as T,k as B,c as Y,o as _,a as Z,C as U,e as j,l as tt,t as k,R as rt,j as G,D as et,x as st,G as lt,T as ot,U as nt,m as W,V as at,r as it,z as ut,B as ct,W as ft}from"./svelte.js";import"./index.js";function pt(r){let t,s,u,f,c,l,d,e,o,p,n,y,S,x,m,C,z;return{c(){t=F("svg"),s=F("polygon"),f=F("defs"),c=F("linearGradient"),l=F("stop"),o=F("stop"),y=F("stop"),m=F("stop"),i(s,"points",u=r[3]()),E(s,"fill-rule","nonzero"),i(l,"id","stop1"),i(l,"offset",d=r[0].percent),i(l,"stop-opacity","1"),i(l,"stop-color",e=r[2](r[0])),i(o,"id","stop2"),i(o,"offset",p=r[0].percent),i(o,"stop-opacity","0"),i(o,"stop-color",n=r[2](r[0])),i(y,"id","stop3"),i(y,"offset",S=r[0].percent),i(y,"stop-opacity","1"),i(y,"stop-color",x=r[1].styleEmptyStarColor),i(m,"id","stop4"),i(m,"offset","100%"),i(m,"stop-opacity","1"),i(m,"stop-color",C=r[1].styleEmptyStarColor),i(c,"id",z="gradient"+r[0].raw),i(t,"class","star-svg"),E(t,"fill","url(#gradient"+r[0].raw+")"),E(t,"height",r[1].styleStarWidth),E(t,"width",r[1].styleStarWidth)},m(g,v){P(g,t,v),w(t,s),w(t,f),w(f,c),w(c,l),w(c,o),w(c,y),w(c,m)},p(g,[v]){v&8&&u!==(u=g[3]())&&i(s,"points",u),v&1&&d!==(d=g[0].percent)&&i(l,"offset",d),v&5&&e!==(e=g[2](g[0]))&&i(l,"stop-color",e),v&1&&p!==(p=g[0].percent)&&i(o,"offset",p),v&5&&n!==(n=g[2](g[0]))&&i(o,"stop-color",n),v&1&&S!==(S=g[0].percent)&&i(y,"offset",S),v&2&&x!==(x=g[1].styleEmptyStarColor)&&i(y,"stop-color",x),v&2&&C!==(C=g[1].styleEmptyStarColor)&&i(m,"stop-color",C),v&1&&z!==(z="gradient"+g[0].raw)&&i(c,"id",z),v&1&&E(t,"fill","url(#gradient"+g[0].raw+")"),v&2&&E(t,"height",g[1].styleStarWidth),v&2&&E(t,"width",g[1].styleStarWidth)},i:T,o:T,d(g){g&&B(t)}}}function dt(r,t,s){let{star:u}=t,{style:f}=t,{getFullFillColor:c}=t,{getStarPoints:l}=t;return r.$$set=d=>{"star"in d&&s(0,u=d.star),"style"in d&&s(1,f=d.style),"getFullFillColor"in d&&s(2,c=d.getFullFillColor),"getStarPoints"in d&&s(3,l=d.getStarPoints)},[u,f,c,l]}class yt extends D{constructor(t){super(),Q(this,t,dt,pt,R,{star:0,style:1,getFullFillColor:2,getStarPoints:3})}}function gt(r){Z(r,"svelte-vuw1oz",".star-rating.svelte-vuw1oz{display:flex;align-items:center}.indicator.svelte-vuw1oz{font-size:1rem}.star-container.svelte-vuw1oz:not(:last-child){margin-right:5px;position:relative}")}function V(r,t,s){const u=r.slice();return u[20]=t[s],u}function q(r){let t,s,u,f,c,l,d;s=new yt({props:{star:r[20],style:r[3],getFullFillColor:r[7],getStarPoints:r[5]}});function e(){return r[10](r[20])}function o(){return r[11](r[20])}function p(){return r[13](r[20])}return{c(){t=j("button"),ot(s.$$.fragment),i(t,"type","button"),t.disabled=u=!r[1],i(t,"aria-label",f=`Star ${r[20].index}`)},m(n,y){P(n,t,y),nt(s,t,null),c=!0,l||(d=[W(t,"mouseover",e),W(t,"click",o),W(t,"mouseout",r[12]),W(t,"focus",p),W(t,"blur",r[14])],l=!0)},p(n,y){r=n;const S={};y&16&&(S.star=r[20]),y&8&&(S.style=r[3]),s.$set(S),(!c||y&2&&u!==(u=!r[1]))&&(t.disabled=u),(!c||y&16&&f!==(f=`Star ${r[20].index}`))&&i(t,"aria-label",f)},i(n){c||(k(s.$$.fragment,n),c=!0)},o(n){G(s.$$.fragment,n),c=!1},d(n){n&&B(t),at(s),l=!1,it(d)}}}function A(r){let t,s;return{c(){t=j("div"),s=ut(r[0]),i(t,"class","indicator svelte-vuw1oz")},m(u,f){P(u,t,f),w(t,s)},p(u,f){f&1&&ct(s,u[0])},d(u){u&&B(t)}}}function ht(r){let t,s,u,f,c=U(r[4]),l=[];for(let o=0;o<c.length;o+=1)l[o]=q(V(r,c,o));const d=o=>G(l[o],1,1,()=>{l[o]=null});let e=r[2]&&A(r);return{c(){t=j("div"),s=j("div");for(let o=0;o<l.length;o+=1)l[o].c();u=tt(),e&&e.c(),i(s,"class","star-rating svelte-vuw1oz"),i(t,"class","star-container svelte-vuw1oz")},m(o,p){P(o,t,p),w(t,s);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(s,null);w(s,u),e&&e.m(s,null),f=!0},p(o,[p]){if(p&1018){c=U(o[4]);let n;for(n=0;n<c.length;n+=1){const y=V(o,c,n);l[n]?(l[n].p(y,p),k(l[n],1)):(l[n]=q(y),l[n].c(),k(l[n],1),l[n].m(s,u))}for(ft(),n=c.length;n<l.length;n+=1)d(n);rt()}o[2]?e?e.p(o,p):(e=A(o),e.c(),e.m(s,null)):e&&(e.d(1),e=null)},i(o){if(!f){for(let p=0;p<c.length;p+=1)k(l[p]);f=!0}},o(o){l=l.filter(Boolean);for(let p=0;p<l.length;p+=1)G(l[p]);f=!1},d(o){o&&B(t),et(l,o),e&&e.d()}}}let b=0,H=1,J=5;function vt(r,t,s,u,f){let c=Math.PI/s,l=60,d=s*2,e="";for(let o=0;o<d;o++){let p=o%2==0?f:u,n=r+Math.cos(o*c+l)*p,y=t+Math.sin(o*c+l)*p;e+=n+","+y+" "}return e}function M(r){return r.raw*100+"%"}function $t(r,t,s){let{value:u=0}=t,{starsInput:f=!0}=t,{indicator:c=!0}=t,{style:l={styleStarWidth:15,styleEmptyStarColor:"#737373",styleFullStarColor:"#ffd219"}}=t,d=[],e=[],o=st();function p(){let a=l.styleStarWidth/2,h=l.styleStarWidth/2,$=5,I=l.styleStarWidth/$,X=I*2.5;return vt(a,h,$,I,X)}function n(){for(let a=0;a<J;a++)e.push({raw:b,percent:b+"%",index:a+1})}function y(){let a=Math.floor(u);for(let h=0;h<e.length;h++)if(a!==0)s(4,e[h].raw=H,e),s(4,e[h].percent=M(e[h]),e),a--;else{let $=Math.round(u%1*10)/10,I=Math.round($*10)/10;return s(4,e[h].raw=I,e),s(4,e[h].percent=M(e[h]),e)}}function S(a){if(!f)return;e.forEach($=>{$.raw=b,$.percent=M($)});let h=Math.min(Math.floor(a),J);for(let $=0;$<h;$++)s(4,e[$].raw=H,e),s(4,e[$].percent=M(e[$]),e);if(h<a){let $=a-h,I=Math.round($*10)/10;s(4,e[h].raw=I,e),s(4,e[h].percent=M(e[h]),e)}}function x(){f&&(s(4,e=d.map(a=>({...a,raw:b,percent:M(a)}))),y())}function m(a){return a.raw!==b?l.styleFullStarColor:l.styleEmptyStarColor}function C(a){f&&S(a)}function z(a){f&&o("rating",a)}lt(()=>{n(),y(),d=e});const g=a=>C(a.index),v=a=>z(a.index),L=()=>x(),N=a=>C(a.index),O=()=>x();return r.$$set=a=>{"value"in a&&s(0,u=a.value),"starsInput"in a&&s(1,f=a.starsInput),"indicator"in a&&s(2,c=a.indicator),"style"in a&&s(3,l=a.style)},[u,f,c,l,e,p,x,m,C,z,g,v,L,N,O]}class K extends D{constructor(t){super(),Q(this,t,$t,ht,R,{value:0,starsInput:1,indicator:2,style:3},gt)}get value(){return this.$$.ctx[0]}set value(t){this.$$set({value:t}),_()}get starsInput(){return this.$$.ctx[1]}set starsInput(t){this.$$set({starsInput:t}),_()}get indicator(){return this.$$.ctx[2]}set indicator(t){this.$$set({indicator:t}),_()}get style(){return this.$$.ctx[3]}set style(t){this.$$set({style:t}),_()}}try{customElements.define("jp-review-stars",Y(K,{value:{},starsInput:{type:"Boolean"},indicator:{type:"Boolean"},style:{}},[],[],!1));}catch{};export{K as default};
//# sourceMappingURL=review-stars.wc.js.map
