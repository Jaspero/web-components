import{S as R,i as T,s as U,Q as F,d as c,v as E,f as P,p as S,w as V,k as B,c as Z,o as _,a as tt,C as q,e as k,l as rt,t as G,R as et,j,D as lt,x as st,G as ot,T as nt,U as at,m as W,V as it,r as ct,z as D,B as ut,W as ft}from"./svelte.js";import"./index.js";function pt(r){let t,l,u,f,a,e,d,s,o,p,n,y,w,x,m,C,z;return{c(){t=F("svg"),l=F("polygon"),f=F("defs"),a=F("linearGradient"),e=F("stop"),o=F("stop"),y=F("stop"),m=F("stop"),c(l,"points",u=r[3]()),E(l,"fill-rule","nonzero"),c(e,"id","stop1"),c(e,"offset",d=r[0].percent),c(e,"stop-opacity","1"),c(e,"stop-color",s=r[2](r[0])),c(o,"id","stop2"),c(o,"offset",p=r[0].percent),c(o,"stop-opacity","0"),c(o,"stop-color",n=r[2](r[0])),c(y,"id","stop3"),c(y,"offset",w=r[0].percent),c(y,"stop-opacity","1"),c(y,"stop-color",x=r[1].styleEmptyStarColor),c(m,"id","stop4"),c(m,"offset","100%"),c(m,"stop-opacity","1"),c(m,"stop-color",C=r[1].styleEmptyStarColor),c(a,"id",z="gradient"+r[0].raw),c(t,"class","star-svg"),E(t,"fill","url(#gradient"+r[0].raw+")"),E(t,"height",r[1].styleStarWidth),E(t,"width",r[1].styleStarWidth)},m(g,v){P(g,t,v),S(t,l),S(t,f),S(f,a),S(a,e),S(a,o),S(a,y),S(a,m)},p(g,[v]){v&8&&u!==(u=g[3]())&&c(l,"points",u),v&1&&d!==(d=g[0].percent)&&c(e,"offset",d),v&5&&s!==(s=g[2](g[0]))&&c(e,"stop-color",s),v&1&&p!==(p=g[0].percent)&&c(o,"offset",p),v&5&&n!==(n=g[2](g[0]))&&c(o,"stop-color",n),v&1&&w!==(w=g[0].percent)&&c(y,"offset",w),v&2&&x!==(x=g[1].styleEmptyStarColor)&&c(y,"stop-color",x),v&2&&C!==(C=g[1].styleEmptyStarColor)&&c(m,"stop-color",C),v&1&&z!==(z="gradient"+g[0].raw)&&c(a,"id",z),v&1&&E(t,"fill","url(#gradient"+g[0].raw+")"),v&2&&E(t,"height",g[1].styleStarWidth),v&2&&E(t,"width",g[1].styleStarWidth)},i:V,o:V,d(g){g&&B(t)}}}function dt(r,t,l){let{star:u}=t,{style:f}=t,{getFullFillColor:a}=t,{getStarPoints:e}=t;return r.$$set=d=>{"star"in d&&l(0,u=d.star),"style"in d&&l(1,f=d.style),"getFullFillColor"in d&&l(2,a=d.getFullFillColor),"getStarPoints"in d&&l(3,e=d.getStarPoints)},[u,f,a,e]}class yt extends R{constructor(t){super(),T(this,t,dt,pt,U,{star:0,style:1,getFullFillColor:2,getStarPoints:3})}}function gt(r){tt(r,"svelte-vuw1oz",".star-rating.svelte-vuw1oz{display:flex;align-items:center}.indicator.svelte-vuw1oz{font-size:1rem}.star-container.svelte-vuw1oz:not(:last-child){margin-right:5px;position:relative}")}function A(r,t,l){const u=r.slice();return u[20]=t[l],u}function H(r){let t,l,u,f,a,e,d;l=new yt({props:{star:r[20],style:r[3],getFullFillColor:r[7],getStarPoints:r[5]}});function s(){return r[10](r[20])}function o(){return r[11](r[20])}function p(){return r[13](r[20])}return{c(){t=k("button"),nt(l.$$.fragment),c(t,"type","button"),t.disabled=u=!r[1],c(t,"aria-label",f=`Star ${r[20].index}`)},m(n,y){P(n,t,y),at(l,t,null),a=!0,e||(d=[W(t,"mouseover",s),W(t,"click",o),W(t,"mouseout",r[12]),W(t,"focus",p),W(t,"blur",r[14])],e=!0)},p(n,y){r=n;const w={};y&16&&(w.star=r[20]),y&8&&(w.style=r[3]),l.$set(w),(!a||y&2&&u!==(u=!r[1]))&&(t.disabled=u),(!a||y&16&&f!==(f=`Star ${r[20].index}`))&&c(t,"aria-label",f)},i(n){a||(G(l.$$.fragment,n),a=!0)},o(n){j(l.$$.fragment,n),a=!1},d(n){n&&B(t),it(l),e=!1,ct(d)}}}function J(r){let t,l,u,f;return{c(){t=k("div"),l=D(r[0]),u=D("/"),f=D(Q),c(t,"class","indicator svelte-vuw1oz")},m(a,e){P(a,t,e),S(t,l),S(t,u),S(t,f)},p(a,e){e&1&&ut(l,a[0])},d(a){a&&B(t)}}}function ht(r){let t,l,u,f,a=q(r[4]),e=[];for(let o=0;o<a.length;o+=1)e[o]=H(A(r,a,o));const d=o=>j(e[o],1,1,()=>{e[o]=null});let s=r[2]&&J(r);return{c(){t=k("div"),l=k("div");for(let o=0;o<e.length;o+=1)e[o].c();u=rt(),s&&s.c(),c(l,"class","star-rating svelte-vuw1oz"),c(t,"class","star-container svelte-vuw1oz")},m(o,p){P(o,t,p),S(t,l);for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(l,null);S(l,u),s&&s.m(l,null),f=!0},p(o,[p]){if(p&1018){a=q(o[4]);let n;for(n=0;n<a.length;n+=1){const y=A(o,a,n);e[n]?(e[n].p(y,p),G(e[n],1)):(e[n]=H(y),e[n].c(),G(e[n],1),e[n].m(l,u))}for(ft(),n=a.length;n<e.length;n+=1)d(n);et()}o[2]?s?s.p(o,p):(s=J(o),s.c(),s.m(l,null)):s&&(s.d(1),s=null)},i(o){if(!f){for(let p=0;p<a.length;p+=1)G(e[p]);f=!0}},o(o){e=e.filter(Boolean);for(let p=0;p<e.length;p+=1)j(e[p]);f=!1},d(o){o&&B(t),lt(e,o),s&&s.d()}}}let b=0,K=1,Q=5;function vt(r,t,l,u,f){let a=Math.PI/l,e=60,d=l*2,s="";for(let o=0;o<d;o++){let p=o%2==0?f:u,n=r+Math.cos(o*a+e)*p,y=t+Math.sin(o*a+e)*p;s+=n+","+y+" "}return s}function M(r){return r.raw*100+"%"}function $t(r,t,l){let{value:u=0}=t,{starsInput:f=!0}=t,{indicator:a=!0}=t,{style:e={styleStarWidth:15,styleEmptyStarColor:"#737373",styleFullStarColor:"#ffd219"}}=t,d=[],s=[],o=st();function p(){let i=e.styleStarWidth/2,h=e.styleStarWidth/2,$=5,I=e.styleStarWidth/$,Y=I*2.5;return vt(i,h,$,I,Y)}function n(){for(let i=0;i<Q;i++)s.push({raw:b,percent:b+"%",index:i+1})}function y(){let i=Math.floor(u);for(let h=0;h<s.length;h++)if(i!==0)l(4,s[h].raw=K,s),l(4,s[h].percent=M(s[h]),s),i--;else{let $=Math.round(u%1*10)/10,I=Math.round($*10)/10;return l(4,s[h].raw=I,s),l(4,s[h].percent=M(s[h]),s)}}function w(i){if(!f)return;s.forEach($=>{$.raw=b,$.percent=M($)});let h=Math.min(Math.floor(i),Q);for(let $=0;$<h;$++)l(4,s[$].raw=K,s),l(4,s[$].percent=M(s[$]),s);if(h<i){let $=i-h,I=Math.round($*10)/10;l(4,s[h].raw=I,s),l(4,s[h].percent=M(s[h]),s)}}function x(){f&&(l(4,s=d.map(i=>({...i,raw:b,percent:M(i)}))),y())}function m(i){return i.raw!==b?e.styleFullStarColor:e.styleEmptyStarColor}function C(i){f&&w(i)}function z(i){f&&(l(0,u=i),o("rating",i))}ot(()=>{n(),y(),d=s});const g=i=>C(i.index),v=i=>z(i.index),N=()=>x(),O=i=>C(i.index),X=()=>x();return r.$$set=i=>{"value"in i&&l(0,u=i.value),"starsInput"in i&&l(1,f=i.starsInput),"indicator"in i&&l(2,a=i.indicator),"style"in i&&l(3,e=i.style)},[u,f,a,e,s,p,x,m,C,z,g,v,N,O,X]}class L extends R{constructor(t){super(),T(this,t,$t,ht,U,{value:0,starsInput:1,indicator:2,style:3},gt)}get value(){return this.$$.ctx[0]}set value(t){this.$$set({value:t}),_()}get starsInput(){return this.$$.ctx[1]}set starsInput(t){this.$$set({starsInput:t}),_()}get indicator(){return this.$$.ctx[2]}set indicator(t){this.$$set({indicator:t}),_()}get style(){return this.$$.ctx[3]}set style(t){this.$$set({style:t}),_()}}try{customElements.define("jp-review-stars",Z(L,{value:{},starsInput:{type:"Boolean"},indicator:{type:"Boolean"},style:{}},[],[],!1));}catch{};export{L as default};
//# sourceMappingURL=review-stars.wc.js.map
