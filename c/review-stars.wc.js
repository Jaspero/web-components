import{S as R,i as T,s as U,O as C,d as c,v as E,f as P,p as S,w as V,k as B,c as Z,o as z,a as tt,C as _,e as k,l as rt,t as G,Q as et,j as D,D as st,x as nt,G as lt,R as ot,T as at,m as j,U as it,r as ct,z as O,B as ut,V as pt}from"./svelte.js";import"./index.js";function ft(r){let t,s,u,p,a,e,d,n,l,f,o,g,w,x,m,b,F;return{c(){t=C("svg"),s=C("polygon"),p=C("defs"),a=C("linearGradient"),e=C("stop"),l=C("stop"),g=C("stop"),m=C("stop"),c(s,"points",u=r[3]()),E(s,"fill-rule","nonzero"),c(e,"id","stop1"),c(e,"offset",d=r[0].percent),c(e,"stop-opacity","1"),c(e,"stop-color",n=r[2](r[0])),c(l,"id","stop2"),c(l,"offset",f=r[0].percent),c(l,"stop-opacity","0"),c(l,"stop-color",o=r[2](r[0])),c(g,"id","stop3"),c(g,"offset",w=r[0].percent),c(g,"stop-opacity","1"),c(g,"stop-color",x=r[1].styleEmptyStarColor),c(m,"id","stop4"),c(m,"offset","100%"),c(m,"stop-opacity","1"),c(m,"stop-color",b=r[1].styleEmptyStarColor),c(a,"id",F="gradient"+r[0].raw),c(t,"class","star-svg"),E(t,"fill","url(#gradient"+r[0].raw+")"),E(t,"height",r[1].styleStarWidth),E(t,"width",r[1].styleStarWidth)},m(y,v){P(y,t,v),S(t,s),S(t,p),S(p,a),S(a,e),S(a,l),S(a,g),S(a,m)},p(y,[v]){v&8&&u!==(u=y[3]())&&c(s,"points",u),v&1&&d!==(d=y[0].percent)&&c(e,"offset",d),v&5&&n!==(n=y[2](y[0]))&&c(e,"stop-color",n),v&1&&f!==(f=y[0].percent)&&c(l,"offset",f),v&5&&o!==(o=y[2](y[0]))&&c(l,"stop-color",o),v&1&&w!==(w=y[0].percent)&&c(g,"offset",w),v&2&&x!==(x=y[1].styleEmptyStarColor)&&c(g,"stop-color",x),v&2&&b!==(b=y[1].styleEmptyStarColor)&&c(m,"stop-color",b),v&1&&F!==(F="gradient"+y[0].raw)&&c(a,"id",F),v&1&&E(t,"fill","url(#gradient"+y[0].raw+")"),v&2&&E(t,"height",y[1].styleStarWidth),v&2&&E(t,"width",y[1].styleStarWidth)},i:V,o:V,d(y){y&&B(t)}}}function dt(r,t,s){let{star:u}=t,{style:p}=t,{getFullFillColor:a}=t,{getStarPoints:e}=t;return r.$$set=d=>{"star"in d&&s(0,u=d.star),"style"in d&&s(1,p=d.style),"getFullFillColor"in d&&s(2,a=d.getFullFillColor),"getStarPoints"in d&&s(3,e=d.getStarPoints)},[u,p,a,e]}class gt extends R{constructor(t){super(),T(this,t,dt,ft,U,{star:0,style:1,getFullFillColor:2,getStarPoints:3})}}function yt(r){tt(r,"svelte-1b09gnd",".jp-review-stars-container.svelte-1b09gnd:not(:last-child){margin-right:5px;position:relative}.jp-review-stars-rating.svelte-1b09gnd{display:flex;align-items:center}.jp-review-stars-indicator.svelte-1b09gnd{font-size:1rem}")}function q(r,t,s){const u=r.slice();return u[20]=t[s],u}function A(r){let t,s,u,p,a,e,d;s=new gt({props:{star:r[20],style:r[3],getFullFillColor:r[7],getStarPoints:r[5]}});function n(){return r[10](r[20])}function l(){return r[11](r[20])}function f(){return r[13](r[20])}return{c(){t=k("button"),ot(s.$$.fragment),c(t,"type","button"),t.disabled=u=!r[1],c(t,"aria-label",p=`Star ${r[20].index}`)},m(o,g){P(o,t,g),at(s,t,null),a=!0,e||(d=[j(t,"mouseover",n),j(t,"click",l),j(t,"mouseout",r[12]),j(t,"focus",f),j(t,"blur",r[14])],e=!0)},p(o,g){r=o;const w={};g&16&&(w.star=r[20]),g&8&&(w.style=r[3]),s.$set(w),(!a||g&2&&u!==(u=!r[1]))&&(t.disabled=u),(!a||g&16&&p!==(p=`Star ${r[20].index}`))&&c(t,"aria-label",p)},i(o){a||(G(s.$$.fragment,o),a=!0)},o(o){D(s.$$.fragment,o),a=!1},d(o){o&&B(t),it(s),e=!1,ct(d)}}}function H(r){let t,s,u,p;return{c(){t=k("div"),s=O(r[0]),u=O("/"),p=O(Q),c(t,"class","jp-review-stars-indicator svelte-1b09gnd")},m(a,e){P(a,t,e),S(t,s),S(t,u),S(t,p)},p(a,e){e&1&&ut(s,a[0])},d(a){a&&B(t)}}}function ht(r){let t,s,u,p,a=_(r[4]),e=[];for(let l=0;l<a.length;l+=1)e[l]=A(q(r,a,l));const d=l=>D(e[l],1,1,()=>{e[l]=null});let n=r[2]&&H(r);return{c(){t=k("div"),s=k("div");for(let l=0;l<e.length;l+=1)e[l].c();u=rt(),n&&n.c(),c(s,"class","jp-review-stars-rating svelte-1b09gnd"),c(t,"class","jp-review-stars-container svelte-1b09gnd")},m(l,f){P(l,t,f),S(t,s);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(s,null);S(s,u),n&&n.m(s,null),p=!0},p(l,[f]){if(f&1018){a=_(l[4]);let o;for(o=0;o<a.length;o+=1){const g=q(l,a,o);e[o]?(e[o].p(g,f),G(e[o],1)):(e[o]=A(g),e[o].c(),G(e[o],1),e[o].m(s,u))}for(pt(),o=a.length;o<e.length;o+=1)d(o);et()}l[2]?n?n.p(l,f):(n=H(l),n.c(),n.m(s,null)):n&&(n.d(1),n=null)},i(l){if(!p){for(let f=0;f<a.length;f+=1)G(e[f]);p=!0}},o(l){e=e.filter(Boolean);for(let f=0;f<e.length;f+=1)D(e[f]);p=!1},d(l){l&&B(t),st(e,l),n&&n.d()}}}let W=0,J=1,Q=5;function vt(r,t,s,u,p){let a=Math.PI/s,e=60,d=s*2,n="";for(let l=0;l<d;l++){let f=l%2==0?p:u,o=r+Math.cos(l*a+e)*f,g=t+Math.sin(l*a+e)*f;n+=o+","+g+" "}return n}function M(r){return r.raw*100+"%"}function $t(r,t,s){let{value:u=0}=t,{starsInput:p=!0}=t,{indicator:a=!0}=t,{style:e={styleStarWidth:15,styleEmptyStarColor:"#737373",styleFullStarColor:"#ffd219"}}=t,d=[],n=[],l=nt();function f(){let i=e.styleStarWidth/2,h=e.styleStarWidth/2,$=5,I=e.styleStarWidth/$,Y=I*2.5;return vt(i,h,$,I,Y)}function o(){for(let i=0;i<Q;i++)n.push({raw:W,percent:W+"%",index:i+1})}function g(){let i=Math.floor(u);for(let h=0;h<n.length;h++)if(i!==0)s(4,n[h].raw=J,n),s(4,n[h].percent=M(n[h]),n),i--;else{let $=Math.round(u%1*10)/10,I=Math.round($*10)/10;return s(4,n[h].raw=I,n),s(4,n[h].percent=M(n[h]),n)}}function w(i){if(!p)return;n.forEach($=>{$.raw=W,$.percent=M($)});let h=Math.min(Math.floor(i),Q);for(let $=0;$<h;$++)s(4,n[$].raw=J,n),s(4,n[$].percent=M(n[$]),n);if(h<i){let $=i-h,I=Math.round($*10)/10;s(4,n[h].raw=I,n),s(4,n[h].percent=M(n[h]),n)}}function x(){p&&(s(4,n=d.map(i=>({...i,raw:W,percent:M(i)}))),g())}function m(i){return i.raw!==W?e.styleFullStarColor:e.styleEmptyStarColor}function b(i){p&&w(i)}function F(i){p&&(s(0,u=i),l("rating",i))}lt(()=>{o(),g(),d=n});const y=i=>b(i.index),v=i=>F(i.index),L=()=>x(),N=i=>b(i.index),X=()=>x();return r.$$set=i=>{"value"in i&&s(0,u=i.value),"starsInput"in i&&s(1,p=i.starsInput),"indicator"in i&&s(2,a=i.indicator),"style"in i&&s(3,e=i.style)},[u,p,a,e,n,f,x,m,b,F,y,v,L,N,X]}class K extends R{constructor(t){super(),T(this,t,$t,ht,U,{value:0,starsInput:1,indicator:2,style:3},yt)}get value(){return this.$$.ctx[0]}set value(t){this.$$set({value:t}),z()}get starsInput(){return this.$$.ctx[1]}set starsInput(t){this.$$set({starsInput:t}),z()}get indicator(){return this.$$.ctx[2]}set indicator(t){this.$$set({indicator:t}),z()}get style(){return this.$$.ctx[3]}set style(t){this.$$set({style:t}),z()}}try{customElements.define("jp-review-stars",Z(K,{value:{},starsInput:{type:"Boolean"},indicator:{type:"Boolean"},style:{}},[],[],!1));}catch{};export{K as default};
//# sourceMappingURL=review-stars.wc.js.map
