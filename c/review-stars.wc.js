import{c as R,S as T,i as U,f as B,s as V,a as X,p as q,e as F,b as Y,d as a,g as P,h as v,n as H,j as _,q as Z,k as tt,x as et,G as I,H as M,o as b,r as st,t as rt,u as nt}from"./svelte.js";import"./index2.js";function ot(t){X(t,"svelte-9x7hcj",".star-rating.svelte-9x7hcj{display:flex;align-items:center}.indicator.svelte-9x7hcj{font-size:1rem}.star-container.svelte-9x7hcj:not(:last-child){margin-right:5px;position:relative}")}function O(t,e,s){const u=t.slice();return u[20]=e[s],u}function D(t){let e,s,u,p,l,o,c,r,i,g,x,y,j,S,m,$,w,A,C,W,z;function G(){return t[10](t[20])}function n(){return t[11](t[20])}function d(){return t[13](t[20])}return{c(){e=F("button"),s=I("svg"),u=I("polygon"),p=I("defs"),l=I("linearGradient"),o=I("stop"),i=I("stop"),y=I("stop"),m=I("stop"),a(u,"points",t[5]()),M(u,"fill-rule","nonzero"),a(o,"id","stop1"),a(o,"offset",c=t[20].percent),a(o,"stop-opacity","1"),a(o,"stop-color",r=t[7](t[20])),a(i,"id","stop2"),a(i,"offset",g=t[20].percent),a(i,"stop-opacity","0"),a(i,"stop-color",x=t[7](t[20])),a(y,"id","stop3"),a(y,"offset",j=t[20].percent),a(y,"stop-opacity","1"),a(y,"stop-color",S=t[3].styleEmptyStarColor),a(m,"id","stop4"),a(m,"offset","100%"),a(m,"stop-opacity","1"),a(m,":stop-color",$=t[3].styleEmptyStarColor),a(l,"id",w="gradient"+t[20].raw),a(s,"class","star-svg"),M(s,"fill","url(#gradient"+t[20].raw+")"),M(s,"height",t[3].styleStarWidth),M(s,"width",t[3].styleStarWidth),e.disabled=A=!t[1],a(e,"aria-label",C=`Star ${t[20].index}`)},m(f,h){P(f,e,h),v(e,s),v(s,u),v(s,p),v(p,l),v(l,o),v(l,i),v(l,y),v(l,m),W||(z=[b(e,"mouseover",G),b(e,"click",n),b(e,"mouseout",t[12]),b(e,"focus",d),b(e,"blur",t[14])],W=!0)},p(f,h){t=f,h&16&&c!==(c=t[20].percent)&&a(o,"offset",c),h&16&&r!==(r=t[7](t[20]))&&a(o,"stop-color",r),h&16&&g!==(g=t[20].percent)&&a(i,"offset",g),h&16&&x!==(x=t[7](t[20]))&&a(i,"stop-color",x),h&16&&j!==(j=t[20].percent)&&a(y,"offset",j),h&8&&S!==(S=t[3].styleEmptyStarColor)&&a(y,"stop-color",S),h&8&&$!==($=t[3].styleEmptyStarColor)&&a(m,":stop-color",$),h&16&&w!==(w="gradient"+t[20].raw)&&a(l,"id",w),h&16&&M(s,"fill","url(#gradient"+t[20].raw+")"),h&8&&M(s,"height",t[3].styleStarWidth),h&8&&M(s,"width",t[3].styleStarWidth),h&2&&A!==(A=!t[1])&&(e.disabled=A),h&16&&C!==(C=`Star ${t[20].index}`)&&a(e,"aria-label",C)},d(f){f&&_(e),W=!1,st(z)}}}function J(t){let e,s;return{c(){e=F("div"),s=rt(t[0]),a(e,"class","indicator svelte-9x7hcj")},m(u,p){P(u,e,p),v(e,s)},p(u,p){p&1&&nt(s,u[0])},d(u){u&&_(e)}}}function it(t){let e,s,u,p=q(t[4]),l=[];for(let c=0;c<p.length;c+=1)l[c]=D(O(t,p,c));let o=t[2]&&J(t);return{c(){e=F("div"),s=F("div");for(let c=0;c<l.length;c+=1)l[c].c();u=Y(),o&&o.c(),a(s,"class","star-rating svelte-9x7hcj"),a(e,"class","star-container svelte-9x7hcj")},m(c,r){P(c,e,r),v(e,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(s,null);v(s,u),o&&o.m(s,null)},p(c,[r]){if(r&1018){p=q(c[4]);let i;for(i=0;i<p.length;i+=1){const g=O(c,p,i);l[i]?l[i].p(g,r):(l[i]=D(g),l[i].c(),l[i].m(s,u))}for(;i<l.length;i+=1)l[i].d(1);l.length=p.length}c[2]?o?o.p(c,r):(o=J(c),o.c(),o.m(s,null)):o&&(o.d(1),o=null)},i:H,o:H,d(c){c&&_(e),Z(l,c),o&&o.d()}}}let k=0,K=1,L=5;function at(t,e,s,u,p){let l=Math.PI/s,o=60,c=s*2,r="";for(let i=0;i<c;i++){let g=i%2==0?p:u,x=t+Math.cos(i*l+o)*g,y=e+Math.sin(i*l+o)*g;r+=x+","+y+" "}return r}function E(t){return t.raw*100+"%"}function lt(t,e,s){let{value:u}=e,{starsInput:p=!1}=e,{isIndicatorActive:l=!0}=e,{style:o={styleStarWidth:15,styleEmptyStarColor:"#737373",styleFullStarColor:"#ffd219"}}=e,c=[],r=[],i=tt();function g(){let n=o.styleStarWidth/2,d=o.styleStarWidth/2,f=5,h=o.styleStarWidth/f,Q=h*2.5;return at(n,d,f,h,Q)}function x(){for(let n=0;n<L;n++)r.push({raw:k,percent:k+"%",index:n+1})}function y(){let n=Math.floor(u);for(let d=0;d<r.length;d++)if(n!==0)s(4,r[d].raw=K,r),s(4,r[d].percent=E(r[d]),r),n--;else{let f=Math.round(u%1*10)/10,h=Math.round(f*10)/10;return s(4,r[d].raw=h,r),s(4,r[d].percent=E(r[d]),r)}}function j(n){if(!p)return;r.forEach(f=>{f.raw=k,f.percent=E(f)});let d=Math.min(Math.floor(n),L);for(let f=0;f<d;f++)s(4,r[f].raw=K,r),s(4,r[f].percent=E(r[f]),r);if(d<n){let f=n-d,h=Math.round(f*10)/10;s(4,r[d].raw=h,r),s(4,r[d].percent=E(r[d]),r)}}function S(){p&&(s(4,r=c.map(n=>({...n,raw:k,percent:E(n)}))),y())}function m(n){return n.raw!==k?o.styleFullStarColor:o.styleEmptyStarColor}function $(n){p&&j(n)}function w(n){p&&i("rating",n)}et(()=>{x(),y(),c=r});const A=n=>$(n.index),C=n=>w(n.index),W=()=>S(),z=n=>$(n.index),G=()=>S();return t.$$set=n=>{"value"in n&&s(0,u=n.value),"starsInput"in n&&s(1,p=n.starsInput),"isIndicatorActive"in n&&s(2,l=n.isIndicatorActive),"style"in n&&s(3,o=n.style)},[u,p,l,o,r,g,S,m,$,w,A,C,W,z,G]}class N extends T{constructor(e){super(),U(this,e,lt,it,V,{value:0,starsInput:1,isIndicatorActive:2,style:3},ot)}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),B()}get starsInput(){return this.$$.ctx[1]}set starsInput(e){this.$$set({starsInput:e}),B()}get isIndicatorActive(){return this.$$.ctx[2]}set isIndicatorActive(e){this.$$set({isIndicatorActive:e}),B()}get style(){return this.$$.ctx[3]}set style(e){this.$$set({style:e}),B()}}try{customElements.define("jp-review-star-rating",R(N,{value:{},starsInput:{type:"Boolean"},isIndicatorActive:{type:"Boolean"},style:{}},[],[],!1));}catch{};export{N as default};
