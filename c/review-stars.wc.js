import{c as Q,S as T,i as U,f as k,s as V,a as X,B as J,e as G,b as Y,g as i,h as A,j as v,J as O,o as D,C as Z,D as tt,E as et,d as x,A as I,l as F,r as rt,F as st,G as ot}from"./svelte.js";import"./index.js";function nt(t){X(t,"svelte-vuw1oz",".star-rating.svelte-vuw1oz{display:flex;align-items:center}.indicator.svelte-vuw1oz{font-size:1rem}.star-container.svelte-vuw1oz:not(:last-child){margin-right:5px;position:relative}")}function P(t,e,r){const u=t.slice();return u[20]=e[r],u}function R(t){let e,r,u,p,l,n,c,s,a,g,w,y,b,S,m,$,E,z,C,W,j;function _(){return t[10](t[20])}function o(){return t[11](t[20])}function h(){return t[13](t[20])}return{c(){e=G("button"),r=x("svg"),u=x("polygon"),p=x("defs"),l=x("linearGradient"),n=x("stop"),a=x("stop"),y=x("stop"),m=x("stop"),i(u,"points",t[5]()),I(u,"fill-rule","nonzero"),i(n,"id","stop1"),i(n,"offset",c=t[20].percent),i(n,"stop-opacity","1"),i(n,"stop-color",s=t[7](t[20])),i(a,"id","stop2"),i(a,"offset",g=t[20].percent),i(a,"stop-opacity","0"),i(a,"stop-color",w=t[7](t[20])),i(y,"id","stop3"),i(y,"offset",b=t[20].percent),i(y,"stop-opacity","1"),i(y,"stop-color",S=t[3].styleEmptyStarColor),i(m,"id","stop4"),i(m,"offset","100%"),i(m,"stop-opacity","1"),i(m,"stop-color",$=t[3].styleEmptyStarColor),i(l,"id",E="gradient"+t[20].raw),i(r,"class","star-svg"),I(r,"fill","url(#gradient"+t[20].raw+")"),I(r,"height",t[3].styleStarWidth),I(r,"width",t[3].styleStarWidth),i(e,"type","button"),e.disabled=z=!t[1],i(e,"aria-label",C=`Star ${t[20].index}`)},m(f,d){A(f,e,d),v(e,r),v(r,u),v(r,p),v(p,l),v(l,n),v(l,a),v(l,y),v(l,m),W||(j=[F(e,"mouseover",_),F(e,"click",o),F(e,"mouseout",t[12]),F(e,"focus",h),F(e,"blur",t[14])],W=!0)},p(f,d){t=f,d&16&&c!==(c=t[20].percent)&&i(n,"offset",c),d&16&&s!==(s=t[7](t[20]))&&i(n,"stop-color",s),d&16&&g!==(g=t[20].percent)&&i(a,"offset",g),d&16&&w!==(w=t[7](t[20]))&&i(a,"stop-color",w),d&16&&b!==(b=t[20].percent)&&i(y,"offset",b),d&8&&S!==(S=t[3].styleEmptyStarColor)&&i(y,"stop-color",S),d&8&&$!==($=t[3].styleEmptyStarColor)&&i(m,"stop-color",$),d&16&&E!==(E="gradient"+t[20].raw)&&i(l,"id",E),d&16&&I(r,"fill","url(#gradient"+t[20].raw+")"),d&8&&I(r,"height",t[3].styleStarWidth),d&8&&I(r,"width",t[3].styleStarWidth),d&2&&z!==(z=!t[1])&&(e.disabled=z),d&16&&C!==(C=`Star ${t[20].index}`)&&i(e,"aria-label",C)},d(f){f&&D(e),W=!1,rt(j)}}}function q(t){let e,r;return{c(){e=G("div"),r=st(t[0]),i(e,"class","indicator svelte-vuw1oz")},m(u,p){A(u,e,p),v(e,r)},p(u,p){p&1&&ot(r,u[0])},d(u){u&&D(e)}}}function at(t){let e,r,u,p=J(t[4]),l=[];for(let c=0;c<p.length;c+=1)l[c]=R(P(t,p,c));let n=t[2]&&q(t);return{c(){e=G("div"),r=G("div");for(let c=0;c<l.length;c+=1)l[c].c();u=Y(),n&&n.c(),i(r,"class","star-rating svelte-vuw1oz"),i(e,"class","star-container svelte-vuw1oz")},m(c,s){A(c,e,s),v(e,r);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(r,null);v(r,u),n&&n.m(r,null)},p(c,[s]){if(s&1018){p=J(c[4]);let a;for(a=0;a<p.length;a+=1){const g=P(c,p,a);l[a]?l[a].p(g,s):(l[a]=R(g),l[a].c(),l[a].m(r,u))}for(;a<l.length;a+=1)l[a].d(1);l.length=p.length}c[2]?n?n.p(c,s):(n=q(c),n.c(),n.m(r,null)):n&&(n.d(1),n=null)},i:O,o:O,d(c){c&&D(e),Z(l,c),n&&n.d()}}}let B=0,H=1,K=5;function it(t,e,r,u,p){let l=Math.PI/r,n=60,c=r*2,s="";for(let a=0;a<c;a++){let g=a%2==0?p:u,w=t+Math.cos(a*l+n)*g,y=e+Math.sin(a*l+n)*g;s+=w+","+y+" "}return s}function M(t){return t.raw*100+"%"}function lt(t,e,r){let{value:u=0}=e,{starsInput:p=!0}=e,{indicator:l=!0}=e,{style:n={styleStarWidth:15,styleEmptyStarColor:"#737373",styleFullStarColor:"#ffd219"}}=e,c=[],s=[],a=tt();function g(){let o=n.styleStarWidth/2,h=n.styleStarWidth/2,f=5,d=n.styleStarWidth/f,N=d*2.5;return it(o,h,f,d,N)}function w(){for(let o=0;o<K;o++)s.push({raw:B,percent:B+"%",index:o+1})}function y(){let o=Math.floor(u);for(let h=0;h<s.length;h++)if(o!==0)r(4,s[h].raw=H,s),r(4,s[h].percent=M(s[h]),s),o--;else{let f=Math.round(u%1*10)/10,d=Math.round(f*10)/10;return r(4,s[h].raw=d,s),r(4,s[h].percent=M(s[h]),s)}}function b(o){if(!p)return;s.forEach(f=>{f.raw=B,f.percent=M(f)});let h=Math.min(Math.floor(o),K);for(let f=0;f<h;f++)r(4,s[f].raw=H,s),r(4,s[f].percent=M(s[f]),s);if(h<o){let f=o-h,d=Math.round(f*10)/10;r(4,s[h].raw=d,s),r(4,s[h].percent=M(s[h]),s)}}function S(){p&&(r(4,s=c.map(o=>({...o,raw:B,percent:M(o)}))),y())}function m(o){return o.raw!==B?n.styleFullStarColor:n.styleEmptyStarColor}function $(o){p&&b(o)}function E(o){p&&a("rating",o)}et(()=>{w(),y(),c=s});const z=o=>$(o.index),C=o=>E(o.index),W=()=>S(),j=o=>$(o.index),_=()=>S();return t.$$set=o=>{"value"in o&&r(0,u=o.value),"starsInput"in o&&r(1,p=o.starsInput),"indicator"in o&&r(2,l=o.indicator),"style"in o&&r(3,n=o.style)},[u,p,l,n,s,g,S,m,$,E,z,C,W,j,_]}class L extends T{constructor(e){super(),U(this,e,lt,at,V,{value:0,starsInput:1,indicator:2,style:3},nt)}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),k()}get starsInput(){return this.$$.ctx[1]}set starsInput(e){this.$$set({starsInput:e}),k()}get indicator(){return this.$$.ctx[2]}set indicator(e){this.$$set({indicator:e}),k()}get style(){return this.$$.ctx[3]}set style(e){this.$$set({style:e}),k()}}try{customElements.define("jp-review-stars",Q(L,{value:{},starsInput:{type:"Boolean"},indicator:{type:"Boolean"},style:{}},[],[],!1));}catch{};export{L as default};
//# sourceMappingURL=review-stars.wc.js.map
