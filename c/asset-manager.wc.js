import{S as G,i as J,s as K,e as g,d as U,b as Z,F as z,g as a,h as j,j as w,l as L,G as _,J as M,o as $,H as Q,D as le,a5 as re,r as X,a2 as se,t as Y,a3 as oe,p as V,k as N,m as I,a4 as ie,O as ae,c as Le,f as P,a as Fe,n as ee,x as te,y as ce,V as pe,B as de,C as qe,a6 as ze,a7 as Re}from"./svelte.js";import"./index.js";import{fileSize as ue}from"./file-size.js";function _e(s){let e,t,n,l,i,o,c=s[1].name+"",r,u,d;return{c(){e=g("div"),t=g("button"),n=U("svg"),l=U("path"),i=Z(),o=g("span"),r=z(c),a(l,"d","M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h240l80 80h320q33 0 56.5 23.5T880-640v400q0 33-23.5 56.5T800-160H160Zm0-80h640v-400H447l-80-80H160v480Zm0 0v-480 480Z"),a(n,"xmlns","http://www.w3.org/2000/svg"),a(n,"width","24"),a(n,"height","24"),a(n,"viewBox","0 -960 960 960"),a(t,"type","button"),a(e,"class","folder")},m(v,p){j(v,e,p),w(e,t),w(t,n),w(n,l),w(t,i),w(t,o),w(o,r),u||(d=L(t,"click",s[2]),u=!0)},p(v,[p]){p&2&&c!==(c=v[1].name+"")&&_(r,c)},i:M,o:M,d(v){v&&$(e),u=!1,d()}}}function Be(s,e,t){let{folder:n}=e,{path:l}=e;const i=()=>t(0,l=n.id);return s.$$set=o=>{"folder"in o&&t(1,n=o.folder),"path"in o&&t(0,l=o.path)},[l,n,i]}class Ce extends G{constructor(e){super(),J(this,e,Be,_e,K,{folder:1,path:0})}}function ve(s){let e;function t(i,o){if(i[4]==="uploading")return Ae;if(i[4]==="paused")return Oe;if(i[4]==="error")return Ne}let n=t(s),l=n&&n(s);return{c(){l&&l.c(),e=Q()},m(i,o){l&&l.m(i,o),j(i,e,o)},p(i,o){n===(n=t(i))&&l?l.p(i,o):(l&&l.d(1),l=n&&n(i),l&&(l.c(),l.m(e.parentNode,e)))},d(i){i&&$(e),l&&l.d(i)}}}function Ne(s){return{c:M,m:M,p:M,d:M}}function Oe(s){let e,t,n,l,i,o=s[0].RESUME+"",c,r,u,d=s[0].CANCEL+"",v,p,h;return{c(){e=g("span"),t=z(s[5]),n=z(" / 100"),l=Z(),i=g("button"),c=z(o),r=Z(),u=g("button"),v=z(d),a(i,"type","button"),a(u,"type","button")},m(b,y){j(b,e,y),w(e,t),w(e,n),j(b,l,y),j(b,i,y),w(i,c),j(b,r,y),j(b,u,y),w(u,v),p||(h=[L(i,"click",s[8]),L(u,"click",s[6])],p=!0)},p(b,y){y&32&&_(t,b[5]),y&1&&o!==(o=b[0].RESUME+"")&&_(c,o),y&1&&d!==(d=b[0].CANCEL+"")&&_(v,d)},d(b){b&&($(e),$(l),$(i),$(r),$(u)),p=!1,X(h)}}}function Ae(s){let e,t,n,l,i,o=s[0].PAUSE+"",c,r,u;return{c(){e=g("span"),t=z(s[5]),n=z(" / 100"),l=Z(),i=g("button"),c=z(o),a(i,"type","button")},m(d,v){j(d,e,v),w(e,t),w(e,n),j(d,l,v),j(d,i,v),w(i,c),r||(u=L(i,"click",s[7]),r=!0)},p(d,v){v&32&&_(t,d[5]),v&1&&o!==(o=d[0].PAUSE+"")&&_(c,o)},d(d){d&&($(e),$(l),$(i)),r=!1,u()}}}function Ie(s){let e,t=s[4]&&ve(s);return{c(){t&&t.c(),e=Q()},m(n,l){t&&t.m(n,l),j(n,e,l)},p(n,[l]){n[4]?t?t.p(n,l):(t=ve(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:M,o:M,d(n){n&&$(e),t&&t.d(n)}}}function De(s,e,t){let n,l=M,i=()=>(l(),l=re(p,m=>t(4,n=m)),p),o,c=M,r=()=>(c(),c=re(v,m=>t(5,o=m)),v);s.$$.on_destroy.push(()=>l()),s.$$.on_destroy.push(()=>c());let{wording:u}=e,{asset:d}=e,{progress:v}=e;r();let{status:p}=e;i();const h=le();function b(){d.uploader.cancel(),h("cancel")}const y=()=>d.uploader.pause(),H=()=>d.uploader.resume();return s.$$set=m=>{"wording"in m&&t(0,u=m.wording),"asset"in m&&t(1,d=m.asset),"progress"in m&&r(t(2,v=m.progress)),"status"in m&&i(t(3,p=m.status))},[u,d,v,p,n,o,b,y,H]}class Pe extends G{constructor(e){super(),J(this,e,De,Ie,K,{wording:0,asset:1,progress:2,status:3})}}function Ue(s){let e;return{c(){e=g("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 -960 960 960"><path d="M320-240h320v-80H320v80Zm0-160h320v-80H320v80ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"></path></svg>',a(e,"class","icon-only")},m(t,n){j(t,e,n)},p:M,d(t){t&&$(e)}}}function Ye(s){let e;return{c(){e=g("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 -960 960 960"><path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h480q33 0 56.5 23.5T720-720v180l160-160v440L720-420v180q0 33-23.5 56.5T640-160H160Zm0-80h480v-480H160v480Zm0 0v-480 480Z"></path></svg>',a(e,"class","icon-only")},m(t,n){j(t,e,n)},p:M,d(t){t&&$(e)}}}function Ve(s){let e,t,n;return{c(){e=g("img"),a(e,"class","file-icon-image"),ae(e.src,t=s[1].url)||a(e,"src",t),a(e,"alt",n=s[1].name)},m(l,i){j(l,e,i)},p(l,i){i&2&&!ae(e.src,t=l[1].url)&&a(e,"src",t),i&2&&n!==(n=l[1].name)&&a(e,"alt",n)},d(l){l&&$(e)}}}function We(s){let e,t,n,l,i,o,c,r,u=s[1].name+"",d,v,p,h,b,y,H=ue(s[1].size)+"",m,x,E,O;function B(S,T){return T&2&&(i=null),T&2&&(o=null),i==null&&(i=!!S[1].contentType.startsWith("image")),i?Ve:(o==null&&(o=!!S[1].contentType.startsWith("video")),o?Ye:Ue)}let A=B(s,-1),q=A(s);return p=new Pe({props:{wording:s[0],asset:s[1],status:s[1].status,progress:s[1].progress}}),p.$on("cancel",s[6]),{c(){e=g("div"),t=g("button"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 -960 960 960"><path d="m376-300 104-104 104 104 56-56-104-104 104-104-56-56-104 104-104-104-56 56 104 104-104 104 56 56Zm-96 180q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520Zm-400 0v520-520Z"></path></svg>',n=Z(),l=g("div"),q.c(),c=Z(),r=g("div"),d=z(u),v=Z(),se(p.$$.fragment),h=Z(),b=g("div"),y=g("span"),m=z(H),a(t,"class","file-remove"),a(t,"type","button"),a(l,"class","file-icon"),a(r,"class","file-name"),a(b,"class","file-info"),a(e,"class","file"),Y(e,"removing",s[2])},m(S,T){j(S,e,T),w(e,t),w(e,n),w(e,l),q.m(l,null),w(e,c),w(e,r),w(r,d),w(r,v),oe(p,r,null),w(e,h),w(e,b),w(b,y),w(y,m),x=!0,E||(O=L(t,"click",V(s[4])),E=!0)},p(S,[T]){A===(A=B(S,T))&&q?q.p(S,T):(q.d(1),q=A(S),q&&(q.c(),q.m(l,null))),(!x||T&2)&&u!==(u=S[1].name+"")&&_(d,u);const D={};T&1&&(D.wording=S[0]),T&2&&(D.asset=S[1]),T&2&&(D.status=S[1].status),T&2&&(D.progress=S[1].progress),p.$set(D),(!x||T&2)&&H!==(H=ue(S[1].size)+"")&&_(m,H),(!x||T&4)&&Y(e,"removing",S[2])},i(S){x||(N(p.$$.fragment,S),x=!0)},o(S){I(p.$$.fragment,S),x=!1},d(S){S&&$(e),q.d(),ie(p),E=!1,O()}}}function Ge(s,e,t){let{wording:n}=e,{asset:l}=e,{service:i}=e,o=!1;const c=le();async function r(){t(2,o=!0),await i.remove(l.id),t(2,o=!1),c("remove")}const u=()=>c("cancel");return s.$$set=d=>{"wording"in d&&t(0,n=d.wording),"asset"in d&&t(1,l=d.asset),"service"in d&&t(5,i=d.service)},[n,l,o,c,r,i,u]}class Je extends G{constructor(e){super(),J(this,e,Ge,We,K,{wording:0,asset:1,service:5})}}function Ke(s){Fe(s,"svelte-1wp2njl",`.svelte-1wp2njl.svelte-1wp2njl{box-sizing:border-box}.card.svelte-1wp2njl.svelte-1wp2njl{position:relative;display:flex;flex-direction:column;max-width:802px;width:100%;height:500px;overflow:auto;background-color:white;box-shadow:0 3px 6px rgba(0, 0, 0, 0.12);font-family:sans-serif}header.svelte-1wp2njl.svelte-1wp2njl{z-index:1;position:sticky;top:0;display:flex;justify-content:space-between;background-color:white;padding:20px;border-bottom:1px solid rgba(0, 0, 0, 0.12)}header.svelte-1wp2njl .route.svelte-1wp2njl{display:flex;align-items:center;height:100%;font-size:20px}header.svelte-1wp2njl nav.svelte-1wp2njl{display:flex;gap:12px}.header-actions.svelte-1wp2njl.svelte-1wp2njl{display:flex;gap:12px}header.svelte-1wp2njl button.svelte-1wp2njl{width:40px;height:40px;display:flex;justify-content:center;align-items:center;background-color:transparent;border:1px solid rgba(0, 0, 0, 0.12);border-radius:12px;cursor:pointer;transition:0.25s}header.svelte-1wp2njl button.svelte-1wp2njl:disabled{opacity:0.5;background-color:rgba(0, 0, 0, 0.1);pointer-events:none}header.svelte-1wp2njl button.svelte-1wp2njl:hover{background-color:rgba(0, 0, 0, 0.08);border-color:rgba(0, 0, 0, 0.2)}footer.svelte-1wp2njl.svelte-1wp2njl{z-index:1;position:sticky;bottom:0;display:flex;background-color:white;padding:20px;border-top:1px solid rgba(0, 0, 0, 0.12)}footer.svelte-1wp2njl button.svelte-1wp2njl{height:40px;padding:0 16px;font-weight:bold;background-color:#E66439;color:white;border:none;border-radius:12px;cursor:pointer;transition:0.25s}footer.svelte-1wp2njl button.svelte-1wp2njl:disabled{opacity:.5;pointer-events:none}footer.svelte-1wp2njl button.svelte-1wp2njl:active{transform:scale(.95)}.add-folder-submit.svelte-1wp2njl.svelte-1wp2njl{height:32px;padding:0 12px;font-weight:bold;background-color:#E66439;color:white;border:none;border-radius:8px;cursor:pointer;margin-top:12px;transition:0.25s}.add-folder-submit.svelte-1wp2njl.svelte-1wp2njl:disabled{opacity:.5;pointer-events:none}.add-folder-submit.svelte-1wp2njl.svelte-1wp2njl:active{transform:scale(.95)}.drop-here.svelte-1wp2njl.svelte-1wp2njl{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;gap:12px;justify-content:center;align-items:center;background-color:white}.add-folder-form.svelte-1wp2njl.svelte-1wp2njl{padding:20px\r
  }.add-folder-input.svelte-1wp2njl.svelte-1wp2njl{display:block}.add-folder-input.svelte-1wp2njl span.svelte-1wp2njl{display:block;font-size:14px}.add-folder-input.svelte-1wp2njl input.svelte-1wp2njl{border:1px solid rgba(0,0,0,.08);height:40px;padding:0 12px;border-radius:8px;font-size:14px;margin-top:4px}.file{position:relative;height:100%;border:1px solid rgba(0, 0, 0, 0.12);border-radius:12px;background-color:white;overflow:hidden}.file-name{padding:6px 12px 0}.file-info{padding:4px 12px 6px}.file-icon .icon-only{padding:12px}.file .file-remove{position:absolute;top:4px;right:4px;width:32px;height:32px;display:flex;justify-content:center;align-items:center;background-color:white;border-radius:8px;cursor:pointer;border:1px solid rgba(0, 0, 0, 0.08)}.file .file-remove:hover{border-color:rgba(0, 0, 0, 0.4)}.file .file-icon-image{width:100%;height:150px;-o-object-fit:contain;object-fit:contain;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none;background-color:rgba(0, 0, 0, 0.02)}.files.svelte-1wp2njl.svelte-1wp2njl{display:flex;flex:1;align-content:flex-start;flex-wrap:wrap;padding:12px}.info.svelte-1wp2njl.svelte-1wp2njl{display:flex;flex:1;align-content:flex-start;flex-wrap:wrap;padding:20px}.asset-button.svelte-1wp2njl.svelte-1wp2njl{width:25%;padding:8px;transition:0.25s;border-radius:12px;cursor:pointer}.asset-button.selected.svelte-1wp2njl.svelte-1wp2njl{border:1px solid #E66439}.asset-button:hover .file{background-color:rgba(0, 0, 0, 0.08);border-color:rgba(0, 0, 0, 0.2)}.folder{box-sizing:border-box;width:25%;padding:8px}.folder button{width:100%;padding:12px;display:flex;justify-content:flex-start;align-items:center;border:1px solid rgba(0, 0, 0, 0.12);gap:6px;background-color:transparent;font-size:14px;border-radius:12px;cursor:pointer;transition:0.25s}.folder button:hover{background-color:rgba(0, 0, 0, 0.08);border-color:rgba(0, 0, 0, 0.2)}.loader.svelte-1wp2njl.svelte-1wp2njl{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.spinner.svelte-1wp2njl.svelte-1wp2njl{width:150px;height:150px;border-radius:50%;border:9px solid var(--primary-color);animation:svelte-1wp2njl-spinner-bulqg1 0.8s infinite linear alternate,\r
            svelte-1wp2njl-spinner-oaa3wk 1.6s infinite linear}@keyframes svelte-1wp2njl-spinner-bulqg1{0%{clip-path:polygon(50% 50%, 0 0, 50% 0%, 50% 0%, 50% 0%, 50% 0%, 50% 0%)}12.5%{clip-path:polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 0%, 100% 0%, 100% 0%)}25%{clip-path:polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 100%, 100% 100%, 100% 100%)}50%{clip-path:polygon(50% 50%, 0 0, 50% 0%, 100% 0%, 100% 100%, 50% 100%, 0% 100%)}62.5%{clip-path:polygon(50% 50%, 100% 0, 100% 0%, 100% 0%, 100% 100%, 50% 100%, 0% 100%)}75%{clip-path:polygon(50% 50%, 100% 100%, 100% 100%, 100% 100%, 100% 100%, 50% 100%, 0% 100%)}100%{clip-path:polygon(50% 50%, 50% 100%, 50% 100%, 50% 100%, 50% 100%, 50% 100%, 0% 100%)}}@keyframes svelte-1wp2njl-spinner-oaa3wk{0%{transform:scaleY(1) rotate(0deg)}49.99%{transform:scaleY(1) rotate(135deg)}50%{transform:scaleY(-1) rotate(0deg)}100%{transform:scaleY(-1) rotate(-135deg)}}`)}function we(s,e,t){const n=s.slice();return n[41]=e[t],n[43]=t,n}function Qe(s){let e,t,n,l,i,o,c,r,u=(s[5].replace(s[1],"")||"/")+"",d,v,p,h,b,y,H,m,x,E,O,B,A,q;const S=[lt,nt,tt],T=[];function D(k,R){return k[9]?0:k[6].length==0?1:2}m=D(s),x=T[m]=S[m](s);let F=s[4]&&ge(s);return{c(){e=g("header"),t=g("nav"),n=g("button"),l=U("svg"),i=U("path"),c=Z(),r=g("span"),d=z(u),v=Z(),p=g("div"),h=g("button"),h.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 -960 960 960" class="svelte-1wp2njl"><path d="M560-320h80v-80h80v-80h-80v-80h-80v80h-80v80h80v80ZM160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h240l80 80h320q33 0 56.5 23.5T880-640v400q0 33-23.5 56.5T800-160H160Zm0-80h640v-400H447l-80-80H160v480Zm0 0v-480 480Z" class="svelte-1wp2njl"></path></svg>',b=Z(),y=g("button"),y.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 -960 960 960" class="svelte-1wp2njl"><path d="M440-200h80v-167l64 64 56-57-160-160-160 160 57 56 63-63v167ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z" class="svelte-1wp2njl"></path></svg>',H=Z(),x.c(),E=Z(),F&&F.c(),O=Q(),a(i,"d","m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z"),a(i,"class","svelte-1wp2njl"),a(l,"xmlns","http://www.w3.org/2000/svg"),a(l,"width","20"),a(l,"height","20"),a(l,"viewBox","0 -960 960 960"),a(l,"class","svelte-1wp2njl"),a(n,"type","button"),a(n,"title","Back"),n.disabled=o=s[5]===s[1],a(n,"class","svelte-1wp2njl"),a(r,"class","route svelte-1wp2njl"),a(t,"class","svelte-1wp2njl"),a(h,"type","button"),a(h,"title","Add Folder"),a(h,"class","svelte-1wp2njl"),a(y,"type","button"),a(y,"title","Add Files"),a(y,"class","svelte-1wp2njl"),a(p,"class","header-actions svelte-1wp2njl"),a(e,"class","svelte-1wp2njl")},m(k,R){j(k,e,R),w(e,t),w(t,n),w(n,l),w(l,i),w(t,c),w(t,r),w(r,d),w(e,v),w(e,p),w(p,h),w(p,b),w(p,y),j(k,H,R),T[m].m(k,R),j(k,E,R),F&&F.m(k,R),j(k,O,R),B=!0,A||(q=[L(n,"click",s[16]),L(h,"click",V(s[17])),L(y,"click",V(s[27]))],A=!0)},p(k,R){(!B||R[0]&34&&o!==(o=k[5]===k[1]))&&(n.disabled=o),(!B||R[0]&34)&&u!==(u=(k[5].replace(k[1],"")||"/")+"")&&_(d,u);let W=m;m=D(k),m===W?T[m].p(k,R):(te(),I(T[W],1,1,()=>{T[W]=null}),ee(),x=T[m],x?x.p(k,R):(x=T[m]=S[m](k),x.c()),N(x,1),x.m(E.parentNode,E)),k[4]?F?F.p(k,R):(F=ge(k),F.c(),F.m(O.parentNode,O)):F&&(F.d(1),F=null)},i(k){B||(N(x),B=!0)},o(k){I(x),B=!1},d(k){k&&($(e),$(H),$(E),$(O)),T[m].d(k),F&&F.d(k),A=!1,X(q)}}}function Xe(s){let e,t,n,l,i,o,c,r=s[0].FOLDER_NAME+"",u,d,v,p,h,b=s[0].SUBMIT+"",y,H,m;return{c(){e=g("header"),t=g("div"),n=g("button"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24" class="svelte-1wp2njl"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z" class="svelte-1wp2njl"></path></svg>',l=Z(),i=g("form"),o=g("label"),c=g("span"),u=z(r),d=Z(),v=g("input"),p=Z(),h=g("button"),y=z(b),a(n,"type","button"),a(n,"class","svelte-1wp2njl"),a(t,"class","header-actions svelte-1wp2njl"),a(e,"class","svelte-1wp2njl"),a(c,"class","svelte-1wp2njl"),a(v,"pattern",rt),v.required=!0,a(v,"class","svelte-1wp2njl"),a(o,"class","add-folder-input svelte-1wp2njl"),a(h,"class","add-folder-submit svelte-1wp2njl"),a(h,"type","submit"),a(i,"class","add-folder-form svelte-1wp2njl")},m(x,E){j(x,e,E),w(e,t),w(t,n),j(x,l,E),j(x,i,E),w(i,o),w(o,c),w(c,u),w(o,d),w(o,v),pe(v,s[11]),w(i,p),w(i,h),w(h,y),H||(m=[L(n,"click",s[25]),L(v,"input",s[26]),L(i,"submit",V(s[18]))],H=!0)},p(x,E){E[0]&1&&r!==(r=x[0].FOLDER_NAME+"")&&_(u,r),E[0]&2048&&v.value!==x[11]&&pe(v,x[11]),E[0]&1&&b!==(b=x[0].SUBMIT+"")&&_(y,b)},i:M,o:M,d(x){x&&($(e),$(l),$(i)),H=!1,X(m)}}}function et(s){let e,t,n,l,i,o=s[0].DROP_FILES_HERE+"",c;return{c(){e=g("div"),t=U("svg"),n=U("path"),l=Z(),i=g("div"),c=z(o),a(n,"d","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"),a(n,"class","svelte-1wp2njl"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"width","20"),a(t,"height","20"),a(t,"viewBox","0 0 384 512"),a(t,"class","svelte-1wp2njl"),a(i,"class","svelte-1wp2njl"),a(e,"class","drop-here svelte-1wp2njl")},m(r,u){j(r,e,u),w(e,t),w(t,n),w(e,l),w(e,i),w(i,c)},p(r,u){u[0]&1&&o!==(o=r[0].DROP_FILES_HERE+"")&&_(c,o)},i:M,o:M,d(r){r&&$(e)}}}function tt(s){let e,t,n=de(s[6]),l=[];for(let o=0;o<n.length;o+=1)l[o]=fe(we(s,n,o));const i=o=>I(l[o],1,1,()=>{l[o]=null});return{c(){e=g("div");for(let o=0;o<l.length;o+=1)l[o].c();a(e,"class","files svelte-1wp2njl")},m(o,c){j(o,e,c);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null);t=!0},p(o,c){if(c[0]&1581288){n=de(o[6]);let r;for(r=0;r<n.length;r+=1){const u=we(o,n,r);l[r]?(l[r].p(u,c),N(l[r],1)):(l[r]=fe(u),l[r].c(),N(l[r],1),l[r].m(e,null))}for(te(),r=n.length;r<l.length;r+=1)i(r);ee()}},i(o){if(!t){for(let c=0;c<n.length;c+=1)N(l[c]);t=!0}},o(o){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)I(l[c]);t=!1},d(o){o&&$(e),qe(l,o)}}}function nt(s){let e,t,n=s[0].FOLDER_IS_EMPTY+"",l;return{c(){e=g("div"),t=g("p"),l=z(n),a(t,"class","svelte-1wp2njl"),a(e,"class","info svelte-1wp2njl")},m(i,o){j(i,e,o),w(e,t),w(t,l)},p(i,o){o[0]&1&&n!==(n=i[0].FOLDER_IS_EMPTY+"")&&_(l,n)},i:M,o:M,d(i){i&&$(e)}}}function lt(s){let e;return{c(){e=g("div"),e.innerHTML='<div class="spinner svelte-1wp2njl"></div>',a(e,"class","loader svelte-1wp2njl")},m(t,n){j(t,e,n)},p:M,i:M,o:M,d(t){t&&$(e)}}}function st(s){let e,t,n,l,i,o;function c(){return s[29](s[43],s[41])}function r(){return s[30](s[41])}t=new Je({props:{asset:s[41],service:s[3]}}),t.$on("remove",c),t.$on("cancel",r);function u(){return s[31](s[41])}return{c(){e=g("div"),se(t.$$.fragment),n=Z(),a(e,"class","asset-button svelte-1wp2njl"),a(e,"role","button"),a(e,"tabindex","1"),Y(e,"selected",s[7][s[41].id])},m(d,v){j(d,e,v),oe(t,e,null),w(e,n),l=!0,i||(o=L(e,"click",u),i=!0)},p(d,v){s=d;const p={};v[0]&64&&(p.asset=s[41]),v[0]&8&&(p.service=s[3]),t.$set(p),(!l||v[0]&192)&&Y(e,"selected",s[7][s[41].id])},i(d){l||(N(t.$$.fragment,d),l=!0)},o(d){I(t.$$.fragment,d),l=!1},d(d){d&&$(e),ie(t),i=!1,o()}}}function ot(s){let e,t,n;function l(o){s[28](o)}let i={folder:s[41]};return s[5]!==void 0&&(i.path=s[5]),e=new Ce({props:i}),ce.push(()=>ze(e,"path",l)),{c(){se(e.$$.fragment)},m(o,c){oe(e,o,c),n=!0},p(o,c){const r={};c[0]&64&&(r.folder=o[41]),!t&&c[0]&32&&(t=!0,r.path=o[5],Re(()=>t=!1)),e.$set(r)},i(o){n||(N(e.$$.fragment,o),n=!0)},o(o){I(e.$$.fragment,o),n=!1},d(o){ie(e,o)}}}function fe(s){let e,t,n,l;const i=[ot,st],o=[];function c(r,u){return r[41].type==="folder"?0:1}return e=c(s),t=o[e]=i[e](s),{c(){t.c(),n=Q()},m(r,u){o[e].m(r,u),j(r,n,u),l=!0},p(r,u){let d=e;e=c(r),e===d?o[e].p(r,u):(te(),I(o[d],1,1,()=>{o[d]=null}),ee(),t=o[e],t?t.p(r,u):(t=o[e]=i[e](r),t.c()),N(t,1),t.m(n.parentNode,n))},i(r){l||(N(t),l=!0)},o(r){I(t),l=!1},d(r){r&&$(n),o[e].d(r)}}}function ge(s){let e,t,n=s[0].CONFIRM_SELECTION+"",l,i,o;return{c(){e=g("footer"),t=g("button"),l=z(n),a(t,"type","button"),a(t,"class","svelte-1wp2njl"),a(e,"class","svelte-1wp2njl")},m(c,r){j(c,e,r),w(e,t),w(t,l),i||(o=L(t,"click",s[21]),i=!0)},p(c,r){r[0]&1&&n!==(n=c[0].CONFIRM_SELECTION+"")&&_(l,n)},d(c){c&&$(e),i=!1,o()}}}function it(s){let e,t,n,l,i,o,c,r;const u=[et,Xe,Qe],d=[];function v(p,h){return p[10]?0:p[12]?1:2}return t=v(s),n=d[t]=u[t](s),{c(){e=g("section"),n.c(),l=Z(),i=g("input"),a(e,"class","card svelte-1wp2njl"),Y(e,"full-border",s[10]),a(i,"type","file"),i.multiple=!0,a(i,"accept",s[2]),i.hidden=!0,a(i,"class","svelte-1wp2njl")},m(p,h){j(p,e,h),d[t].m(e,null),j(p,l,h),j(p,i,h),s[36](i),o=!0,c||(r=[L(e,"dragover",V(s[32])),L(e,"dragleave",s[33]),L(e,"dragend",s[34]),L(e,"drop",V(s[35])),L(i,"change",s[37])],c=!0)},p(p,h){let b=t;t=v(p),t===b?d[t].p(p,h):(te(),I(d[b],1,1,()=>{d[b]=null}),ee(),n=d[t],n?n.p(p,h):(n=d[t]=u[t](p),n.c()),N(n,1),n.m(e,null)),(!o||h[0]&1024)&&Y(e,"full-border",p[10]),(!o||h[0]&4)&&a(i,"accept",p[2])},i(p){o||(N(n),o=!0)},o(p){I(n),o=!1},d(p){p&&($(e),$(l),$(i)),d[t].d(),s[36](null),c=!1,X(r)}}}let rt="[a-z_\\-]{3,}";function at(s,e,t){let{wording:n={DROP_FILES_HERE:"Drop your files here",FOLDER_NAME:"Folder name",SUBMIT:"Submit",FOLDER_IS_EMPTY:"Folder is empty",CONFIRM_SELECTION:"Confirm selection",PAUSE:"Pause",RESUME:"Resume",CANCEL:"Cancel"}}=e,{rootPath:l="/"}=e,{maxSize:i=10*1048576}=e,{acceptedFiles:o="*"}=e,{shownFiles:c}=e,{service:r}=e,{selectable:u=""}=e;const d=le();let v=l,p=[],h={},b,y=!1,H=!1,m="",x=!1;function E(){t(7,h={})}async function O(f,C){t(6,p=p.filter(ne=>ne.id!==C))}async function B(f){f.target.files.length&&t(6,p=[...p,...await q(f.target.files)]),t(8,b.value=null,b)}async function A(f){f.dataTransfer.files.length&&t(6,p=[...p,...await q(f.dataTransfer.files)]),t(10,H=!1)}function q(f){return Promise.all(Array.from(f).filter(C=>!(!i||i<C.size)).map(C=>r.upload(v,C)))}function S(){t(5,v=v.split("/").slice(0,-1).join("/"))}function T(){t(11,m=""),t(12,x=!0)}async function D(){t(5,v+=`/${m}`),t(12,x=!1)}function F(f){t(6,p=p.filter(C=>C.id!==f))}function k(f){h[f.id]?delete h[f.id]:u==="single"?t(7,h={[f.id]:f}):t(7,h[f.id]=f,h)}function R(){const f=Object.values(h);d("selected",u==="single"?f[0]:f)}function W(){t(9,y=!0),r.fetch(v).then(f=>{t(6,p=f),c!=null&&c.length&&t(6,p=p.filter(C=>C.type==="folder"||c.some(ne=>C.contentType.startsWith(ne))))}).finally(()=>{t(9,y=!1)})}const me=()=>t(12,x=!1);function be(){m=this.value,t(11,m)}const xe=()=>b.click();function je(f){v=f,t(5,v)}const $e=(f,C)=>O(f,C.id),ye=f=>F(f.id),ke=f=>k(f),Se=()=>t(10,H=!0),Te=()=>t(10,H=!1),Me=()=>t(10,H=!1),He=f=>A(f);function Ee(f){ce[f?"unshift":"push"](()=>{b=f,t(8,b)})}const Ze=f=>B(f);return s.$$set=f=>{"wording"in f&&t(0,n=f.wording),"rootPath"in f&&t(1,l=f.rootPath),"maxSize"in f&&t(22,i=f.maxSize),"acceptedFiles"in f&&t(2,o=f.acceptedFiles),"shownFiles"in f&&t(23,c=f.shownFiles),"service"in f&&t(3,r=f.service),"selectable"in f&&t(4,u=f.selectable)},s.$$.update=()=>{s.$$.dirty[0]&32&&v&&W()},[n,l,o,r,u,v,p,h,b,y,H,m,x,O,B,A,S,T,D,F,k,R,i,c,E,me,be,xe,je,$e,ye,ke,Se,Te,Me,He,Ee,Ze]}class he extends G{constructor(e){super(),J(this,e,at,it,K,{wording:0,rootPath:1,maxSize:22,acceptedFiles:2,shownFiles:23,service:3,selectable:4,clearSelection:24},Ke,[-1,-1])}get wording(){return this.$$.ctx[0]}set wording(e){this.$$set({wording:e}),P()}get rootPath(){return this.$$.ctx[1]}set rootPath(e){this.$$set({rootPath:e}),P()}get maxSize(){return this.$$.ctx[22]}set maxSize(e){this.$$set({maxSize:e}),P()}get acceptedFiles(){return this.$$.ctx[2]}set acceptedFiles(e){this.$$set({acceptedFiles:e}),P()}get shownFiles(){return this.$$.ctx[23]}set shownFiles(e){this.$$set({shownFiles:e}),P()}get service(){return this.$$.ctx[3]}set service(e){this.$$set({service:e}),P()}get selectable(){return this.$$.ctx[4]}set selectable(e){this.$$set({selectable:e}),P()}get clearSelection(){return this.$$.ctx[24]}}try{customElements.define("jp-asset-manager",Le(he,{wording:{},rootPath:{},maxSize:{},acceptedFiles:{},shownFiles:{},service:{},selectable:{}},[],["clearSelection"],!1));}catch{};export{he as default};
//# sourceMappingURL=asset-manager.wc.js.map
