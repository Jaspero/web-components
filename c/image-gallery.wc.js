import{c as ue,S as pe,i as he,o as w,s as ye,a as fe,C as S,e as x,l as X,y as be,d,f as k,m as B,w as K,k as P,D as J,r as R,G as ve,H as $e,I as xe,J as I,p as j,v as E,K as je,A as q,L as we,M as Ce,n as ke}from"./svelte.js";import"./index.js";const{window:F}=xe;function Be(n){fe(n,"svelte-m213d1",".jp-image-gallery.svelte-m213d1{position:relative}.jp-image-gallery-container.svelte-m213d1{position:absolute}.jp-image-gallery-image.svelte-m213d1{width:100%;height:auto;cursor:pointer;display:block}.jp-image-gallery-image.svelte-m213d1:hover{transform:scale(1.002)}.jp-image-gallery-slider.svelte-m213d1{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, 0.9);display:flex;justify-content:center;align-items:center;z-index:1000;overflow:auto}.jp-image-gallery-slider-container.svelte-m213d1{position:relative;width:100%;max-height:100%;overflow:hidden}.jp-image-gallery-slider-container.svelte-m213d1{position:relative;width:100%;max-height:100%;overflow:hidden}.jp-image-gallery-slider-images.svelte-m213d1{display:flex;transition:transform 0.3s;width:100%}.jp-image-gallery-slider-image.svelte-m213d1{flex-shrink:0;width:100%;max-height:90vh;-o-object-fit:contain;object-fit:contain}.jp-image-gallery-prev.svelte-m213d1,.jp-image-gallery-next.svelte-m213d1{position:absolute;top:50%;transform:translateY(-50%);display:flex;justify-content:center;align-items:center;border-radius:50%;width:2rem;height:2rem;background:rgba(0, 0, 0, 0.5);color:white;border:none;cursor:pointer;transition:0.3s}.jp-image-gallery-prev.svelte-m213d1:hover,.jp-image-gallery-next.svelte-m213d1:hover{background-color:rgba(0, 0, 0, 0.75)}.jp-image-gallery-prev.svelte-m213d1{left:10px}.jp-image-gallery-next.svelte-m213d1{right:10px}.jp-image-gallery-close.svelte-m213d1{position:absolute;top:10px;right:10px;background:none;border:none;color:white;font-size:2rem;cursor:pointer}.jp-image-gallery-slider-bar.svelte-m213d1{position:relative;width:100%;height:4px;background-color:gray;margin-top:1rem}.jp-image-gallery-slider-bar-bg.svelte-m213d1{position:absolute;top:0;left:0;height:4px;background-color:white}.jp-image-gallery-pagination.svelte-m213d1{display:flex;justify-content:center;gap:0.5rem;margin-top:1rem}.jp-image-gallery-pagination-button.svelte-m213d1{width:10px;height:10px;border-radius:50%;background:gray;border:none;cursor:pointer}")}function H(n,e,t){const l=n.slice();return l[30]=e[t],l[32]=t,l}function Q(n,e,t){const l=n.slice();return l[33]=e[t],l}function U(n,e,t){const l=n.slice();return l[33]=e[t],l[32]=t,l}function V(n){let e,t,l,a,c,o,s;function p(){return n[22](n[32])}return{c(){e=x("div"),t=x("img"),c=X(),d(t,"class","jp-image-gallery-image svelte-m213d1"),I(t.src,l=n[33].src)||d(t,"src",l),d(t,"alt",a=n[33].alt),d(e,"class","jp-image-gallery-container svelte-m213d1")},m(i,y){k(i,e,y),j(e,t),j(e,c),o||(s=B(t,"click",p),o=!0)},p(i,y){n=i,y[0]&1&&!I(t.src,l=n[33].src)&&d(t,"src",l),y[0]&1&&a!==(a=n[33].alt)&&d(t,"alt",a)},d(i){i&&P(e),o=!1,s()}}}function Z(n){let e,t,l,a,c,o,s,p,i,y,m,C,Y,v=S(n[0]),h=[];for(let g=0;g<v.length;g+=1)h[g]=ee(Q(n,v,g));let b=n[2]&&te(n),f=n[1]&&le(n);return{c(){e=x("div"),t=x("div"),l=x("div");for(let g=0;g<h.length;g+=1)h[g].c();a=X(),c=x("button"),c.textContent="\u2190",o=X(),s=x("button"),s.textContent="\u2192",p=X(),i=x("button"),i.textContent="\xD7",y=X(),b&&b.c(),m=X(),f&&f.c(),d(l,"class","jp-image-gallery-slider-images svelte-m213d1"),E(l,"transform","translateX(-"+n[5]*100+"%)"),d(c,"type","button"),d(c,"class","jp-image-gallery-prev svelte-m213d1"),d(s,"type","button"),d(s,"class","jp-image-gallery-next svelte-m213d1"),d(i,"type","button"),d(i,"class","jp-image-gallery-close svelte-m213d1"),d(t,"class","jp-image-gallery-slider-container svelte-m213d1"),d(e,"class","jp-image-gallery-slider svelte-m213d1")},m(g,$){k(g,e,$),j(e,t),j(t,l);for(let u=0;u<h.length;u+=1)h[u]&&h[u].m(l,null);j(t,a),j(t,c),j(t,o),j(t,s),j(t,p),j(t,i),j(e,y),b&&b.m(e,null),j(e,m),f&&f.m(e,null),C||(Y=[B(c,"click",n[9]),B(s,"click",n[8]),B(i,"click",n[11]),B(t,"click",je(n[21])),B(e,"click",n[11])],C=!0)},p(g,$){if($[0]&1){v=S(g[0]);let u;for(u=0;u<v.length;u+=1){const G=Q(g,v,u);h[u]?h[u].p(G,$):(h[u]=ee(G),h[u].c(),h[u].m(l,null))}for(;u<h.length;u+=1)h[u].d(1);h.length=v.length}$[0]&32&&E(l,"transform","translateX(-"+g[5]*100+"%)"),g[2]?b?b.p(g,$):(b=te(g),b.c(),b.m(e,m)):b&&(b.d(1),b=null),g[1]?f?f.p(g,$):(f=le(g),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(g){g&&P(e),J(h,g),b&&b.d(),f&&f.d(),C=!1,R(Y)}}}function ee(n){let e,t,l;return{c(){e=x("img"),d(e,"class","jp-image-gallery-slider-image svelte-m213d1"),I(e.src,t=n[33].src)||d(e,"src",t),d(e,"alt",l=n[33].alt)},m(a,c){k(a,e,c)},p(a,c){c[0]&1&&!I(e.src,t=a[33].src)&&d(e,"src",t),c[0]&1&&l!==(l=a[33].alt)&&d(e,"alt",l)},d(a){a&&P(e)}}}function te(n){let e,t;return{c(){e=x("div"),t=x("div"),d(t,"class","jp-image-gallery-slider-bar-bg svelte-m213d1"),E(t,"width",(n[5]+1)/n[0].length*100+"%"),d(e,"class","jp-image-gallery-slider-bar svelte-m213d1")},m(l,a){k(l,e,a),j(e,t)},p(l,a){a[0]&33&&E(t,"width",(l[5]+1)/l[0].length*100+"%")},d(l){l&&P(e)}}}function le(n){let e,t=S(n[0]),l=[];for(let a=0;a<t.length;a+=1)l[a]=ne(H(n,t,a));return{c(){e=x("div");for(let a=0;a<l.length;a+=1)l[a].c();d(e,"class","jp-image-gallery-pagination svelte-m213d1")},m(a,c){k(a,e,c);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(a,c){if(c[0]&33){t=S(a[0]);let o;for(o=0;o<t.length;o+=1){const s=H(a,t,o);l[o]?l[o].p(s,c):(l[o]=ne(s),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(a){a&&P(e),J(l,a)}}}function ne(n){let e,t,l;function a(){return n[24](n[32])}return{c(){e=x("button"),d(e,"type","button"),d(e,"class","jp-image-gallery-pagination-button svelte-m213d1"),q(e,"jp-image-gallery-pagination-button-active",n[5]===n[32])},m(c,o){k(c,e,o),t||(l=B(e,"click",a),t=!0)},p(c,o){n=c,o[0]&32&&q(e,"jp-image-gallery-pagination-button-active",n[5]===n[32])},d(c){c&&P(e),t=!1,l()}}}function Pe(n){let e,t,l,a,c,o=S(n[0]),s=[];for(let i=0;i<o.length;i+=1)s[i]=V(U(n,o,i));let p=n[3]&&Z(n);return{c(){e=x("div");for(let i=0;i<s.length;i+=1)s[i].c();t=X(),p&&p.c(),l=be(),d(e,"class","jp-image-gallery svelte-m213d1")},m(i,y){k(i,e,y);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(e,null);n[23](e),k(i,t,y),p&&p.m(i,y),k(i,l,y),a||(c=[B(F,"keydown",n[6]),B(F,"resize",n[7])],a=!0)},p(i,y){if(y[0]&1025){o=S(i[0]);let m;for(m=0;m<o.length;m+=1){const C=U(i,o,m);s[m]?s[m].p(C,y):(s[m]=V(C),s[m].c(),s[m].m(e,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=o.length}i[3]?p?p.p(i,y):(p=Z(i),p.c(),p.m(l.parentNode,l)):p&&(p.d(1),p=null)},i:K,o:K,d(i){i&&(P(e),P(t),P(l)),J(s,i),n[23](null),p&&p.d(i),a=!1,R(c)}}}function Me(n,e,t){let{images:l=[]}=e,{enablePagination:a=!1}=e,{sliderBar:c=!1}=e,{autoSlide:o=!1}=e,{interval:s=3e3}=e,{columnCount:p=3}=e,{columnCountTable:i=2}=e,{columnCountMobile:y=1}=e,{gapX:m=10}=e,{gapY:C=10}=e,{enableGallery:Y=!0}=e,v,h=[],b=[],f=!1,g=0,$=!0,u,G;ve(()=>{typeof l=="string"&&t(0,l=JSON.parse(l)),ie()}),$e(()=>{u&&clearInterval(u)});async function re(r){r.key==="Escape"?_():r.key==="ArrowLeft"?L():r.key==="ArrowRight"&&N()}async function ie(){const r=Array.from(v.getElementsByTagName("img"));await Promise.all(r.map(M=>M.complete?Promise.resolve():new Promise(A=>{M.onload=A,M.onerror=A}))),z()}function z(){if(!v||!v.offsetParent)return;b=[],h=[];const r=v.clientWidth,M=window.innerWidth<600?y:window.innerWidth<1024?i:p,A=(r-(M-1)*m)/M;for(let T=0;T<M;T++)h[T]=0;Array.from(v.children).forEach((T,D)=>{T.style.width=`${A}px`,b[D]=T.clientHeight;const W=h.indexOf(Math.min(...h)),me=W*(A+m),de=h[W];T.style.transform=`translate3d(${me}px, ${de}px, 0)`,h[W]+=b[D]+C}),t(4,v.style.height=`${Math.max(...h)}px`,v)}function N(){$&&($=!1,t(5,g=(g+1)%l.length),setTimeout(()=>{$=!0},300))}function L(){$&&($=!1,t(5,g=(g-1+l.length)%l.length),setTimeout(()=>{$=!0},300))}async function O(r){Y&&(G=window.scrollY,t(5,g=r),t(3,f=!0),document.body.style.position="fixed",document.body.style.top=`-${G}px`,document.body.style.width="100%")}async function _(){t(3,f=!1),document.body.style.position="",document.body.style.top="",document.body.style.width="",window.scrollTo(0,G),await we(),z()}function oe(r){Ce.call(this,n,r)}const se=r=>O(r);function ce(r){ke[r?"unshift":"push"](()=>{v=r,t(4,v)})}const ge=r=>t(5,g=r);return n.$$set=r=>{"images"in r&&t(0,l=r.images),"enablePagination"in r&&t(1,a=r.enablePagination),"sliderBar"in r&&t(2,c=r.sliderBar),"autoSlide"in r&&t(12,o=r.autoSlide),"interval"in r&&t(13,s=r.interval),"columnCount"in r&&t(14,p=r.columnCount),"columnCountTable"in r&&t(15,i=r.columnCountTable),"columnCountMobile"in r&&t(16,y=r.columnCountMobile),"gapX"in r&&t(17,m=r.gapX),"gapY"in r&&t(18,C=r.gapY),"enableGallery"in r&&t(19,Y=r.enableGallery)},n.$$.update=()=>{n.$$.dirty[0]&1060872&&(f?o&&t(20,u=setInterval(N,s)):u&&(clearInterval(u),t(20,u=null)))},[l,a,c,f,v,g,re,z,N,L,O,_,o,s,p,i,y,m,C,Y,u,oe,se,ce,ge]}class ae extends pe{constructor(e){super(),he(this,e,Me,Pe,ye,{images:0,enablePagination:1,sliderBar:2,autoSlide:12,interval:13,columnCount:14,columnCountTable:15,columnCountMobile:16,gapX:17,gapY:18,enableGallery:19},Be,[-1,-1])}get images(){return this.$$.ctx[0]}set images(e){this.$$set({images:e}),w()}get enablePagination(){return this.$$.ctx[1]}set enablePagination(e){this.$$set({enablePagination:e}),w()}get sliderBar(){return this.$$.ctx[2]}set sliderBar(e){this.$$set({sliderBar:e}),w()}get autoSlide(){return this.$$.ctx[12]}set autoSlide(e){this.$$set({autoSlide:e}),w()}get interval(){return this.$$.ctx[13]}set interval(e){this.$$set({interval:e}),w()}get columnCount(){return this.$$.ctx[14]}set columnCount(e){this.$$set({columnCount:e}),w()}get columnCountTable(){return this.$$.ctx[15]}set columnCountTable(e){this.$$set({columnCountTable:e}),w()}get columnCountMobile(){return this.$$.ctx[16]}set columnCountMobile(e){this.$$set({columnCountMobile:e}),w()}get gapX(){return this.$$.ctx[17]}set gapX(e){this.$$set({gapX:e}),w()}get gapY(){return this.$$.ctx[18]}set gapY(e){this.$$set({gapY:e}),w()}get enableGallery(){return this.$$.ctx[19]}set enableGallery(e){this.$$set({enableGallery:e}),w()}}try{customElements.define("jp-image-gallery",ue(ae,{images:{},enablePagination:{type:"Boolean"},sliderBar:{type:"Boolean"},autoSlide:{type:"Boolean"},interval:{},columnCount:{},columnCountTable:{},columnCountMobile:{},gapX:{},gapY:{},enableGallery:{type:"Boolean"}},[],[],!1));}catch{};export{ae as default};
//# sourceMappingURL=image-gallery.wc.js.map
