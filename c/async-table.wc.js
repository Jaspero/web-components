import{c as Dt,S as Ot,i as Et,o as S,s as At,e as $,l as M,d as f,v as I,f as b,p as x,m as L,w as T,k as h,x as Lt,G as St,z as F,B as H,y as Q,C as _,D as Y,A as D,a1 as q,N as Mt,r as fe,n as Rt,E as se,F as xe,O as Ce,X as Tt,Z as Nt}from"./svelte.js";import"./index.js";import{get as Pt}from"./json-pointer.js";function je(l,t,e){const a=l.slice();return a[73]=t[e],a[74]=t,a[75]=e,a}function ze(l,t,e){const a=l.slice();return a[76]=t[e],a[78]=e,a}function ve(l,t,e){const a=l.slice();return a[79]=t[e],a[75]=e,a}function De(l,t,e){const a=l.slice();return a[79]=t[e],a[75]=e,a}function Oe(l,t,e){const a=l.slice();return a[83]=t[e],a}function Ee(l){let t,e,a,n=l[7]&&Ae(l),r=l[11]&&Le(l),o=l[10]&&Se(l);return{c(){t=$("div"),n&&n.c(),e=M(),r&&r.c(),a=M(),o&&o.c(),f(t,"class","jp-async-table-header")},m(c,i){b(c,t,i),n&&n.m(t,null),x(t,e),r&&r.m(t,null),x(t,a),o&&o.m(t,null)},p(c,i){c[7]?n?n.p(c,i):(n=Ae(c),n.c(),n.m(t,e)):n&&(n.d(1),n=null),c[11]?r?r.p(c,i):(r=Le(c),r.c(),r.m(t,a)):r&&(r.d(1),r=null),c[10]?o?o.p(c,i):(o=Se(c),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(c){c&&h(t),n&&n.d(),r&&r.d(),o&&o.d()}}}function Ae(l){let t,e,a=l[5].ARRANGE_COLUMNS+"",n,r,o;return{c(){t=F(`\xA0
        `),e=$("button"),n=F(a),f(e,"type","button"),f(e,"class","jp-async-table-button")},m(c,i){b(c,t,i),b(c,e,i),x(e,n),r||(o=L(e,"click",l[39]),r=!0)},p(c,i){i[0]&32&&a!==(a=c[5].ARRANGE_COLUMNS+"")&&H(n,a)},d(c){c&&(h(t),h(e)),r=!1,o()}}}function Le(l){let t,e,a=l[5].IMPORT+"",n,r,o;return{c(){t=F(`\xA0
        `),e=$("button"),n=F(a),f(e,"type","button"),f(e,"class","jp-async-table-button")},m(c,i){b(c,t,i),b(c,e,i),x(e,n),r||(o=L(e,"click",l[49]),r=!0)},p(c,i){i[0]&32&&a!==(a=c[5].IMPORT+"")&&H(n,a)},d(c){c&&(h(t),h(e)),r=!1,o()}}}function Se(l){let t,e;function a(o,c){return o[14]?Bt:Gt}let n=a(l),r=n(l);return{c(){t=F(`\xA0
        `),r.c(),e=Q()},m(o,c){b(o,t,c),r.m(o,c),b(o,e,c)},p(o,c){n===(n=a(o))&&r?r.p(o,c):(r.d(1),r=n(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&(h(t),h(e)),r.d(o)}}}function Bt(l){let t,e,a,n,r,o=l[17]&&Me(l);return{c(){t=$("div"),e=$("button"),e.textContent="Export",a=M(),o&&o.c(),f(e,"type","button"),f(e,"class","jp-async-table-button"),f(t,"class","jp-async-table-dropdown")},m(c,i){b(c,t,i),x(t,e),x(t,a),o&&o.m(t,null),n||(r=L(e,"click",l[50]),n=!0)},p(c,i){c[17]?o?o.p(c,i):(o=Me(c),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(c){c&&h(t),o&&o.d(),n=!1,r()}}}function Gt(l){let t,e,a;function n(c,i){return c[20]?Ft:It}let r=n(l),o=r(l);return{c(){t=$("button"),o.c(),f(t,"type","button"),f(t,"class","jp-async-table-button"),t.disabled=l[20],D(t,"jp-async-table-loading",l[20])},m(c,i){b(c,t,i),o.m(t,null),e||(a=L(t,"click",l[34]),e=!0)},p(c,i){r===(r=n(c))&&o?o.p(c,i):(o.d(1),o=r(c),o&&(o.c(),o.m(t,null))),i[0]&1048576&&(t.disabled=c[20]),i[0]&1048576&&D(t,"jp-async-table-loading",c[20])},d(c){c&&h(t),o.d(),e=!1,a()}}}function Me(l){let t,e=_(l[26]),a=[];for(let n=0;n<e.length;n+=1)a[n]=Re(Oe(l,e,n));return{c(){t=$("ul");for(let n=0;n<a.length;n+=1)a[n].c();f(t,"class","jp-async-table-dropdown-menu")},m(n,r){b(n,t,r);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(t,null)},p(n,r){if(r[0]&67108864|r[1]&2048){e=_(n[26]);let o;for(o=0;o<e.length;o+=1){const c=Oe(n,e,o);a[o]?a[o].p(c,r):(a[o]=Re(c),a[o].c(),a[o].m(t,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=e.length}},d(n){n&&h(t),Y(a,n)}}}function Re(l){let t,e,a;function n(){return l[51](l[83])}return{c(){t=$("button"),t.textContent=`${l[83]} `,f(t,"type","button"),f(t,"class","jp-async-table-dropdown-option")},m(r,o){b(r,t,o),e||(a=L(t,"click",n),e=!0)},p(r,o){l=r},d(r){r&&h(t),e=!1,a()}}}function It(l){let t=l[5].EXPORT+"",e;return{c(){e=F(t)},m(a,n){b(a,e,n)},p(a,n){n[0]&32&&t!==(t=a[5].EXPORT+"")&&H(e,t)},d(a){a&&h(e)}}}function Ft(l){let t,e,a=l[5].LOADING+"",n;return{c(){t=$("span"),e=M(),n=F(a),f(t,"class","jp-async-table-spinner")},m(r,o){b(r,t,o),b(r,e,o),b(r,n,o)},p(r,o){o[0]&32&&a!==(a=r[5].LOADING+"")&&H(n,a)},d(r){r&&(h(t),h(e),h(n))}}}function Te(l){let t,e=_(l[0]),a=[];for(let n=0;n<e.length;n+=1)a[n]=Be(De(l,e,n));return{c(){t=$("tr");for(let n=0;n<a.length;n+=1)a[n].c()},m(n,r){b(n,t,r);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(t,null)},p(n,r){if(r[0]&1358955333|r[1]&240){e=_(n[0]);let o;for(o=0;o<e.length;o+=1){const c=De(n,e,o);a[o]?a[o].p(c,r):(a[o]=Be(c),a[o].c(),a[o].m(t,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=e.length}},d(n){n&&h(t),Y(a,n)}}}function Ne(l){var t;let e,a,n,r,o,c,i,O,v={ctx:l,current:null,token:null,hasCatch:!1,pending:Ht,then:Ut,catch:_t,value:81};se(n=Xe(l[79]),v);let g=((t=l[2])==null?void 0:t.key)===l[79].key&&Pe(l);function z(){return l[52](l[79])}function G(...m){return l[53](l[79],...m)}function j(...m){return l[54](l[79],l[75],...m)}function y(){return l[55](l[79])}function u(...m){return l[56](l[79],l[75],...m)}return{c(){e=$("th"),a=$("span"),v.block.c(),r=M(),g&&g.c(),o=M(),f(a,"tabindex","-1"),f(a,"role","button"),f(a,"aria-label","Drag handle"),D(a,"jp-async-table-draggable-column",l[6]&&!l[79].disableOrganize),I(e,"background-color",l[24]===l[75]?"#D3D3D3":l[28][l[75]%l[28].length]),f(e,"draggable",c=l[6]&&!l[79].disableOrganize),D(e,"jp-async-table-sortable",l[6]&&l[79].sortable),D(e,"jp-async-table-sticky-first",l[8]&&l[75]===0),D(e,"jp-async-table-sticky-last",l[75]===l[0].length-1&&l[9]),D(e,"jp-async-table-no-cursor",l[79].disableOrganize)},m(m,d){b(m,e,d),x(e,a),v.block.m(a,v.anchor=null),v.mount=()=>a,v.anchor=null,x(e,r),g&&g.m(e,null),x(e,o),i||(O=[L(e,"click",z),L(e,"dragstart",G),L(e,"dragover",j),L(e,"dragleave",y),L(e,"drop",u)],i=!0)},p(m,d){var C;l=m,v.ctx=l,d[0]&1&&n!==(n=Xe(l[79]))&&se(n,v)||xe(v,l,d),d[0]&65&&D(a,"jp-async-table-draggable-column",l[6]&&!l[79].disableOrganize),((C=l[2])==null?void 0:C.key)===l[79].key?g?g.p(l,d):(g=Pe(l),g.c(),g.m(e,o)):g&&(g.d(1),g=null),d[0]&16777216&&I(e,"background-color",l[24]===l[75]?"#D3D3D3":l[28][l[75]%l[28].length]),d[0]&65&&c!==(c=l[6]&&!l[79].disableOrganize)&&f(e,"draggable",c),d[0]&65&&D(e,"jp-async-table-sortable",l[6]&&l[79].sortable),d[0]&256&&D(e,"jp-async-table-sticky-first",l[8]&&l[75]===0),d[0]&513&&D(e,"jp-async-table-sticky-last",l[75]===l[0].length-1&&l[9]),d[0]&1&&D(e,"jp-async-table-no-cursor",l[79].disableOrganize)},d(m){m&&h(e),v.block.d(),v.token=null,v=null,g&&g.d(),i=!1,fe(O)}}}function _t(l){return{c:T,m:T,p:T,d:T}}function Ut(l){let t,e=l[81]+"",a;return{c(){t=new Nt(!1),a=Q(),t.a=a},m(n,r){t.m(e,n,r),b(n,a,r)},p(n,r){r[0]&1&&e!==(e=n[81]+"")&&t.p(e)},d(n){n&&(h(a),t.d())}}}function Ht(l){return{c:T,m:T,p:T,d:T}}function Pe(l){let t,e=l[2].direction==="asc"?"\u2191":"\u2193",a;return{c(){t=$("span"),a=F(e),f(t,"class","jp-async-table-sortable")},m(n,r){b(n,t,r),x(t,a)},p(n,r){r[0]&4&&e!==(e=n[2].direction==="asc"?"\u2191":"\u2193")&&H(a,e)},d(n){n&&h(t)}}}function Be(l){let t,e=!l[79].disabled&&Ne(l);return{c(){e&&e.c(),t=Q()},m(a,n){e&&e.m(a,n),b(a,t,n)},p(a,n){a[79].disabled?e&&(e.d(1),e=null):e?e.p(a,n):(e=Ne(a),e.c(),e.m(t.parentNode,t))},d(a){a&&h(t),e&&e.d(a)}}}function Ge(l){let t,e=_(l[3]),a=[];for(let n=0;n<e.length;n+=1)a[n]=_e(ze(l,e,n));return{c(){for(let n=0;n<a.length;n+=1)a[n].c();t=Q()},m(n,r){for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(n,r);b(n,t,r)},p(n,r){if(r[0]&822088521|r[1]&2){e=_(n[3]);let o;for(o=0;o<e.length;o+=1){const c=ze(n,e,o);a[o]?a[o].p(c,r):(a[o]=_e(c),a[o].c(),a[o].m(t.parentNode,t))}for(;o<a.length;o+=1)a[o].d(1);a.length=e.length}},d(n){n&&h(t),Y(a,n)}}}function Ie(l){let t,e,a,n,r={ctx:l,current:null,token:null,hasCatch:!1,pending:Jt,then:Vt,catch:Zt,value:81};se(e=l[29](l[79],l[76],l[78]),r);function o(...c){return l[57](l[76],l[75],l[79],...c)}return{c(){t=$("td"),r.block.c(),I(t,"background-color",l[24]===l[75]?"#D3D3D3":l[28][l[75]%l[28].length]),D(t,"jp-async-table-sortable",l[6]&&l[79].sortable),D(t,"jp-async-table-sticky-first",l[8]&&l[75]===0),D(t,"jp-async-table-sticky-last",l[75]===l[0].length-1&&l[9])},m(c,i){b(c,t,i),r.block.m(t,r.anchor=null),r.mount=()=>t,r.anchor=null,a||(n=L(t,"click",o),a=!0)},p(c,i){l=c,r.ctx=l,i[0]&9&&e!==(e=l[29](l[79],l[76],l[78]))&&se(e,r)||xe(r,l,i),i[0]&16777216&&I(t,"background-color",l[24]===l[75]?"#D3D3D3":l[28][l[75]%l[28].length]),i[0]&65&&D(t,"jp-async-table-sortable",l[6]&&l[79].sortable),i[0]&256&&D(t,"jp-async-table-sticky-first",l[8]&&l[75]===0),i[0]&513&&D(t,"jp-async-table-sticky-last",l[75]===l[0].length-1&&l[9])},d(c){c&&h(t),r.block.d(),r.token=null,r=null,a=!1,n()}}}function Zt(l){return{c:T,m:T,p:T,d:T}}function Vt(l){let t,e=l[81]+"";return{c(){t=$("span"),f(t,"class","jp-async-table-cell")},m(a,n){b(a,t,n),t.innerHTML=e},p(a,n){n[0]&9&&e!==(e=a[81]+"")&&(t.innerHTML=e)},d(a){a&&h(t)}}}function Jt(l){return{c:T,m:T,p:T,d:T}}function Fe(l){let t,e=!l[79].disabled&&Ie(l);return{c(){e&&e.c(),t=Q()},m(a,n){e&&e.m(a,n),b(a,t,n)},p(a,n){a[79].disabled?e&&(e.d(1),e=null):e?e.p(a,n):(e=Ie(a),e.c(),e.m(t.parentNode,t))},d(a){a&&h(t),e&&e.d(a)}}}function _e(l){let t,e,a=_(l[0]),n=[];for(let r=0;r<a.length;r+=1)n[r]=Fe(ve(l,a,r));return{c(){t=$("tr");for(let r=0;r<n.length;r+=1)n[r].c();e=M(),D(t,"jp-async-table-highlight",l[12])},m(r,o){b(r,t,o);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(t,null);x(t,e)},p(r,o){if(o[0]&822084425|o[1]&2){a=_(r[0]);let c;for(c=0;c<a.length;c+=1){const i=ve(r,a,c);n[c]?n[c].p(i,o):(n[c]=Fe(i),n[c].c(),n[c].m(t,e))}for(;c<n.length;c+=1)n[c].d(1);n.length=a.length}o[0]&4096&&D(t,"jp-async-table-highlight",r[12])},d(r){r&&h(t),Y(n,r)}}}function Ue(l){let t,e,a,n;function r(i,O){return i[18]?Kt:Xt}let o=r(l),c=o(l);return{c(){t=$("button"),c.c(),f(t,"type","button"),f(t,"class","jp-async-table-button"),t.disabled=e=!l[19],D(t,"jp-async-table-loading",l[18])},m(i,O){b(i,t,O),c.m(t,null),a||(n=L(t,"click",l[31]),a=!0)},p(i,O){o===(o=r(i))&&c?c.p(i,O):(c.d(1),c=o(i),c&&(c.c(),c.m(t,null))),O[0]&524288&&e!==(e=!i[19])&&(t.disabled=e),O[0]&262144&&D(t,"jp-async-table-loading",i[18])},d(i){i&&h(t),c.d(),a=!1,n()}}}function Xt(l){let t=l[5].LOAD_MORE+"",e;return{c(){e=F(t)},m(a,n){b(a,e,n)},p(a,n){n[0]&32&&t!==(t=a[5].LOAD_MORE+"")&&H(e,t)},d(a){a&&h(e)}}}function Kt(l){let t,e,a=l[5].LOADING+"",n;return{c(){t=$("span"),e=M(),n=F(a),f(t,"class","jp-async-table-spinner")},m(r,o){b(r,t,o),b(r,e,o),b(r,n,o)},p(r,o){o[0]&32&&a!==(a=r[5].LOADING+"")&&H(n,a)},d(r){r&&(h(t),h(e),h(n))}}}function He(l){let t,e,a,n;return{c(){t=$("jp-select"),q(t,"label",e=l[5].PAGE_SIZE),q(t,"options",l[27]),q(t,"value",l[1])},m(r,o){b(r,t,o),a||(n=L(t,"value",l[33]),a=!0)},p(r,o){o[0]&32&&e!==(e=r[5].PAGE_SIZE)&&q(t,"label",e),o[0]&2&&q(t,"value",r[1])},d(r){r&&h(t),a=!1,n()}}}function Ze(l){let t,e,a,n,r,o,c,i,O,v,g=_(l[21]),z=[];for(let u=0;u<g.length;u+=1)z[u]=Je(je(l,g,u));function G(u,m){return u[18]?Wt:Qt}let j=G(l),y=j(l);return{c(){t=$("div"),e=$("div"),a=M(),n=$("form"),r=$("main");for(let u=0;u<z.length;u+=1)z[u].c();o=M(),c=$("footer"),i=$("button"),y.c(),f(e,"class","jp-async-table-arrange-columns-dialog-backdrop"),f(i,"type","submit"),f(i,"class","jp-async-table-button"),i.disabled=l[22],D(i,"jp-async-table-loading",l[22]),f(n,"class","jp-async-table-arrange-columns-dialog-inner"),f(t,"class","jp-async-table-arrange-columns-dialog")},m(u,m){b(u,t,m),x(t,e),x(t,a),x(t,n),x(n,r);for(let d=0;d<z.length;d+=1)z[d]&&z[d].m(r,null);x(n,o),x(n,c),x(c,i),y.m(i,null),O||(v=[L(e,"click",l[58]),L(n,"submit",Mt(l[41]))],O=!0)},p(u,m){if(m[0]&304087040|m[1]&240){g=_(u[21]);let d;for(d=0;d<g.length;d+=1){const C=je(u,g,d);z[d]?z[d].p(C,m):(z[d]=Je(C),z[d].c(),z[d].m(r,null))}for(;d<z.length;d+=1)z[d].d(1);z.length=g.length}j===(j=G(u))&&y?y.p(u,m):(y.d(1),y=j(u),y&&(y.c(),y.m(i,null))),m[0]&4194304&&(i.disabled=u[22]),m[0]&4194304&&D(i,"jp-async-table-loading",u[22])},d(u){u&&h(t),Y(z,u),y.d(),O=!1,fe(v)}}}function Ve(l){let t,e,a,n,r,o,c,i,O=l[73].label+"",v,g,z;function G(...d){return l[59](l[73],...d)}function j(...d){return l[60](l[73],l[75],...d)}function y(){return l[61](l[73])}function u(...d){return l[62](l[73],l[75],...d)}function m(){l[63].call(o,l[74],l[75])}return{c(){t=$("label"),e=$("span"),a=Ce("svg"),n=Ce("path"),r=M(),o=$("input"),c=M(),i=$("span"),v=M(),f(n,"d","M160-360v-80h640v80H160Zm0-160v-80h640v80H160Z"),f(a,"xmlns","http://www.w3.org/2000/svg"),f(a,"height","24px"),f(a,"viewBox","0 -960 960 960"),f(a,"width","24px"),f(a,"fill","#5f6368"),f(e,"class","jp-async-table-material-symbols-outlined drag-handle"),f(e,"draggable","true"),I(e,"cursor",l[73].disableOrganize?"default":"grab"),I(e,"pointer-events",l[73].disableOrganize?"none":"auto"),D(e,"jp-async-table-no-cursor",l[73].disableOrganize),f(o,"type","checkbox"),o.__value=!0,Tt(o,o.__value),f(t,"class","jp-async-table-arrange-column-label"),I(t,"background-color",l[25]===l[75]?"#D3D3D3":l[28][l[75]%l[28].length])},m(d,C){b(d,t,C),x(t,e),x(e,a),x(a,n),x(e,r),x(t,o),o.checked=l[73].enabled,x(t,c),x(t,i),i.innerHTML=O,x(t,v),g||(z=[L(e,"dragstart",G),L(e,"dragover",j),L(e,"dragleave",y),L(e,"drop",u),L(o,"change",m)],g=!0)},p(d,C){l=d,C[0]&2097152&&I(e,"cursor",l[73].disableOrganize?"default":"grab"),C[0]&2097152&&I(e,"pointer-events",l[73].disableOrganize?"none":"auto"),C[0]&2097152&&D(e,"jp-async-table-no-cursor",l[73].disableOrganize),C[0]&2097152&&(o.checked=l[73].enabled),C[0]&2097152&&O!==(O=l[73].label+"")&&(i.innerHTML=O),C[0]&33554432&&I(t,"background-color",l[25]===l[75]?"#D3D3D3":l[28][l[75]%l[28].length])},d(d){d&&h(t),g=!1,fe(z)}}}function Je(l){let t,e=!l[73].disableToggle&&Ve(l);return{c(){e&&e.c(),t=Q()},m(a,n){e&&e.m(a,n),b(a,t,n)},p(a,n){a[73].disableToggle?e&&(e.d(1),e=null):e?e.p(a,n):(e=Ve(a),e.c(),e.m(t.parentNode,t))},d(a){a&&h(t),e&&e.d(a)}}}function Qt(l){let t=l[5].SAVE+"",e;return{c(){e=F(t)},m(a,n){b(a,e,n)},p(a,n){n[0]&32&&t!==(t=a[5].SAVE+"")&&H(e,t)},d(a){a&&h(e)}}}function Wt(l){let t,e,a=l[5].LOADING+"",n;return{c(){t=$("span"),e=M(),n=F(a),f(t,"class","spinner")},m(r,o){b(r,t,o),b(r,e,o),b(r,n,o)},p(r,o){o[0]&32&&a!==(a=r[5].LOADING+"")&&H(n,a)},d(r){r&&(h(t),h(e),h(n))}}}function Yt(l){let t,e,a,n,r,o,c,i,O,v,g,z,G,j=(l[7]||l[11]||l[10])&&Ee(l),y=l[0]&&Te(l),u=l[3]&&Ge(l),m=l[16]&&Ue(l),d=l[13].length>1&&He(l),C=l[4]&&Ze(l);return{c(){t=$("div"),j&&j.c(),e=M(),a=$("div"),n=$("table"),y&&y.c(),r=M(),u&&u.c(),o=M(),c=$("div"),m&&m.c(),i=M(),d&&d.c(),O=M(),C&&C.c(),v=M(),g=$("input"),f(a,"class","jp-async-table-container"),I(a,"height",l[15]),f(c,"class","jp-async-table-actions"),f(t,"class","jp-async-table"),f(g,"accept",".csv"),g.hidden=!0,f(g,"type","file")},m(w,R){b(w,t,R),j&&j.m(t,null),x(t,e),x(t,a),x(a,n),y&&y.m(n,null),x(n,r),u&&u.m(n,null),x(t,o),x(t,c),m&&m.m(c,null),x(c,i),d&&d.m(c,null),b(w,O,R),C&&C.m(w,R),b(w,v,R),b(w,g,R),l[64](g),z||(G=L(g,"change",l[40]),z=!0)},p(w,R){w[7]||w[11]||w[10]?j?j.p(w,R):(j=Ee(w),j.c(),j.m(t,e)):j&&(j.d(1),j=null),w[0]?y?y.p(w,R):(y=Te(w),y.c(),y.m(n,r)):y&&(y.d(1),y=null),w[3]?u?u.p(w,R):(u=Ge(w),u.c(),u.m(n,null)):u&&(u.d(1),u=null),R[0]&32768&&I(a,"height",w[15]),w[16]?m?m.p(w,R):(m=Ue(w),m.c(),m.m(c,i)):m&&(m.d(1),m=null),w[13].length>1?d?d.p(w,R):(d=He(w),d.c(),d.m(c,null)):d&&(d.d(1),d=null),w[4]?C?C.p(w,R):(C=Ze(w),C.c(),C.m(v.parentNode,v)):C&&(C.d(1),C=null)},i:T,o:T,d(w){w&&(h(t),h(O),h(v),h(g)),j&&j.d(),y&&y.d(),u&&u.d(),m&&m.d(),d&&d.d(),C&&C.d(w),l[64](null),z=!1,G()}}}async function Xe(l){const{label:t,headerPipes:e}=l;let a=t;if(!e)return a;for(const n of e)a=await n(a);return a}async function Ke(){const l=document.querySelector(".jp-async-table-container");l&&l.scrollTo({top:0,behavior:"smooth"})}function qt(l,t,e){let{wording:a={ARRANGE_COLUMNS:"Arrange columns",EXPORT:"Export",IMPORT:"Import",SELECT:"Select data type",LOADING:"Loading",LOAD_MORE:"Load more",PAGE_SIZE:"Page size",SAVE:"Save"}}=t,{allowArrangeColumns:n=!0}=t,{showArrangingColumns:r=!0}=t,{freezeFirstColumn:o=!1}=t,{freezeLastColumn:c=!1}=t,{showExport:i=!0}=t,{showImport:O=!0}=t,{rowClickable:v=!1}=t,{headers:g=[]}=t,{pageSizes:z=[10,25,50,100]}=t,{dropdownMenuExport:G=!1}=t,{pageSize:j=z[0]}=t,{sort:y}=t,{service:u}=t,{id:m}=t,{height:d=null}=t,C=[],w=[],R=!1,ee=[];const me=["csv","json","xml"],be=[{label:"CSV",type:"csv",method:()=>({fileContent:[w.map(s=>`"${s.label}"`).join(","),...ee].join(`
`),mimeType:"text/csv",extension:"csv"})},{label:"JSON",type:"json",method:()=>({fileContent:JSON.stringify(ee.map(s=>{const p=s.split(",");return Object.fromEntries(w.map((k,E)=>{var A;return[k.label,((A=p[E])==null?void 0:A.replace(/"/g,""))||""]}))}),null,2),mimeType:"application/json",extension:"json"})},{label:"XML",type:"xml",method:()=>({fileContent:`<root>
${ee.map(s=>`  <row>
${s}</row>`).join(`
`)}
</root>`,mimeType:"application/xml",extension:"xml"})}];let{getData:te=async()=>{const s=await u.get(y,j);e(3,P=s.rows),e(19,le=s.hasMore),e(18,X=!1),Ke()}}=t,{rows:P=[]}=t,{arrangeColumnDialog:W=!1}=t,{showLoadMore:he=!0}=t,We=JSON.stringify(z.map(s=>({label:s,value:s}))),X=!0,le=!1,Z=!1,K=[],ae=!1,ne,ce=!1;const Ye=["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff"],qe=Lt();async function et(s,p="id"){e(3,P=P.filter(k=>k[p]!==s))}async function tt(s){e(3,P=[...P,s])}async function lt(s,p){e(3,P=P.map((k,E)=>E===p?{...k,...s}:k))}async function ie(s,p,k){const{key:E,fallback:A,pipes:B}=s;let N;try{N=Pt(p,E)}catch{return A||""}if(!B)return N;for(const V of B)N=await V(N,p,k);return N}async function ye(s){const{sortable:p}=s;if(!p)return;e(18,X=!0),e(2,y={key:s.key,direction:y?.key===s.key&&y.direction==="asc"?"desc":"asc"});const k=[u.get(y,j)];u.adjustSort&&k.push(u.adjustSort(y));const[E]=await Promise.all(k);e(3,P=E.rows),e(19,le=E.hasMore),e(18,X=!1),Ke()}async function at(){e(18,X=!0);const s=await u.loadMore(y,j);e(3,P=[...P,...s.rows]),e(19,le=s.hasMore),e(18,X=!1)}function we(s,p,k,E){qe("rowClick",{row:s,index:p,header:k,originalEvent:E})}async function nt(s){e(1,j=s.detail);const p=[te()];u.adjustPageSize&&p.push(u.adjustPageSize(j)),await Promise.all(p)}async function ot(){if(Z)return;e(20,Z=!0),w=g.filter(A=>!A.disabled&&!A.hideOnExport);const s=await u.export(),p=await Promise.all(s.map(async(A,B)=>(await Promise.all(w.map(N=>ie({key:N.key,fallback:N.exportFallback||N.fallback,pipes:N.exportPipes||N.pipes||[]},A,B)))).map(N=>`"${N||""}"`).join(","))),k=new Blob([[w.map(A=>A.label).map(A=>`"${A}"`).join(","),...p].join(`
`)],{type:"text/csv"}),E=document.createElement("a");E.href=URL.createObjectURL(k),E.download="export.csv",E.click(),e(20,Z=!1)}let $e="",oe=null,re=null;function ue(s,p){p.disableOrganize||($e=p.key,s.dataTransfer.setData("text/plain",$e))}function de(s,p){s.preventDefault(),!g[p].disableOrganize&&(e(24,oe=p),e(25,re=p))}function pe(){e(24,oe=null),e(25,re=null)}async function ge(s,p){if(s.preventDefault(),g[p].disableOrganize)return;e(24,oe=null),e(25,re=null);const k=s.dataTransfer.getData("text/plain"),E=g.findIndex(A=>A.key===k);if(E!==-1&&E!==p){const A=[...g],B=[...K],[N]=A.splice(E,1),[V]=B.splice(E,1);A.splice(p,0,N),B.splice(p,0,V),e(0,g=A),e(21,K=B),u.arrangeColumns&&await u.arrangeColumns(m,A.map(U=>({key:U.key,disabled:U.disabled})))}}function rt(){e(21,K=[...g].map(s=>(s.enabled=!s.disabled,s))),e(4,W=!0)}async function st(s){if(ce||!s.target.files||!s.target.files[0])return;ce=!0;const p=await u.import(s.target.files[0]);p!=null&&p.length&&e(3,P=[...p,...P]),s.target.value="",ce=!1}async function ct(){ae||(e(22,ae=!0),e(0,g=[...K].map(s=>(s.disabled=!s.enabled,delete s.enabled,s))),u.arrangeColumns&&await u.arrangeColumns(m,g.map(s=>({key:s.key,disabled:s.disabled}))),e(22,ae=!1),e(4,W=!1))}async function it(s){if(Z)return;e(20,Z=!0),w=g.filter(U=>!U.disabled&&!U.hideOnExport);const p=await u.export();ee=await Promise.all(p.map(async(U,vt)=>(await Promise.all(w.map(J=>ie({key:J.key,fallback:J.exportFallback||J.fallback,pipes:J.exportPipes||J.pipes||[]},U,vt)))).map(J=>`"${J||""}"`).join(",")));const k=be.find(U=>U.type===s),{fileContent:E,mimeType:A,extension:B}=k.method(),N=new Blob([E],{type:A}),V=document.createElement("a");V.href=URL.createObjectURL(N),V.download=`export.${B}`,V.click(),e(20,Z=!1)}St(async()=>{if(u.additionalExportTypes&&(C=await u.additionalExportTypes(),C.forEach(s=>{me.push(s.label),be.push({label:s.label,type:s.type,method:s.method})})),u.getColumnOrder){const s=await u.getColumnOrder(m);s&&e(0,g=g.map(p=>(p.disabled=!s.find(k=>k.key===p.key),p)).sort((p,k)=>{const E=s.findIndex(B=>B.key===p.key),A=s.findIndex(B=>B.key===k.key);return E-A}))}w=g.filter(s=>!s.disabled),await te()});const ke=s=>{it(s),e(17,R=!1)},ut=()=>ne.click(),dt=()=>e(17,R=!R),pt=s=>ke(s),gt=s=>ye(s),ft=(s,p)=>{s.disableOrganize||ue(p,s)},mt=(s,p,k)=>{s.disableOrganize||de(k,p)},bt=s=>{s.disableOrganize||pe()},ht=(s,p,k)=>{s.disableOrganize||ge(k,p)},yt=(s,p,k,E)=>we(s,p,k,E),wt=()=>e(4,W=!1),$t=(s,p)=>{s.disableOrganize||ue(p,s)},kt=(s,p,k)=>{s.disableOrganize||de(k,p)},xt=s=>{s.disableOrganize||pe()},Ct=(s,p,k)=>{s.disableOrganize||ge(k,p)};function jt(s,p){s[p].enabled=this.checked,e(21,K)}function zt(s){Rt[s?"unshift":"push"](()=>{ne=s,e(23,ne)})}return l.$$set=s=>{"wording"in s&&e(5,a=s.wording),"allowArrangeColumns"in s&&e(6,n=s.allowArrangeColumns),"showArrangingColumns"in s&&e(7,r=s.showArrangingColumns),"freezeFirstColumn"in s&&e(8,o=s.freezeFirstColumn),"freezeLastColumn"in s&&e(9,c=s.freezeLastColumn),"showExport"in s&&e(10,i=s.showExport),"showImport"in s&&e(11,O=s.showImport),"rowClickable"in s&&e(12,v=s.rowClickable),"headers"in s&&e(0,g=s.headers),"pageSizes"in s&&e(13,z=s.pageSizes),"dropdownMenuExport"in s&&e(14,G=s.dropdownMenuExport),"pageSize"in s&&e(1,j=s.pageSize),"sort"in s&&e(2,y=s.sort),"service"in s&&e(43,u=s.service),"id"in s&&e(44,m=s.id),"height"in s&&e(15,d=s.height),"getData"in s&&e(45,te=s.getData),"rows"in s&&e(3,P=s.rows),"arrangeColumnDialog"in s&&e(4,W=s.arrangeColumnDialog),"showLoadMore"in s&&e(16,he=s.showLoadMore)},[g,j,y,P,W,a,n,r,o,c,i,O,v,z,G,d,he,R,X,le,Z,K,ae,ne,oe,re,me,We,Ye,ie,ye,at,we,nt,ot,ue,de,pe,ge,rt,st,ct,ke,u,m,te,et,tt,lt,ut,dt,pt,gt,ft,mt,bt,ht,yt,wt,$t,kt,xt,Ct,jt,zt]}class Qe extends Ot{constructor(t){super(),Et(this,t,qt,Yt,At,{wording:5,allowArrangeColumns:6,showArrangingColumns:7,freezeFirstColumn:8,freezeLastColumn:9,showExport:10,showImport:11,rowClickable:12,headers:0,pageSizes:13,dropdownMenuExport:14,pageSize:1,sort:2,service:43,id:44,height:15,getData:45,rows:3,arrangeColumnDialog:4,showLoadMore:16,removeRow:46,addRow:47,updateRow:48},null,[-1,-1,-1])}get wording(){return this.$$.ctx[5]}set wording(t){this.$$set({wording:t}),S()}get allowArrangeColumns(){return this.$$.ctx[6]}set allowArrangeColumns(t){this.$$set({allowArrangeColumns:t}),S()}get showArrangingColumns(){return this.$$.ctx[7]}set showArrangingColumns(t){this.$$set({showArrangingColumns:t}),S()}get freezeFirstColumn(){return this.$$.ctx[8]}set freezeFirstColumn(t){this.$$set({freezeFirstColumn:t}),S()}get freezeLastColumn(){return this.$$.ctx[9]}set freezeLastColumn(t){this.$$set({freezeLastColumn:t}),S()}get showExport(){return this.$$.ctx[10]}set showExport(t){this.$$set({showExport:t}),S()}get showImport(){return this.$$.ctx[11]}set showImport(t){this.$$set({showImport:t}),S()}get rowClickable(){return this.$$.ctx[12]}set rowClickable(t){this.$$set({rowClickable:t}),S()}get headers(){return this.$$.ctx[0]}set headers(t){this.$$set({headers:t}),S()}get pageSizes(){return this.$$.ctx[13]}set pageSizes(t){this.$$set({pageSizes:t}),S()}get dropdownMenuExport(){return this.$$.ctx[14]}set dropdownMenuExport(t){this.$$set({dropdownMenuExport:t}),S()}get pageSize(){return this.$$.ctx[1]}set pageSize(t){this.$$set({pageSize:t}),S()}get sort(){return this.$$.ctx[2]}set sort(t){this.$$set({sort:t}),S()}get service(){return this.$$.ctx[43]}set service(t){this.$$set({service:t}),S()}get id(){return this.$$.ctx[44]}set id(t){this.$$set({id:t}),S()}get height(){return this.$$.ctx[15]}set height(t){this.$$set({height:t}),S()}get getData(){return this.$$.ctx[45]}set getData(t){this.$$set({getData:t}),S()}get rows(){return this.$$.ctx[3]}set rows(t){this.$$set({rows:t}),S()}get arrangeColumnDialog(){return this.$$.ctx[4]}set arrangeColumnDialog(t){this.$$set({arrangeColumnDialog:t}),S()}get showLoadMore(){return this.$$.ctx[16]}set showLoadMore(t){this.$$set({showLoadMore:t}),S()}get removeRow(){return this.$$.ctx[46]}get addRow(){return this.$$.ctx[47]}get updateRow(){return this.$$.ctx[48]}}try{customElements.define("jp-async-table",Dt(Qe,{wording:{},allowArrangeColumns:{type:"Boolean"},showArrangingColumns:{type:"Boolean"},freezeFirstColumn:{type:"Boolean"},freezeLastColumn:{type:"Boolean"},showExport:{type:"Boolean"},showImport:{type:"Boolean"},rowClickable:{type:"Boolean"},headers:{},pageSizes:{},dropdownMenuExport:{type:"Boolean"},pageSize:{},sort:{},service:{},id:{},height:{},getData:{},rows:{},arrangeColumnDialog:{type:"Boolean"},showLoadMore:{type:"Boolean"}},[],["removeRow","addRow","updateRow"],!1));}catch{};export{Qe as default};
//# sourceMappingURL=async-table.wc.js.map
