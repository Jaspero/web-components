import{c as Ge,S as _e,i as He,f as P,s as Be,a as Ue,e as z,b as L,d as m,m as _,g as f,h as k,o as T,n as H,j as b,u as Q,k as Ve,x as Ze,t as G,p as U,q as V,r as J,l as Xe,y as X,z as Fe,A as Je,B as qe,v as re,w as Ke}from"./svelte.js";import"./index2.js";import{g as Qe}from"./json-pointer.js";function We(n){Ue(n,"svelte-rvz6y",".table-card.svelte-rvz6y.svelte-rvz6y{background-color:var(--background-primary);-webkit-border-radius:0.25rem;-moz-border-radius:0.25rem;border-radius:0.25rem;-webkit-box-shadow:0 3px 12px rgba(0, 0, 0, 0.16);-moz-box-shadow:0 3px 12px rgba(0, 0, 0, 0.16);box-shadow:0 3px 12px rgba(0, 0, 0, 0.16)}.table-container.svelte-rvz6y.svelte-rvz6y{overflow-x:auto;width:100%}table.svelte-rvz6y.svelte-rvz6y{width:100%}th.svelte-rvz6y.svelte-rvz6y,td.svelte-rvz6y.svelte-rvz6y{text-align:left;white-space:nowrap;font-size:0.75rem;font-weight:normal;padding:0.5rem;border-bottom:1px solid rgba(0, 0, 0, 0.16)}th.svelte-rvz6y.svelte-rvz6y{opacity:0.75}.sortable.svelte-rvz6y.svelte-rvz6y{cursor:pointer}.draggable-column.svelte-rvz6y.svelte-rvz6y{cursor:grab}.cell.svelte-rvz6y.svelte-rvz6y{display:block;max-width:64ch;overflow:hidden;text-overflow:ellipsis}.table-actions.svelte-rvz6y.svelte-rvz6y{padding:1rem;display:flex;justify-content:space-between}.table-header.svelte-rvz6y.svelte-rvz6y{padding:1rem;min-height:68px;display:flex;justify-content:flex-end}.table-button.svelte-rvz6y.svelte-rvz6y{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-border-radius:0.25rem;-moz-border-radius:0.25rem;border-radius:0.25rem;min-width:4rem;height:2.25rem;padding:0 1rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.settings-button.svelte-rvz6y.svelte-rvz6y{background-color:var(--background-secondary);color:var(--text-on-secondary)}.load-button.svelte-rvz6y.svelte-rvz6y{background-color:var(--primary-color);color:var(--text-on-primary)}.load-button.svelte-rvz6y.svelte-rvz6y:disabled{opacity:0.5}.load-button.loading.svelte-rvz6y.svelte-rvz6y{pointer-events:none}.highlight.svelte-rvz6y.svelte-rvz6y{cursor:pointer;transition:0.3s}.highlight.svelte-rvz6y.svelte-rvz6y:hover{background-color:#ddd}.spinner.svelte-rvz6y.svelte-rvz6y{display:block;border-top:2px solid var(--text-on-primary);border-bottom:2px solid var(--text-on-primary);border-left:2px solid transparent;border-right:2px solid transparent;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:1rem;height:1rem;margin-right:0.5rem;-webkit-animation:svelte-rvz6y-spin 1s linear infinite;-moz-animation:svelte-rvz6y-spin 1s linear infinite;-o-animation:svelte-rvz6y-spin 1s linear infinite;animation:svelte-rvz6y-spin 1s linear infinite}.arrange-columns-dialog.svelte-rvz6y.svelte-rvz6y{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;display:flex;justify-content:center}.arrange-columns-dialog-backdrop.svelte-rvz6y.svelte-rvz6y{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0, 0, 0, 0.5);z-index:1001}.arrange-columns-dialog-inner.svelte-rvz6y.svelte-rvz6y{width:500px;max-width:100%;z-index:1002;background-color:white;border-radius:0.25rem;box-shadow:0 3px 12px rgba(0, 0, 0, 0.16);margin-top:50px;padding:1rem;display:flex;flex-direction:column;height:min-content}.arrange-columns-dialog-inner.svelte-rvz6y main.svelte-rvz6y{display:flex;flex-direction:column;flex:1;padding-bottom:1rem;max-height:400px;overflow-y:auto}@-webkit-keyframes svelte-rvz6y-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes svelte-rvz6y-spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes svelte-rvz6y-spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes svelte-rvz6y-spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}")}function le(n,e,t){const r=n.slice();return r[47]=e[t],r[48]=e,r[49]=t,r}function ne(n,e,t){const r=n.slice();return r[50]=e[t],r[52]=t,r}function oe(n,e,t){const r=n.slice();return r[53]=e[t],r}function se(n,e,t){const r=n.slice();return r[53]=e[t],r[52]=t,r}function ae(n){let e,t,r,l=n[6]&&ie(n),o=n[7]&&ce(n),s=n[8]&&de(n);return{c(){e=z("div"),l&&l.c(),t=L(),o&&o.c(),r=L(),s&&s.c(),m(e,"class","table-header svelte-rvz6y")},m(i,c){f(i,e,c),l&&l.m(e,null),k(e,t),o&&o.m(e,null),k(e,r),s&&s.m(e,null)},p(i,c){i[6]?l?l.p(i,c):(l=ie(i),l.c(),l.m(e,t)):l&&(l.d(1),l=null),i[7]?o?o.p(i,c):(o=ce(i),o.c(),o.m(e,r)):o&&(o.d(1),o=null),i[8]?s?s.p(i,c):(s=de(i),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(i){i&&b(e),l&&l.d(),o&&o.d(),s&&s.d()}}}function ie(n){let e,t,r=n[4].ARRANGE_COLUMNS+"",l,o,s;return{c(){e=G(`\xA0
        `),t=z("button"),l=G(r),m(t,"type","button"),m(t,"class","table-button settings-button svelte-rvz6y")},m(i,c){f(i,e,c),f(i,t,c),k(t,l),o||(s=T(t,"click",n[26]),o=!0)},p(i,c){c[0]&16&&r!==(r=i[4].ARRANGE_COLUMNS+"")&&U(l,r)},d(i){i&&(b(e),b(t)),o=!1,s()}}}function ce(n){let e,t,r=n[4].IMPORT+"",l,o,s;return{c(){e=G(`\xA0
        `),t=z("button"),l=G(r),m(t,"type","button"),m(t,"class","table-button settings-button svelte-rvz6y")},m(i,c){f(i,e,c),f(i,t,c),k(t,l),o||(s=T(t,"click",n[36]),o=!0)},p(i,c){c[0]&16&&r!==(r=i[4].IMPORT+"")&&U(l,r)},d(i){i&&(b(e),b(t)),o=!1,s()}}}function de(n){let e,t,r,l;function o(c,w){return c[13]?et:Ye}let s=o(n),i=s(n);return{c(){e=G(`\xA0
        `),t=z("button"),i.c(),m(t,"type","button"),m(t,"class","table-button settings-button svelte-rvz6y"),t.disabled=n[13],_(t,"loading",n[13])},m(c,w){f(c,e,w),f(c,t,w),i.m(t,null),r||(l=T(t,"click",n[24]),r=!0)},p(c,w){s===(s=o(c))&&i?i.p(c,w):(i.d(1),i=s(c),i&&(i.c(),i.m(t,null))),w[0]&8192&&(t.disabled=c[13]),w[0]&8192&&_(t,"loading",c[13])},d(c){c&&(b(e),b(t)),i.d(),r=!1,l()}}}function Ye(n){let e=n[4].EXPORT+"",t;return{c(){t=G(e)},m(r,l){f(r,t,l)},p(r,l){l[0]&16&&e!==(e=r[4].EXPORT+"")&&U(t,e)},d(r){r&&b(t)}}}function et(n){let e,t,r=n[4].LOADING+"",l;return{c(){e=z("span"),t=L(),l=G(r),m(e,"class","spinner svelte-rvz6y")},m(o,s){f(o,e,s),f(o,t,s),f(o,l,s)},p(o,s){s[0]&16&&r!==(r=o[4].LOADING+"")&&U(l,r)},d(o){o&&(b(e),b(t),b(l))}}}function ue(n){let e,t=V(n[14]),r=[];for(let l=0;l<t.length;l+=1)r[l]=me(se(n,t,l));return{c(){e=z("tr");for(let l=0;l<r.length;l+=1)r[l].c()},m(l,o){f(l,e,o);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(e,null)},p(l,o){if(o[0]&34619426){t=V(l[14]);let s;for(s=0;s<t.length;s+=1){const i=se(l,t,s);r[s]?r[s].p(i,o):(r[s]=me(i),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(l){l&&b(e),J(r,l)}}}function ge(n){let e,t=n[1].direction==="asc"?"\u2191":"\u2193",r;return{c(){e=z("span"),r=G(t),m(e,"class","sortable svelte-rvz6y")},m(l,o){f(l,e,o),k(e,r)},p(l,o){o[0]&2&&t!==(t=l[1].direction==="asc"?"\u2191":"\u2193")&&U(r,t)},d(l){l&&b(e)}}}function me(n){var e;let t,r,l=n[53].label+"",o,s,i,c;function w(...g){return n[37](n[53],...g)}let y=((e=n[1])==null?void 0:e.key)===n[53].key&&ge(n);function $(){return n[38](n[53])}function v(...g){return n[39](n[52],...g)}return{c(){t=z("th"),r=z("span"),o=L(),y&&y.c(),s=L(),m(r,"draggable",n[5]),m(r,"tabindex","-1"),m(r,"role","button"),m(r,"aria-label","Drag handle"),m(r,"class","svelte-rvz6y"),_(r,"draggable-column",n[5]),m(t,"class","svelte-rvz6y")},m(g,S){f(g,t,S),k(t,r),r.innerHTML=l,k(t,o),y&&y.m(t,null),k(t,s),i||(c=[T(r,"dragstart",w),T(t,"click",$),T(t,"drop",v),T(t,"dragover",dt)],i=!0)},p(g,S){var D;n=g,S[0]&16384&&l!==(l=n[53].label+"")&&(r.innerHTML=l),S[0]&32&&m(r,"draggable",n[5]),S[0]&32&&_(r,"draggable-column",n[5]),((D=n[1])==null?void 0:D.key)===n[53].key?y?y.p(n,S):(y=ge(n),y.c(),y.m(t,s)):y&&(y.d(1),y=null)},d(g){g&&b(t),y&&y.d(),i=!1,Q(c)}}}function pe(n){let e,t=V(n[2]),r=[];for(let l=0;l<t.length;l+=1)r[l]=he(ne(n,t,l));return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Xe()},m(l,o){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,o);f(l,e,o)},p(l,o){if(o[0]&4735492){t=V(l[2]);let s;for(s=0;s<t.length;s+=1){const i=ne(l,t,s);r[s]?r[s].p(i,o):(r[s]=he(i),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(l){l&&b(e),J(r,l)}}}function tt(n){return{c:H,m:H,p:H,d:H}}function rt(n){let e,t=n[56]+"";return{c(){e=z("span"),m(e,"class","cell svelte-rvz6y")},m(r,l){f(r,e,l),e.innerHTML=t},p(r,l){l[0]&16388&&t!==(t=r[56]+"")&&(e.innerHTML=t)},d(r){r&&b(e)}}}function lt(n){return{c:H,m:H,p:H,d:H}}function ve(n){let e,t,r,l,o={ctx:n,current:null,token:null,hasCatch:!1,pending:lt,then:rt,catch:tt,value:56};re(t=n[19](n[53],n[50],n[52]),o);function s(...i){return n[40](n[50],n[52],n[53],...i)}return{c(){e=z("td"),o.block.c(),m(e,"class","svelte-rvz6y")},m(i,c){f(i,e,c),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null,r||(l=T(e,"click",s),r=!0)},p(i,c){n=i,o.ctx=n,c[0]&16388&&t!==(t=n[19](n[53],n[50],n[52]))&&re(t,o)||Ke(o,n,c)},d(i){i&&b(e),o.block.d(),o.token=null,o=null,r=!1,l()}}}function he(n){let e,t,r=V(n[14]),l=[];for(let o=0;o<r.length;o+=1)l[o]=ve(oe(n,r,o));return{c(){e=z("tr");for(let o=0;o<l.length;o+=1)l[o].c();t=L(),m(e,"class","svelte-rvz6y"),_(e,"highlight",n[9])},m(o,s){f(o,e,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null);k(e,t)},p(o,s){if(s[0]&4734980){r=V(o[14]);let i;for(i=0;i<r.length;i+=1){const c=oe(o,r,i);l[i]?l[i].p(c,s):(l[i]=ve(c),l[i].c(),l[i].m(e,t))}for(;i<l.length;i+=1)l[i].d(1);l.length=r.length}s[0]&512&&_(e,"highlight",o[9])},d(o){o&&b(e),J(l,o)}}}function nt(n){let e=n[4].LOAD_MORE+"",t;return{c(){t=G(e)},m(r,l){f(r,t,l)},p(r,l){l[0]&16&&e!==(e=r[4].LOAD_MORE+"")&&U(t,e)},d(r){r&&b(t)}}}function ot(n){let e,t,r=n[4].LOADING+"",l;return{c(){e=z("span"),t=L(),l=G(r),m(e,"class","spinner svelte-rvz6y")},m(o,s){f(o,e,s),f(o,t,s),f(o,l,s)},p(o,s){s[0]&16&&r!==(r=o[4].LOADING+"")&&U(l,r)},d(o){o&&(b(e),b(t),b(l))}}}function fe(n){let e,t,r,l;return{c(){e=z("jp-select"),X(e,"label",t=n[4].PAGE_SIZE),X(e,"options",n[18]),X(e,"value",n[0])},m(o,s){f(o,e,s),r||(l=T(e,"value",n[23]),r=!0)},p(o,s){s[0]&16&&t!==(t=o[4].PAGE_SIZE)&&X(e,"label",t),s[0]&1&&X(e,"value",o[0])},d(o){o&&b(e),r=!1,l()}}}function be(n){let e,t,r,l,o,s,i,c,w,y,$=V(n[15]),v=[];for(let d=0;d<$.length;d+=1)v[d]=ye(le(n,$,d));function g(d,x){return d[11]?at:st}let S=g(n),D=S(n);return{c(){e=z("div"),t=z("div"),r=L(),l=z("form"),o=z("main");for(let d=0;d<v.length;d+=1)v[d].c();s=L(),i=z("footer"),c=z("button"),D.c(),m(t,"class","arrange-columns-dialog-backdrop svelte-rvz6y"),m(o,"class","svelte-rvz6y"),m(c,"type","submit"),m(c,"class","table-button load-button svelte-rvz6y"),c.disabled=n[16],_(c,"loading",n[16]),m(l,"class","arrange-columns-dialog-inner svelte-rvz6y"),m(e,"class","arrange-columns-dialog svelte-rvz6y")},m(d,x){f(d,e,x),k(e,t),k(e,r),k(e,l),k(l,o);for(let h=0;h<v.length;h+=1)v[h]&&v[h].m(o,null);k(l,s),k(l,i),k(i,c),D.m(c,null),w||(y=[T(t,"click",n[41]),T(l,"submit",Fe(n[28]))],w=!0)},p(d,x){if(x[0]&32768){$=V(d[15]);let h;for(h=0;h<$.length;h+=1){const j=le(d,$,h);v[h]?v[h].p(j,x):(v[h]=ye(j),v[h].c(),v[h].m(o,null))}for(;h<v.length;h+=1)v[h].d(1);v.length=$.length}S===(S=g(d))&&D?D.p(d,x):(D.d(1),D=S(d),D&&(D.c(),D.m(c,null))),x[0]&65536&&(c.disabled=d[16]),x[0]&65536&&_(c,"loading",d[16])},d(d){d&&b(e),J(v,d),D.d(),w=!1,Q(y)}}}function ye(n){let e,t,r,l,o=n[47].label+"",s,i,c;function w(){n[42].call(t,n[48],n[49])}return{c(){e=z("label"),t=z("input"),r=L(),l=z("span"),s=L(),m(t,"type","checkbox"),t.__value=!0,Je(t,t.__value)},m(y,$){f(y,e,$),k(e,t),t.checked=n[47].enabled,k(e,r),k(e,l),l.innerHTML=o,k(e,s),i||(c=T(t,"change",w),i=!0)},p(y,$){n=y,$[0]&32768&&(t.checked=n[47].enabled),$[0]&32768&&o!==(o=n[47].label+"")&&(l.innerHTML=o)},d(y){y&&b(e),i=!1,c()}}}function st(n){let e=n[4].SAVE+"",t;return{c(){t=G(e)},m(r,l){f(r,t,l)},p(r,l){l[0]&16&&e!==(e=r[4].SAVE+"")&&U(t,e)},d(r){r&&b(t)}}}function at(n){let e,t,r=n[4].LOADING+"",l;return{c(){e=z("span"),t=L(),l=G(r),m(e,"class","spinner svelte-rvz6y")},m(o,s){f(o,e,s),f(o,t,s),f(o,l,s)},p(o,s){s[0]&16&&r!==(r=o[4].LOADING+"")&&U(l,r)},d(o){o&&(b(e),b(t),b(l))}}}function it(n){let e,t,r,l,o,s,i,c,w,y,$,v,g,S,D,d=(n[6]||n[7]||n[8])&&ae(n),x=n[14]&&ue(n),h=n[2]&&pe(n);function j(u,R){return u[11]?ot:nt}let B=j(n),E=B(n),C=n[10].length>1&&fe(n),A=n[3]&&be(n);return{c(){e=z("div"),d&&d.c(),t=L(),r=z("div"),l=z("table"),x&&x.c(),o=L(),h&&h.c(),s=L(),i=z("div"),c=z("button"),E.c(),y=L(),C&&C.c(),$=L(),A&&A.c(),v=L(),g=z("input"),m(l,"class","svelte-rvz6y"),m(r,"class","table-container svelte-rvz6y"),m(c,"type","button"),m(c,"class","table-button load-button svelte-rvz6y"),c.disabled=w=!n[12],_(c,"loading",n[11]),m(i,"class","table-actions svelte-rvz6y"),m(e,"class","table-card svelte-rvz6y"),m(g,"type","file"),m(g,"accept",".csv"),g.hidden=!0},m(u,R){f(u,e,R),d&&d.m(e,null),k(e,t),k(e,r),k(r,l),x&&x.m(l,null),k(l,o),h&&h.m(l,null),k(e,s),k(e,i),k(i,c),E.m(c,null),k(i,y),C&&C.m(i,null),f(u,$,R),A&&A.m(u,R),f(u,v,R),f(u,g,R),n[43](g),S||(D=[T(c,"click",n[21]),T(g,"change",n[27])],S=!0)},p(u,R){u[6]||u[7]||u[8]?d?d.p(u,R):(d=ae(u),d.c(),d.m(e,t)):d&&(d.d(1),d=null),u[14]?x?x.p(u,R):(x=ue(u),x.c(),x.m(l,o)):x&&(x.d(1),x=null),u[2]?h?h.p(u,R):(h=pe(u),h.c(),h.m(l,null)):h&&(h.d(1),h=null),B===(B=j(u))&&E?E.p(u,R):(E.d(1),E=B(u),E&&(E.c(),E.m(c,null))),R[0]&4096&&w!==(w=!u[12])&&(c.disabled=w),R[0]&2048&&_(c,"loading",u[11]),u[10].length>1?C?C.p(u,R):(C=fe(u),C.c(),C.m(i,null)):C&&(C.d(1),C=null),u[3]?A?A.p(u,R):(A=be(u),A.c(),A.m(v.parentNode,v)):A&&(A.d(1),A=null)},i:H,o:H,d(u){u&&(b(e),b($),b(v),b(g)),d&&d.d(),x&&x.d(),h&&h.d(),E.d(),C&&C.d(),A&&A.d(u),n[43](null),S=!1,Q(D)}}}function ct(n,e){n.dataTransfer.setData("text/plain",e.key)}function dt(n){n.preventDefault()}function ut(n,e,t){let{wording:r={ARRANGE_COLUMNS:"Arrange columns",EXPORT:"Export",IMPORT:"Import",LOADING:"Loading",LOAD_MORE:"Load more",PAGE_SIZE:"Page size",SAVE:"Save"}}=e,{allowArrangeColumns:l=!0}=e,{showArrangingColumns:o=!0}=e,{showImport:s=!0}=e,{showExport:i=!0}=e,{rowClickable:c=!1}=e,{headers:w=[]}=e,{pageSizes:y=[10,25,50,100]}=e,{pageSize:$=y[0]}=e,{sort:v}=e,{service:g}=e,{id:S}=e,{getData:D=async()=>{const a=await g.get(v,$);t(2,d=a.rows),t(12,B=a.hasMore),t(11,j=!1)}}=e,{rows:d=[]}=e,{arrangeColumnDialog:x=!1}=e,h=JSON.stringify(y.map(a=>({label:a,value:a}))),j=!0,B=!1,E=!1,C,A=[],u=[],R=!1,F,q=!1;const ze=Ve();async function xe(a,p="id"){t(2,d=d.filter(O=>O[p]!==a))}async function ke(a){t(2,d=[...d,a])}async function $e(a,p){t(2,d=d.map((O,I)=>I===p?{...O,...a}:O))}async function W(a,p,O){const{key:I,fallback:M,pipes:Z}=a;let N;try{N=Qe(p,I)}catch{return M||""}if(!Z)return N;for(const K of Z)N=await K(N,p,O);return N}async function Y(a){const{sortable:p}=a;if(!p)return;t(11,j=!0),t(1,v={key:a.key,direction:v?.key===a.key&&v.direction==="asc"?"desc":"asc"});const[O]=await Promise.all([g.get(v,$),g.adjustSort(v)]);t(2,d=O.rows),t(12,B=O.hasMore),t(11,j=!1)}async function Ce(){t(11,j=!0);const a=await g.loadMore(v,$);t(2,d=[...d,...a.rows]),t(12,B=a.hasMore),t(11,j=!1)}function ee(a,p,O,I){ze("rowClick",{row:a,index:p,header:O,originalEvent:I})}async function Ae(a){t(0,$=a.detail),await Promise.all([D(),g.adjustPageSize($)])}async function Oe(){if(E)return;t(13,E=!0);const a=await g.export(),p=await Promise.all(a.map(async(M,Z)=>(await Promise.all(C.map(N=>W({key:N.key,fallback:N.exportFallback||N.fallback,pipes:N.exportPipes||N.pipes||[]},M,Z)))).map(N=>`"${N||""}"`).join(","))),O=new Blob([[C.map(M=>M.label).map(M=>`"${M}"`).join(","),...p].join(`
`)],{type:"text/csv"}),I=document.createElement("a");I.href=URL.createObjectURL(O),I.download="export.csv",I.click(),t(13,E=!1)}async function te(a,p){a.preventDefault();const O=a.dataTransfer.getData("text/plain"),I=A.indexOf(O);I!==-1&&Number.isInteger(p)&&(A.splice(I,1),A.splice(Number(p),0,O),t(14,C=w.filter(M=>!M.disabled).sort((M,Z)=>{const N=A.indexOf(M.key),K=A.indexOf(Z.key);return N-K})),g.arrangeColumns&&await g.arrangeColumns(S,C.map(M=>M.key)))}function Se(){t(15,u=[...w].map(a=>(a.enabled=!a.disabled,a)).sort((a,p)=>{const O=A.indexOf(a.key),I=A.indexOf(p.key);return O-I})),t(3,x=!0)}async function De(a){if(q||!a.target.files||!a.target.files[0])return;q=!0;const p=await g.import(a.target.files[0]);p!=null&&p.length&&t(2,d=[...p,...d]),a.target.value="",q=!1}async function Re(){R||(t(16,R=!0),t(29,w=[...u].map(a=>(a.disabled=!a.enabled,delete a.enabled,a))),t(14,C=w.filter(a=>!a.disabled)),A=C.map(a=>a.key),g.arrangeColumns&&await g.arrangeColumns(S,C.map(a=>a.key)),t(16,R=!1),t(3,x=!1))}Ze(async()=>{if(g.getColumnOrder){const a=await g.getColumnOrder(S);a&&t(29,w=w.map(p=>(p.disabled=!a.includes(p.key),p)).sort((p,O)=>{const I=a.indexOf(p.key),M=a.indexOf(O.key);return I-M}))}t(14,C=w.filter(a=>!a.disabled)),A=C.map(a=>a.key),await D()});const Ie=()=>F.click(),Le=(a,p)=>ct(p,a),Ee=a=>Y(a),Me=(a,p)=>te(p,a),Ne=(a,p,O,I)=>ee(a,p,O,I),Pe=()=>t(3,x=!1);function Te(a,p){a[p].enabled=this.checked,t(15,u)}function je(a){qe[a?"unshift":"push"](()=>{F=a,t(17,F)})}return n.$$set=a=>{"wording"in a&&t(4,r=a.wording),"allowArrangeColumns"in a&&t(5,l=a.allowArrangeColumns),"showArrangingColumns"in a&&t(6,o=a.showArrangingColumns),"showImport"in a&&t(7,s=a.showImport),"showExport"in a&&t(8,i=a.showExport),"rowClickable"in a&&t(9,c=a.rowClickable),"headers"in a&&t(29,w=a.headers),"pageSizes"in a&&t(10,y=a.pageSizes),"pageSize"in a&&t(0,$=a.pageSize),"sort"in a&&t(1,v=a.sort),"service"in a&&t(30,g=a.service),"id"in a&&t(31,S=a.id),"getData"in a&&t(32,D=a.getData),"rows"in a&&t(2,d=a.rows),"arrangeColumnDialog"in a&&t(3,x=a.arrangeColumnDialog)},[$,v,d,x,r,l,o,s,i,c,y,j,B,E,C,u,R,F,h,W,Y,Ce,ee,Ae,Oe,te,Se,De,Re,w,g,S,D,xe,ke,$e,Ie,Le,Ee,Me,Ne,Pe,Te,je]}class we extends _e{constructor(e){super(),He(this,e,ut,it,Be,{wording:4,allowArrangeColumns:5,showArrangingColumns:6,showImport:7,showExport:8,rowClickable:9,headers:29,pageSizes:10,pageSize:0,sort:1,service:30,id:31,getData:32,rows:2,arrangeColumnDialog:3,removeRow:33,addRow:34,updateRow:35},We,[-1,-1])}get wording(){return this.$$.ctx[4]}set wording(e){this.$$set({wording:e}),P()}get allowArrangeColumns(){return this.$$.ctx[5]}set allowArrangeColumns(e){this.$$set({allowArrangeColumns:e}),P()}get showArrangingColumns(){return this.$$.ctx[6]}set showArrangingColumns(e){this.$$set({showArrangingColumns:e}),P()}get showImport(){return this.$$.ctx[7]}set showImport(e){this.$$set({showImport:e}),P()}get showExport(){return this.$$.ctx[8]}set showExport(e){this.$$set({showExport:e}),P()}get rowClickable(){return this.$$.ctx[9]}set rowClickable(e){this.$$set({rowClickable:e}),P()}get headers(){return this.$$.ctx[29]}set headers(e){this.$$set({headers:e}),P()}get pageSizes(){return this.$$.ctx[10]}set pageSizes(e){this.$$set({pageSizes:e}),P()}get pageSize(){return this.$$.ctx[0]}set pageSize(e){this.$$set({pageSize:e}),P()}get sort(){return this.$$.ctx[1]}set sort(e){this.$$set({sort:e}),P()}get service(){return this.$$.ctx[30]}set service(e){this.$$set({service:e}),P()}get id(){return this.$$.ctx[31]}set id(e){this.$$set({id:e}),P()}get getData(){return this.$$.ctx[32]}set getData(e){this.$$set({getData:e}),P()}get rows(){return this.$$.ctx[2]}set rows(e){this.$$set({rows:e}),P()}get arrangeColumnDialog(){return this.$$.ctx[3]}set arrangeColumnDialog(e){this.$$set({arrangeColumnDialog:e}),P()}get removeRow(){return this.$$.ctx[33]}get addRow(){return this.$$.ctx[34]}get updateRow(){return this.$$.ctx[35]}}try{customElements.define("jp-async-table",Ge(we,{wording:{},allowArrangeColumns:{type:"Boolean"},showArrangingColumns:{type:"Boolean"},showImport:{type:"Boolean"},showExport:{type:"Boolean"},rowClickable:{type:"Boolean"},headers:{},pageSizes:{},pageSize:{},sort:{},service:{},id:{},getData:{},rows:{},arrangeColumnDialog:{type:"Boolean"}},[],["removeRow","addRow","updateRow"],!1));}catch{};export{we as default};
