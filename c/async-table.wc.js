import{c as un,S as dn,i as pn,o as S,s as gn,e as v,l as E,d as b,v as G,f as y,p as j,m as R,w as M,k,x as fn,G as hn,z as B,B as U,A,C as Z,D as ne,y as X,a1 as q,N as mn,r as ce,n as bn,E as le,F as ge,Q as fe,Y as yn,O as kn}from"./svelte.js";import"./index.js";import{get as $n}from"./json-pointer.js";function he(l,n,e){const t=l.slice();return t[61]=n[e],t[62]=n,t[63]=e,t}function me(l,n,e){const t=l.slice();return t[64]=n[e],t[66]=e,t}function be(l,n,e){const t=l.slice();return t[67]=n[e],t[63]=e,t}function ye(l,n,e){const t=l.slice();return t[67]=n[e],t[63]=e,t}function ke(l){let n,e,t,a=l[7]&&$e(l),r=l[11]&&we(l),o=l[10]&&Ce(l);return{c(){n=v("div"),a&&a.c(),e=E(),r&&r.c(),t=E(),o&&o.c(),b(n,"class","jp-table-header")},m(c,i){y(c,n,i),a&&a.m(n,null),j(n,e),r&&r.m(n,null),j(n,t),o&&o.m(n,null)},p(c,i){c[7]?a?a.p(c,i):(a=$e(c),a.c(),a.m(n,e)):a&&(a.d(1),a=null),c[11]?r?r.p(c,i):(r=we(c),r.c(),r.m(n,t)):r&&(r.d(1),r=null),c[10]?o?o.p(c,i):(o=Ce(c),o.c(),o.m(n,null)):o&&(o.d(1),o=null)},d(c){c&&k(n),a&&a.d(),r&&r.d(),o&&o.d()}}}function $e(l){let n,e,t=l[5].ARRANGE_COLUMNS+"",a,r,o;return{c(){n=B(`\xA0
        `),e=v("button"),a=B(t),b(e,"type","button"),b(e,"class","jp-table-button")},m(c,i){y(c,n,i),y(c,e,i),j(e,a),r||(o=R(e,"click",l[35]),r=!0)},p(c,i){i[0]&32&&t!==(t=c[5].ARRANGE_COLUMNS+"")&&U(a,t)},d(c){c&&(k(n),k(e)),r=!1,o()}}}function we(l){let n,e,t=l[5].IMPORT+"",a,r,o;return{c(){n=B(`\xA0
        `),e=v("button"),a=B(t),b(e,"type","button"),b(e,"class","jp-table-button")},m(c,i){y(c,n,i),y(c,e,i),j(e,a),r||(o=R(e,"click",l[44]),r=!0)},p(c,i){i[0]&32&&t!==(t=c[5].IMPORT+"")&&U(a,t)},d(c){c&&(k(n),k(e)),r=!1,o()}}}function Ce(l){let n,e,t,a;function r(i,C){return i[18]?Cn:wn}let o=r(l),c=o(l);return{c(){n=B(`\xA0
        `),e=v("button"),c.c(),b(e,"type","button"),b(e,"class","jp-table-button"),e.disabled=l[18],A(e,"jp-table-loading",l[18])},m(i,C){y(i,n,C),y(i,e,C),c.m(e,null),t||(a=R(e,"click",l[30]),t=!0)},p(i,C){o===(o=r(i))&&c?c.p(i,C):(c.d(1),c=o(i),c&&(c.c(),c.m(e,null))),C[0]&262144&&(e.disabled=i[18]),C[0]&262144&&A(e,"jp-table-loading",i[18])},d(i){i&&(k(n),k(e)),c.d(),t=!1,a()}}}function wn(l){let n=l[5].EXPORT+"",e;return{c(){e=B(n)},m(t,a){y(t,e,a)},p(t,a){a[0]&32&&n!==(n=t[5].EXPORT+"")&&U(e,n)},d(t){t&&k(e)}}}function Cn(l){let n,e,t=l[5].LOADING+"",a;return{c(){n=v("span"),e=E(),a=B(t),b(n,"class","jp-table-spinner")},m(r,o){y(r,n,o),y(r,e,o),y(r,a,o)},p(r,o){o[0]&32&&t!==(t=r[5].LOADING+"")&&U(a,t)},d(r){r&&(k(n),k(e),k(a))}}}function ve(l){let n,e=Z(l[0]),t=[];for(let a=0;a<e.length;a+=1)t[a]=De(ye(l,e,a));return{c(){n=v("tr");for(let a=0;a<t.length;a+=1)t[a].c()},m(a,r){y(a,n,r);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(n,null)},p(a,r){if(r[0]&171967301|r[1]&15){e=Z(a[0]);let o;for(o=0;o<e.length;o+=1){const c=ye(a,e,o);t[o]?t[o].p(c,r):(t[o]=De(c),t[o].c(),t[o].m(n,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=e.length}},d(a){a&&k(n),ne(t,a)}}}function je(l){var n;let e,t,a,r,o,c,i,C,D={ctx:l,current:null,token:null,hasCatch:!1,pending:xn,then:jn,catch:vn,value:69};le(a=Ne(l[67]),D);let p=((n=l[2])==null?void 0:n.key)===l[67].key&&xe(l);function x(){return l[45](l[67])}function I(...m){return l[46](l[67],...m)}function w(...m){return l[47](l[67],l[63],...m)}function f(){return l[48](l[67])}function g(...m){return l[49](l[67],l[63],...m)}return{c(){e=v("th"),t=v("span"),D.block.c(),r=E(),p&&p.c(),o=E(),b(t,"tabindex","-1"),b(t,"role","button"),b(t,"aria-label","Drag handle"),A(t,"jp-table-draggable-column",l[6]&&l[67].key!==L),G(e,"background-color",l[22]===l[63]?"#D3D3D3":l[25][l[63]%l[25].length]),b(e,"draggable",c=l[6]&&!l[67].disableOrganize&&l[67].key!==L),A(e,"jp-table-sortable",l[6]&&l[67].sortable),A(e,"jp-table-sticky-first",l[8]&&l[63]===0),A(e,"jp-table-sticky-last",l[63]===l[0].length-1&&l[9]),A(e,"jp-table-no-cursor",l[67].key===L)},m(m,u){y(m,e,u),j(e,t),D.block.m(t,D.anchor=null),D.mount=()=>t,D.anchor=null,j(e,r),p&&p.m(e,null),j(e,o),i||(C=[R(e,"click",x),R(e,"dragstart",I),R(e,"dragover",w),R(e,"dragleave",f),R(e,"drop",g)],i=!0)},p(m,u){var h;l=m,D.ctx=l,u[0]&1&&a!==(a=Ne(l[67]))&&le(a,D)||ge(D,l,u),u[0]&65&&A(t,"jp-table-draggable-column",l[6]&&l[67].key!==L),((h=l[2])==null?void 0:h.key)===l[67].key?p?p.p(l,u):(p=xe(l),p.c(),p.m(e,o)):p&&(p.d(1),p=null),u[0]&4194304&&G(e,"background-color",l[22]===l[63]?"#D3D3D3":l[25][l[63]%l[25].length]),u[0]&65&&c!==(c=l[6]&&!l[67].disableOrganize&&l[67].key!==L)&&b(e,"draggable",c),u[0]&65&&A(e,"jp-table-sortable",l[6]&&l[67].sortable),u[0]&256&&A(e,"jp-table-sticky-first",l[8]&&l[63]===0),u[0]&513&&A(e,"jp-table-sticky-last",l[63]===l[0].length-1&&l[9]),u[0]&1&&A(e,"jp-table-no-cursor",l[67].key===L)},d(m){m&&k(e),D.block.d(),D.token=null,D=null,p&&p.d(),i=!1,ce(C)}}}function vn(l){return{c:M,m:M,p:M,d:M}}function jn(l){let n,e=l[69]+"",t;return{c(){n=new kn(!1),t=X(),n.a=t},m(a,r){n.m(e,a,r),y(a,t,r)},p(a,r){r[0]&1&&e!==(e=a[69]+"")&&n.p(e)},d(a){a&&(k(t),n.d())}}}function xn(l){return{c:M,m:M,p:M,d:M}}function xe(l){let n,e=l[2].direction==="asc"?"\u2191":"\u2193",t;return{c(){n=v("span"),t=B(e),b(n,"class","jp-table-sortable")},m(a,r){y(a,n,r),j(n,t)},p(a,r){r[0]&4&&e!==(e=a[2].direction==="asc"?"\u2191":"\u2193")&&U(t,e)},d(a){a&&k(n)}}}function De(l){let n,e=!l[67].disabled&&je(l);return{c(){e&&e.c(),n=X()},m(t,a){e&&e.m(t,a),y(t,n,a)},p(t,a){t[67].disabled?e&&(e.d(1),e=null):e?e.p(t,a):(e=je(t),e.c(),e.m(n.parentNode,n))},d(t){t&&k(n),e&&e.d(t)}}}function Ae(l){let n,e=Z(l[3]),t=[];for(let a=0;a<e.length;a+=1)t[a]=Se(me(l,e,a));return{c(){for(let a=0;a<t.length;a+=1)t[a].c();n=X()},m(a,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(a,r);y(a,n,r)},p(a,r){if(r[0]&104862537){e=Z(a[3]);let o;for(o=0;o<e.length;o+=1){const c=me(a,e,o);t[o]?t[o].p(c,r):(t[o]=Se(c),t[o].c(),t[o].m(n.parentNode,n))}for(;o<t.length;o+=1)t[o].d(1);t.length=e.length}},d(a){a&&k(n),ne(t,a)}}}function ze(l){let n,e,t={ctx:l,current:null,token:null,hasCatch:!1,pending:zn,then:An,catch:Dn,value:69};return le(e=l[26](l[67],l[64],l[66]),t),{c(){n=v("td"),t.block.c(),G(n,"background-color",l[22]===l[63]?"#D3D3D3":l[25][l[63]%l[25].length]),A(n,"jp-table-sortable",l[6]&&l[67].sortable),A(n,"jp-table-sticky-first",l[8]&&l[63]===0),A(n,"jp-table-sticky-last",l[63]===l[0].length-1&&l[9])},m(a,r){y(a,n,r),t.block.m(n,t.anchor=null),t.mount=()=>n,t.anchor=null},p(a,r){l=a,t.ctx=l,r[0]&9&&e!==(e=l[26](l[67],l[64],l[66]))&&le(e,t)||ge(t,l,r),r[0]&4194304&&G(n,"background-color",l[22]===l[63]?"#D3D3D3":l[25][l[63]%l[25].length]),r[0]&65&&A(n,"jp-table-sortable",l[6]&&l[67].sortable),r[0]&256&&A(n,"jp-table-sticky-first",l[8]&&l[63]===0),r[0]&513&&A(n,"jp-table-sticky-last",l[63]===l[0].length-1&&l[9])},d(a){a&&k(n),t.block.d(),t.token=null,t=null}}}function Dn(l){return{c:M,m:M,p:M,d:M}}function An(l){let n,e=l[69]+"";return{c(){n=v("span"),b(n,"class","jp-table-cell")},m(t,a){y(t,n,a),n.innerHTML=e},p(t,a){a[0]&9&&e!==(e=t[69]+"")&&(n.innerHTML=e)},d(t){t&&k(n)}}}function zn(l){return{c:M,m:M,p:M,d:M}}function Le(l){let n,e=!l[67].disabled&&ze(l);return{c(){e&&e.c(),n=X()},m(t,a){e&&e.m(t,a),y(t,n,a)},p(t,a){t[67].disabled?e&&(e.d(1),e=null):e?e.p(t,a):(e=ze(t),e.c(),e.m(n.parentNode,n))},d(t){t&&k(n),e&&e.d(t)}}}function Se(l){let n,e,t=Z(l[0]),a=[];for(let r=0;r<t.length;r+=1)a[r]=Le(be(l,t,r));return{c(){n=v("tr");for(let r=0;r<a.length;r+=1)a[r].c();e=E(),A(n,"jp-table-highlight",l[12])},m(r,o){y(r,n,o);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(n,null);j(n,e)},p(r,o){if(o[0]&104858441){t=Z(r[0]);let c;for(c=0;c<t.length;c+=1){const i=be(r,t,c);a[c]?a[c].p(i,o):(a[c]=Le(i),a[c].c(),a[c].m(n,e))}for(;c<a.length;c+=1)a[c].d(1);a.length=t.length}o[0]&4096&&A(n,"jp-table-highlight",r[12])},d(r){r&&k(n),ne(a,r)}}}function Ee(l){let n,e,t,a;function r(i,C){return i[16]?Sn:Ln}let o=r(l),c=o(l);return{c(){n=v("button"),c.c(),b(n,"type","button"),b(n,"class","jp-table-button"),n.disabled=e=!l[17],A(n,"jp-table-loading",l[16])},m(i,C){y(i,n,C),c.m(n,null),t||(a=R(n,"click",l[28]),t=!0)},p(i,C){o===(o=r(i))&&c?c.p(i,C):(c.d(1),c=o(i),c&&(c.c(),c.m(n,null))),C[0]&131072&&e!==(e=!i[17])&&(n.disabled=e),C[0]&65536&&A(n,"jp-table-loading",i[16])},d(i){i&&k(n),c.d(),t=!1,a()}}}function Ln(l){let n=l[5].LOAD_MORE+"",e;return{c(){e=B(n)},m(t,a){y(t,e,a)},p(t,a){a[0]&32&&n!==(n=t[5].LOAD_MORE+"")&&U(e,n)},d(t){t&&k(e)}}}function Sn(l){let n,e,t=l[5].LOADING+"",a;return{c(){n=v("span"),e=E(),a=B(t),b(n,"class","jp-table-spinner")},m(r,o){y(r,n,o),y(r,e,o),y(r,a,o)},p(r,o){o[0]&32&&t!==(t=r[5].LOADING+"")&&U(a,t)},d(r){r&&(k(n),k(e),k(a))}}}function Oe(l){let n,e,t,a;return{c(){n=v("jp-select"),q(n,"label",e=l[5].PAGE_SIZE),q(n,"options",l[24]),q(n,"value",l[1])},m(r,o){y(r,n,o),t||(a=R(n,"value",l[29]),t=!0)},p(r,o){o[0]&32&&e!==(e=r[5].PAGE_SIZE)&&q(n,"label",e),o[0]&2&&q(n,"value",r[1])},d(r){r&&k(n),t=!1,a()}}}function Re(l){let n,e,t,a,r,o,c,i,C,D,p=Z(l[19]),x=[];for(let g=0;g<p.length;g+=1)x[g]=Ie(he(l,p,g));function I(g,m){return g[16]?On:En}let w=I(l),f=w(l);return{c(){n=v("div"),e=v("div"),t=E(),a=v("form"),r=v("main");for(let g=0;g<x.length;g+=1)x[g].c();o=E(),c=v("footer"),i=v("button"),f.c(),b(e,"class","jp-table-arrange-columns-dialog-backdrop"),b(i,"type","submit"),b(i,"class","jp-table-button"),i.disabled=l[20],A(i,"jp-table-loading",l[20]),b(a,"class","jp-table-arrange-columns-dialog-inner"),b(n,"class","jp-table-arrange-columns-dialog")},m(g,m){y(g,n,m),j(n,e),j(n,t),j(n,a),j(a,r);for(let u=0;u<x.length;u+=1)x[u]&&x[u].m(r,null);j(a,o),j(a,c),j(c,i),f.m(i,null),C||(D=[R(e,"click",l[50]),R(a,"submit",mn(l[37]))],C=!0)},p(g,m){if(m[0]&42467328|m[1]&15){p=Z(g[19]);let u;for(u=0;u<p.length;u+=1){const h=he(g,p,u);x[u]?x[u].p(h,m):(x[u]=Ie(h),x[u].c(),x[u].m(r,null))}for(;u<x.length;u+=1)x[u].d(1);x.length=p.length}w===(w=I(g))&&f?f.p(g,m):(f.d(1),f=w(g),f&&(f.c(),f.m(i,null))),m[0]&1048576&&(i.disabled=g[20]),m[0]&1048576&&A(i,"jp-table-loading",g[20])},d(g){g&&k(n),ne(x,g),f.d(),C=!1,ce(D)}}}function Me(l){let n,e,t,a,r,o,c,i,C=l[61].label+"",D,p,x;function I(...u){return l[51](l[61],...u)}function w(...u){return l[52](l[61],l[63],...u)}function f(){return l[53](l[61])}function g(...u){return l[54](l[61],l[63],...u)}function m(){l[55].call(o,l[62],l[63])}return{c(){n=v("label"),e=v("span"),t=fe("svg"),a=fe("path"),r=E(),o=v("input"),c=E(),i=v("span"),D=E(),b(a,"d","M160-360v-80h640v80H160Zm0-160v-80h640v80H160Z"),b(t,"xmlns","http://www.w3.org/2000/svg"),b(t,"height","24px"),b(t,"viewBox","0 -960 960 960"),b(t,"width","24px"),b(t,"fill","#5f6368"),b(e,"class","jp-table-material-symbols-outlined drag-handle"),b(e,"draggable","true"),G(e,"cursor",l[61].key===L?"default":"grab"),G(e,"pointer-events",l[61].key===L?"none":"auto"),A(e,"jp-table-no-cursor",l[61].key===L),b(o,"type","checkbox"),o.__value=!0,yn(o,o.__value),b(n,"class","jp-table-arrange-column-label"),G(n,"background-color",l[23]===l[63]?"#D3D3D3":l[25][l[63]%l[25].length])},m(u,h){y(u,n,h),j(n,e),j(e,t),j(t,a),j(n,r),j(n,o),o.checked=l[61].enabled,j(n,c),j(n,i),i.innerHTML=C,j(n,D),p||(x=[R(e,"dragstart",I),R(e,"dragover",w),R(e,"dragleave",f),R(e,"drop",g),R(o,"change",m)],p=!0)},p(u,h){l=u,h[0]&524288&&G(e,"cursor",l[61].key===L?"default":"grab"),h[0]&524288&&G(e,"pointer-events",l[61].key===L?"none":"auto"),h[0]&524288&&A(e,"jp-table-no-cursor",l[61].key===L),h[0]&524288&&(o.checked=l[61].enabled),h[0]&524288&&C!==(C=l[61].label+"")&&(i.innerHTML=C),h[0]&8388608&&G(n,"background-color",l[23]===l[63]?"#D3D3D3":l[25][l[63]%l[25].length])},d(u){u&&k(n),p=!1,ce(x)}}}function Ie(l){let n,e=!l[61].disableToggle&&Me(l);return{c(){e&&e.c(),n=X()},m(t,a){e&&e.m(t,a),y(t,n,a)},p(t,a){t[61].disableToggle?e&&(e.d(1),e=null):e?e.p(t,a):(e=Me(t),e.c(),e.m(n.parentNode,n))},d(t){t&&k(n),e&&e.d(t)}}}function En(l){let n=l[5].SAVE+"",e;return{c(){e=B(n)},m(t,a){y(t,e,a)},p(t,a){a[0]&32&&n!==(n=t[5].SAVE+"")&&U(e,n)},d(t){t&&k(e)}}}function On(l){let n,e,t=l[5].LOADING+"",a;return{c(){n=v("span"),e=E(),a=B(t),b(n,"class","spinner")},m(r,o){y(r,n,o),y(r,e,o),y(r,a,o)},p(r,o){o[0]&32&&t!==(t=r[5].LOADING+"")&&U(a,t)},d(r){r&&(k(n),k(e),k(a))}}}function Rn(l){let n,e,t,a,r,o,c,i,C,D,p,x,I,w=(l[7]||l[11]||l[10])&&ke(l),f=l[0]&&ve(l),g=l[3]&&Ae(l),m=l[15]&&Ee(l),u=l[13].length>1&&Oe(l),h=l[4]&&Re(l);return{c(){n=v("div"),w&&w.c(),e=E(),t=v("div"),a=v("table"),f&&f.c(),r=E(),g&&g.c(),o=E(),c=v("div"),m&&m.c(),i=E(),u&&u.c(),C=E(),h&&h.c(),D=E(),p=v("input"),b(t,"class","jp-table-container"),G(t,"height",l[14]),b(c,"class","jp-table-actions"),b(n,"class","jp-table"),b(p,"type","file"),b(p,"accept",".csv"),p.hidden=!0},m($,N){y($,n,N),w&&w.m(n,null),j(n,e),j(n,t),j(t,a),f&&f.m(a,null),j(a,r),g&&g.m(a,null),j(n,o),j(n,c),m&&m.m(c,null),j(c,i),u&&u.m(c,null),y($,C,N),h&&h.m($,N),y($,D,N),y($,p,N),l[56](p),x||(I=R(p,"change",l[36]),x=!0)},p($,N){$[7]||$[11]||$[10]?w?w.p($,N):(w=ke($),w.c(),w.m(n,e)):w&&(w.d(1),w=null),$[0]?f?f.p($,N):(f=ve($),f.c(),f.m(a,r)):f&&(f.d(1),f=null),$[3]?g?g.p($,N):(g=Ae($),g.c(),g.m(a,null)):g&&(g.d(1),g=null),N[0]&16384&&G(t,"height",$[14]),$[15]?m?m.p($,N):(m=Ee($),m.c(),m.m(c,i)):m&&(m.d(1),m=null),$[13].length>1?u?u.p($,N):(u=Oe($),u.c(),u.m(c,null)):u&&(u.d(1),u=null),$[4]?h?h.p($,N):(h=Re($),h.c(),h.m(D.parentNode,D)):h&&(h.d(1),h=null)},i:M,o:M,d($){$&&(k(n),k(C),k(D),k(p)),w&&w.d(),f&&f.d(),g&&g.d(),m&&m.d(),u&&u.d(),h&&h.d($),l[56](null),x=!1,I()}}}const L="/name";async function Ne(l){const{label:n,headerPipes:e}=l;let t=n;if(!e)return t;for(const a of e)t=await a(t);return t}async function Te(){const l=document.querySelector(".jp-table-container");l&&l.scrollTo({top:0,behavior:"smooth"})}function Mn(l,n,e){let{wording:t={ARRANGE_COLUMNS:"Arrange columns",EXPORT:"Export",IMPORT:"Import",LOADING:"Loading",LOAD_MORE:"Load more",PAGE_SIZE:"Page size",SAVE:"Save"}}=n,{allowArrangeColumns:a=!0}=n,{showArrangingColumns:r=!0}=n,{freezeFirstColumn:o=!1}=n,{freezeLastColumn:c=!1}=n,{showExport:i=!0}=n,{showImport:C=!0}=n,{rowClickable:D=!1}=n,{headers:p=[]}=n,{pageSizes:x=[10,25,50,100]}=n,{pageSize:I=x[0]}=n,{sort:w}=n,{service:f}=n,{id:g}=n,{height:m=null}=n,{getData:u=async()=>{const s=await f.get(w,I);e(3,h=s.rows),e(17,J=s.hasMore),e(16,F=!1),Te()}}=n,{rows:h=[]}=n,{arrangeColumnDialog:$=!1}=n,{showLoadMore:N=!0}=n,Ge=JSON.stringify(x.map(s=>({label:s,value:s}))),F=!0,J=!1,Q=!1,V=[],Y=!1,K,te=!1;const Be=["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff"];fn();async function Pe(s,d="id"){e(3,h=h.filter(z=>z[d]!==s))}async function He(s){e(3,h=[...h,s])}async function Ue(s,d){e(3,h=h.map((z,T)=>T===d?{...z,...s}:z))}async function ie(s,d,z){const{key:T,fallback:_,pipes:O}=s;let H;try{H=$n(d,T)}catch{return _||""}if(!O)return H;for(const P of O)H=await P(H,d,z);return H}async function ue(s){const{sortable:d}=s;if(!d)return;e(16,F=!0),e(2,w={key:s.key,direction:w?.key===s.key&&w.direction==="asc"?"desc":"asc"});const z=[f.get(w,I)];f.adjustSort&&z.push(f.adjustSort(w));const[T]=await Promise.all(z);e(3,h=T.rows),e(17,J=T.hasMore),e(16,F=!1),Te()}async function Ze(){e(16,F=!0);const s=await f.loadMore(w,I);e(3,h=[...h,...s.rows]),e(17,J=s.hasMore),e(16,F=!1)}async function Fe(s){e(1,I=s.detail);const d=[u()];f.adjustPageSize&&d.push(f.adjustPageSize(I)),await Promise.all(d)}async function Ve(){if(Q)return;e(18,Q=!0);const s=p.filter(O=>!O.disabled),d=await f.export(),z=await Promise.all(d.map(async(O,H)=>(await Promise.all(s.map(P=>ie({key:P.key,fallback:P.exportFallback||P.fallback,pipes:P.exportPipes||P.pipes||[]},O,H)))).map(P=>`"${P||""}"`).join(","))),T=new Blob([[s.map(O=>O.label).map(O=>`"${O}"`).join(","),...z].join(`
`)],{type:"text/csv"}),_=document.createElement("a");_.href=URL.createObjectURL(T),_.download="export.csv",_.click(),e(18,Q=!1)}let de="",W=null,ee=null;function ae(s,d){d.disableOrganize||d.key===L||(de=d.key,s.dataTransfer.setData("text/plain",de))}function re(s,d){s.preventDefault(),p[d].key!==L&&(e(22,W=d),e(23,ee=d))}function oe(){e(22,W=null),e(23,ee=null)}async function se(s,d){if(s.preventDefault(),p[d].key===L)return;e(22,W=null),e(23,ee=null);const z=s.dataTransfer.getData("text/plain"),T=p.findIndex(_=>_.key===z);if(T!==-1&&T!==d){const _=[...p],O=[...V],[H]=_.splice(T,1),[P]=O.splice(T,1);_.splice(d,0,H),O.splice(d,0,P),e(0,p=_),e(19,V=O),f.arrangeColumns&&await f.arrangeColumns(g,_.map(pe=>({key:pe.key,disabled:pe.disabled})))}}function Xe(){e(19,V=[...p].map(s=>(s.enabled=!s.disabled,s))),e(4,$=!0)}async function qe(s){if(te||!s.target.files||!s.target.files[0])return;te=!0;const d=await f.import(s.target.files[0]);d!=null&&d.length&&e(3,h=[...d,...h]),s.target.value="",te=!1}async function Je(){Y||(e(20,Y=!0),e(0,p=[...V].map(s=>(s.disabled=!s.enabled,delete s.enabled,s))),f.arrangeColumns&&await f.arrangeColumns(g,p.map(s=>({key:s.key,disabled:s.disabled}))),e(20,Y=!1),e(4,$=!1))}hn(async()=>{if(f.getColumnOrder){const s=await f.getColumnOrder(g);s&&e(0,p=p.map(d=>(d.disabled=!s.find(z=>z.key===d.key),d)).sort((d,z)=>{const T=s.findIndex(O=>O.key===d.key),_=s.findIndex(O=>O.key===z.key);return T-_}))}await u()});const Qe=()=>K.click(),Ye=s=>ue(s),Ke=(s,d)=>{s.key!==L&&ae(d,s)},We=(s,d,z)=>{s.key!==L&&re(z,d)},en=s=>{s.key!==L&&oe()},nn=(s,d,z)=>{s.key!==L&&se(z,d)},ln=()=>e(4,$=!1),tn=(s,d)=>{s.key!==L&&ae(d,s)},an=(s,d,z)=>{s.key!==L&&re(z,d)},rn=s=>{s.key!==L&&oe()},on=(s,d,z)=>{s.key!==L&&se(z,d)};function sn(s,d){s[d].enabled=this.checked,e(19,V)}function cn(s){bn[s?"unshift":"push"](()=>{K=s,e(21,K)})}return l.$$set=s=>{"wording"in s&&e(5,t=s.wording),"allowArrangeColumns"in s&&e(6,a=s.allowArrangeColumns),"showArrangingColumns"in s&&e(7,r=s.showArrangingColumns),"freezeFirstColumn"in s&&e(8,o=s.freezeFirstColumn),"freezeLastColumn"in s&&e(9,c=s.freezeLastColumn),"showExport"in s&&e(10,i=s.showExport),"showImport"in s&&e(11,C=s.showImport),"rowClickable"in s&&e(12,D=s.rowClickable),"headers"in s&&e(0,p=s.headers),"pageSizes"in s&&e(13,x=s.pageSizes),"pageSize"in s&&e(1,I=s.pageSize),"sort"in s&&e(2,w=s.sort),"service"in s&&e(38,f=s.service),"id"in s&&e(39,g=s.id),"height"in s&&e(14,m=s.height),"getData"in s&&e(40,u=s.getData),"rows"in s&&e(3,h=s.rows),"arrangeColumnDialog"in s&&e(4,$=s.arrangeColumnDialog),"showLoadMore"in s&&e(15,N=s.showLoadMore)},[p,I,w,h,$,t,a,r,o,c,i,C,D,x,m,N,F,J,Q,V,Y,K,W,ee,Ge,Be,ie,ue,Ze,Fe,Ve,ae,re,oe,se,Xe,qe,Je,f,g,u,Pe,He,Ue,Qe,Ye,Ke,We,en,nn,ln,tn,an,rn,on,sn,cn]}class _e extends dn{constructor(n){super(),pn(this,n,Mn,Rn,gn,{wording:5,allowArrangeColumns:6,showArrangingColumns:7,freezeFirstColumn:8,freezeLastColumn:9,showExport:10,showImport:11,rowClickable:12,headers:0,pageSizes:13,pageSize:1,sort:2,service:38,id:39,height:14,getData:40,rows:3,arrangeColumnDialog:4,showLoadMore:15,removeRow:41,addRow:42,updateRow:43},null,[-1,-1,-1])}get wording(){return this.$$.ctx[5]}set wording(n){this.$$set({wording:n}),S()}get allowArrangeColumns(){return this.$$.ctx[6]}set allowArrangeColumns(n){this.$$set({allowArrangeColumns:n}),S()}get showArrangingColumns(){return this.$$.ctx[7]}set showArrangingColumns(n){this.$$set({showArrangingColumns:n}),S()}get freezeFirstColumn(){return this.$$.ctx[8]}set freezeFirstColumn(n){this.$$set({freezeFirstColumn:n}),S()}get freezeLastColumn(){return this.$$.ctx[9]}set freezeLastColumn(n){this.$$set({freezeLastColumn:n}),S()}get showExport(){return this.$$.ctx[10]}set showExport(n){this.$$set({showExport:n}),S()}get showImport(){return this.$$.ctx[11]}set showImport(n){this.$$set({showImport:n}),S()}get rowClickable(){return this.$$.ctx[12]}set rowClickable(n){this.$$set({rowClickable:n}),S()}get headers(){return this.$$.ctx[0]}set headers(n){this.$$set({headers:n}),S()}get pageSizes(){return this.$$.ctx[13]}set pageSizes(n){this.$$set({pageSizes:n}),S()}get pageSize(){return this.$$.ctx[1]}set pageSize(n){this.$$set({pageSize:n}),S()}get sort(){return this.$$.ctx[2]}set sort(n){this.$$set({sort:n}),S()}get service(){return this.$$.ctx[38]}set service(n){this.$$set({service:n}),S()}get id(){return this.$$.ctx[39]}set id(n){this.$$set({id:n}),S()}get height(){return this.$$.ctx[14]}set height(n){this.$$set({height:n}),S()}get getData(){return this.$$.ctx[40]}set getData(n){this.$$set({getData:n}),S()}get rows(){return this.$$.ctx[3]}set rows(n){this.$$set({rows:n}),S()}get arrangeColumnDialog(){return this.$$.ctx[4]}set arrangeColumnDialog(n){this.$$set({arrangeColumnDialog:n}),S()}get showLoadMore(){return this.$$.ctx[15]}set showLoadMore(n){this.$$set({showLoadMore:n}),S()}get removeRow(){return this.$$.ctx[41]}get addRow(){return this.$$.ctx[42]}get updateRow(){return this.$$.ctx[43]}}try{customElements.define("jp-async-table",un(_e,{wording:{},allowArrangeColumns:{type:"Boolean"},showArrangingColumns:{type:"Boolean"},freezeFirstColumn:{type:"Boolean"},freezeLastColumn:{type:"Boolean"},showExport:{type:"Boolean"},showImport:{type:"Boolean"},rowClickable:{type:"Boolean"},headers:{},pageSizes:{},pageSize:{},sort:{},service:{},id:{},height:{},getData:{},rows:{},arrangeColumnDialog:{type:"Boolean"},showLoadMore:{type:"Boolean"}},[],["removeRow","addRow","updateRow"],!1));}catch{};export{_e as default};
//# sourceMappingURL=async-table.wc.js.map
