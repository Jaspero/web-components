import{c as je,S as Fe,i as Be,f as N,s as He,a as Ue,e as v,m as R,d as b,p as O,g as m,r as C,v as _,z as j,l as f,E as Y,w as Xe,o as Ve,A as G,B as F,M as B,N as Q,C as Ze,Q as X,y as Je,L as Qe,x as Ke,R as re,T as We}from"./svelte.js";import"./index2.js";import{g as Ye}from"./json-pointer.js";function et(n){Ue(n,"svelte-1a3qbnp",".table-card.svelte-1a3qbnp.svelte-1a3qbnp{background-color:var(--background-primary);-webkit-border-radius:0.25rem;-moz-border-radius:0.25rem;border-radius:0.25rem;-webkit-box-shadow:0 3px 12px rgba(0, 0, 0, 0.16);-moz-box-shadow:0 3px 12px rgba(0, 0, 0, 0.16);box-shadow:0 3px 12px rgba(0, 0, 0, 0.16)}.table-container.svelte-1a3qbnp.svelte-1a3qbnp{overflow-x:auto;width:100%}table.svelte-1a3qbnp.svelte-1a3qbnp{width:100%}th.svelte-1a3qbnp.svelte-1a3qbnp,td.svelte-1a3qbnp.svelte-1a3qbnp{text-align:left;white-space:nowrap;font-size:0.75rem;font-weight:normal;padding:0.5rem;border-bottom:1px solid rgba(0, 0, 0, 0.16)}th.svelte-1a3qbnp.svelte-1a3qbnp{opacity:0.75}.sortable.svelte-1a3qbnp.svelte-1a3qbnp{cursor:pointer}.draggable-column.svelte-1a3qbnp.svelte-1a3qbnp{cursor:grab}.cell.svelte-1a3qbnp.svelte-1a3qbnp{display:block;max-width:64ch;overflow:hidden;text-overflow:ellipsis}.table-actions.svelte-1a3qbnp.svelte-1a3qbnp{padding:1rem;display:flex;justify-content:space-between}.table-header.svelte-1a3qbnp.svelte-1a3qbnp{padding:1rem;min-height:68px;display:flex;justify-content:flex-end}.table-button.svelte-1a3qbnp.svelte-1a3qbnp{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-border-radius:0.25rem;-moz-border-radius:0.25rem;border-radius:0.25rem;min-width:4rem;height:2.25rem;padding:0 1rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.settings-button.svelte-1a3qbnp.svelte-1a3qbnp{background-color:var(--background-secondary);color:var(--text-on-secondary)}.load-button.svelte-1a3qbnp.svelte-1a3qbnp{background-color:var(--primary-color);color:var(--text-on-primary)}.load-button.svelte-1a3qbnp.svelte-1a3qbnp:disabled{opacity:0.5}.load-button.loading.svelte-1a3qbnp.svelte-1a3qbnp{pointer-events:none}.highlight.svelte-1a3qbnp.svelte-1a3qbnp{cursor:pointer;transition:0.3s}.highlight.svelte-1a3qbnp.svelte-1a3qbnp:hover{background-color:#ddd}.spinner.svelte-1a3qbnp.svelte-1a3qbnp{display:block;border-top:2px solid var(--text-on-primary);border-bottom:2px solid var(--text-on-primary);border-left:2px solid transparent;border-right:2px solid transparent;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:1rem;height:1rem;margin-right:0.5rem;-webkit-animation:svelte-1a3qbnp-spin 1s linear infinite;-moz-animation:svelte-1a3qbnp-spin 1s linear infinite;-o-animation:svelte-1a3qbnp-spin 1s linear infinite;animation:svelte-1a3qbnp-spin 1s linear infinite}.arrange-columns-dialog.svelte-1a3qbnp.svelte-1a3qbnp{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;display:flex;justify-content:center}.arrange-columns-dialog-backdrop.svelte-1a3qbnp.svelte-1a3qbnp{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0, 0, 0, 0.5);z-index:1001}.arrange-columns-dialog-inner.svelte-1a3qbnp.svelte-1a3qbnp{width:500px;max-width:100%;z-index:1002;background-color:white;border-radius:0.25rem;box-shadow:0 3px 12px rgba(0, 0, 0, 0.16);margin-top:50px;padding:1rem;display:flex;flex-direction:column;height:min-content}.arrange-columns-dialog-inner.svelte-1a3qbnp main.svelte-1a3qbnp{display:flex;flex-direction:column;flex:1;padding-bottom:1rem;max-height:400px;overflow-y:auto}@-webkit-keyframes svelte-1a3qbnp-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes svelte-1a3qbnp-spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes svelte-1a3qbnp-spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes svelte-1a3qbnp-spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.sticky-first.svelte-1a3qbnp.svelte-1a3qbnp{position:sticky;left:0;opacity:1;background-color:var(--background-primary);z-index:1}.sticky-first.svelte-1a3qbnp.svelte-1a3qbnp:after{content:'';position:absolute;top:0;right:0;bottom:0;width:0.5px;height:100%;background-color:rgba(0, 0, 0, 0.16)}.sticky-last.svelte-1a3qbnp.svelte-1a3qbnp{position:sticky;right:0;opacity:1;background-color:var(--background-primary);z-index:1}.sticky-last.svelte-1a3qbnp.svelte-1a3qbnp:before{content:'';position:absolute;top:0;left:0;bottom:0;width:0.5px;height:100%;background-color:rgba(0, 0, 0, 0.16)}")}function oe(n,e,t){const a=n.slice();return a[49]=e[t],a[50]=e,a[51]=t,a}function se(n,e,t){const a=n.slice();return a[52]=e[t],a[54]=t,a}function ie(n,e,t){const a=n.slice();return a[55]=e[t],a[57]=t,a}function le(n,e,t){const a=n.slice();return a[55]=e[t],a[57]=t,a}function ce(n){let e,t,a,r=n[6]&&de(n),o=n[10]&&pe(n),i=n[9]&&ue(n);return{c(){e=v("div"),r&&r.c(),t=R(),o&&o.c(),a=R(),i&&i.c(),b(e,"class","table-header svelte-1a3qbnp")},m(l,c){m(l,e,c),r&&r.m(e,null),C(e,t),o&&o.m(e,null),C(e,a),i&&i.m(e,null)},p(l,c){l[6]?r?r.p(l,c):(r=de(l),r.c(),r.m(e,t)):r&&(r.d(1),r=null),l[10]?o?o.p(l,c):(o=pe(l),o.c(),o.m(e,a)):o&&(o.d(1),o=null),l[9]?i?i.p(l,c):(i=ue(l),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(l){l&&f(e),r&&r.d(),o&&o.d(),i&&i.d()}}}function de(n){let e,t,a=n[4].ARRANGE_COLUMNS+"",r,o,i;return{c(){e=G(`\xA0
        `),t=v("button"),r=G(a),b(t,"type","button"),b(t,"class","table-button settings-button svelte-1a3qbnp")},m(l,c){m(l,e,c),m(l,t,c),C(t,r),o||(i=_(t,"click",n[28]),o=!0)},p(l,c){c[0]&16&&a!==(a=l[4].ARRANGE_COLUMNS+"")&&F(r,a)},d(l){l&&(f(e),f(t)),o=!1,i()}}}function pe(n){let e,t,a=n[4].IMPORT+"",r,o,i;return{c(){e=G(`\xA0
        `),t=v("button"),r=G(a),b(t,"type","button"),b(t,"class","table-button settings-button svelte-1a3qbnp")},m(l,c){m(l,e,c),m(l,t,c),C(t,r),o||(i=_(t,"click",n[38]),o=!0)},p(l,c){c[0]&16&&a!==(a=l[4].IMPORT+"")&&F(r,a)},d(l){l&&(f(e),f(t)),o=!1,i()}}}function ue(n){let e,t,a,r;function o(c,L){return c[15]?nt:tt}let i=o(n),l=i(n);return{c(){e=G(`\xA0
        `),t=v("button"),l.c(),b(t,"type","button"),b(t,"class","table-button settings-button svelte-1a3qbnp"),t.disabled=n[15],O(t,"loading",n[15])},m(c,L){m(c,e,L),m(c,t,L),l.m(t,null),a||(r=_(t,"click",n[26]),a=!0)},p(c,L){i===(i=o(c))&&l?l.p(c,L):(l.d(1),l=i(c),l&&(l.c(),l.m(t,null))),L[0]&32768&&(t.disabled=c[15]),L[0]&32768&&O(t,"loading",c[15])},d(c){c&&(f(e),f(t)),l.d(),a=!1,r()}}}function tt(n){let e=n[4].EXPORT+"",t;return{c(){t=G(e)},m(a,r){m(a,t,r)},p(a,r){r[0]&16&&e!==(e=a[4].EXPORT+"")&&F(t,e)},d(a){a&&f(t)}}}function nt(n){let e,t,a=n[4].LOADING+"",r;return{c(){e=v("span"),t=R(),r=G(a),b(e,"class","spinner svelte-1a3qbnp")},m(o,i){m(o,e,i),m(o,t,i),m(o,r,i)},p(o,i){i[0]&16&&a!==(a=o[4].LOADING+"")&&F(r,a)},d(o){o&&(f(e),f(t),f(r))}}}function be(n){let e,t=B(n[16]),a=[];for(let r=0;r<t.length;r+=1)a[r]=me(le(n,t,r));return{c(){e=v("tr");for(let r=0;r<a.length;r+=1)a[r].c()},m(r,o){m(r,e,o);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(e,null)},p(r,o){if(o[0]&138477986){t=B(r[16]);let i;for(i=0;i<t.length;i+=1){const l=le(r,t,i);a[i]?a[i].p(l,o):(a[i]=me(l),a[i].c(),a[i].m(e,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=t.length}},d(r){r&&f(e),Q(a,r)}}}function ge(n){let e,t=n[1].direction==="asc"?"\u2191":"\u2193",a;return{c(){e=v("span"),a=G(t),b(e,"class","sortable svelte-1a3qbnp")},m(r,o){m(r,e,o),C(e,a)},p(r,o){o[0]&2&&t!==(t=r[1].direction==="asc"?"\u2191":"\u2193")&&F(a,t)},d(r){r&&f(e)}}}function me(n){var e;let t,a,r=n[55].label+"",o,i,l,c;function L(...x){return n[39](n[55],...x)}let w=((e=n[1])==null?void 0:e.key)===n[55].key&&ge(n);function k(){return n[40](n[55])}function q(...x){return n[41](n[57],...x)}return{c(){t=v("th"),a=v("span"),o=R(),w&&w.c(),i=R(),b(a,"draggable",n[5]),b(a,"tabindex","-1"),b(a,"role","button"),b(a,"aria-label","Drag handle"),b(a,"class","svelte-1a3qbnp"),O(a,"draggable-column",n[5]),b(t,"class","svelte-1a3qbnp"),O(t,"sortable",n[5]&&n[55].sortable),O(t,"sticky-first",n[7]&&n[57]===0),O(t,"sticky-last",n[57]===n[16].length-1&&n[8])},m(x,y){m(x,t,y),C(t,a),a.innerHTML=r,C(t,o),w&&w.m(t,null),C(t,i),l||(c=[_(a,"dragstart",L),_(t,"click",k),_(t,"drop",q),_(t,"dragover",ut)],l=!0)},p(x,y){var h;n=x,y[0]&65536&&r!==(r=n[55].label+"")&&(a.innerHTML=r),y[0]&32&&b(a,"draggable",n[5]),y[0]&32&&O(a,"draggable-column",n[5]),((h=n[1])==null?void 0:h.key)===n[55].key?w?w.p(n,y):(w=ge(n),w.c(),w.m(t,i)):w&&(w.d(1),w=null),y[0]&65568&&O(t,"sortable",n[5]&&n[55].sortable),y[0]&128&&O(t,"sticky-first",n[7]&&n[57]===0),y[0]&65792&&O(t,"sticky-last",n[57]===n[16].length-1&&n[8])},d(x){x&&f(t),w&&w.d(),l=!1,Y(c)}}}function fe(n){let e,t=B(n[2]),a=[];for(let r=0;r<t.length;r+=1)a[r]=ve(se(n,t,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=Ze()},m(r,o){for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(r,o);m(r,e,o)},p(r,o){if(o[0]&18942340){t=B(r[2]);let i;for(i=0;i<t.length;i+=1){const l=se(r,t,i);a[i]?a[i].p(l,o):(a[i]=ve(l),a[i].c(),a[i].m(e.parentNode,e))}for(;i<a.length;i+=1)a[i].d(1);a.length=t.length}},d(r){r&&f(e),Q(a,r)}}}function at(n){return{c:j,m:j,p:j,d:j}}function rt(n){let e,t=n[58]+"";return{c(){e=v("span"),b(e,"class","cell svelte-1a3qbnp")},m(a,r){m(a,e,r),e.innerHTML=t},p(a,r){r[0]&65540&&t!==(t=a[58]+"")&&(e.innerHTML=t)},d(a){a&&f(e)}}}function ot(n){return{c:j,m:j,p:j,d:j}}function he(n){let e,t,a,r,o={ctx:n,current:null,token:null,hasCatch:!1,pending:ot,then:rt,catch:at,value:58};re(t=n[21](n[55],n[52],n[54]),o);function i(...l){return n[42](n[52],n[57],n[55],...l)}return{c(){e=v("td"),o.block.c(),b(e,"class","svelte-1a3qbnp"),O(e,"sticky-first",n[7]&&n[57]===0),O(e,"sticky-last",n[57]===n[16].length-1&&n[8])},m(l,c){m(l,e,c),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null,a||(r=_(e,"click",i),a=!0)},p(l,c){n=l,o.ctx=n,c[0]&65540&&t!==(t=n[21](n[55],n[52],n[54]))&&re(t,o)||We(o,n,c),c[0]&128&&O(e,"sticky-first",n[7]&&n[57]===0),c[0]&65792&&O(e,"sticky-last",n[57]===n[16].length-1&&n[8])},d(l){l&&f(e),o.block.d(),o.token=null,o=null,a=!1,r()}}}function ve(n){let e,t,a=B(n[16]),r=[];for(let o=0;o<a.length;o+=1)r[o]=he(ie(n,a,o));return{c(){e=v("tr");for(let o=0;o<r.length;o+=1)r[o].c();t=R(),b(e,"class","svelte-1a3qbnp"),O(e,"highlight",n[11])},m(o,i){m(o,e,i);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null);C(e,t)},p(o,i){if(i[0]&18940292){a=B(o[16]);let l;for(l=0;l<a.length;l+=1){const c=ie(o,a,l);r[l]?r[l].p(c,i):(r[l]=he(c),r[l].c(),r[l].m(e,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=a.length}i[0]&2048&&O(e,"highlight",o[11])},d(o){o&&f(e),Q(r,o)}}}function st(n){let e=n[4].LOAD_MORE+"",t;return{c(){t=G(e)},m(a,r){m(a,t,r)},p(a,r){r[0]&16&&e!==(e=a[4].LOAD_MORE+"")&&F(t,e)},d(a){a&&f(t)}}}function it(n){let e,t,a=n[4].LOADING+"",r;return{c(){e=v("span"),t=R(),r=G(a),b(e,"class","spinner svelte-1a3qbnp")},m(o,i){m(o,e,i),m(o,t,i),m(o,r,i)},p(o,i){i[0]&16&&a!==(a=o[4].LOADING+"")&&F(r,a)},d(o){o&&(f(e),f(t),f(r))}}}function we(n){let e,t,a,r;return{c(){e=v("jp-select"),X(e,"label",t=n[4].PAGE_SIZE),X(e,"options",n[20]),X(e,"value",n[0])},m(o,i){m(o,e,i),a||(r=_(e,"value",n[25]),a=!0)},p(o,i){i[0]&16&&t!==(t=o[4].PAGE_SIZE)&&X(e,"label",t),i[0]&1&&X(e,"value",o[0])},d(o){o&&f(e),a=!1,r()}}}function xe(n){let e,t,a,r,o,i,l,c,L,w,k=B(n[17]),q=[];for(let u=0;u<k.length;u+=1)q[u]=ye(oe(n,k,u));function x(u,$){return u[13]?ct:lt}let y=x(n),h=y(n);return{c(){e=v("div"),t=v("div"),a=R(),r=v("form"),o=v("main");for(let u=0;u<q.length;u+=1)q[u].c();i=R(),l=v("footer"),c=v("button"),h.c(),b(t,"class","arrange-columns-dialog-backdrop svelte-1a3qbnp"),b(o,"class","svelte-1a3qbnp"),b(c,"type","submit"),b(c,"class","table-button load-button svelte-1a3qbnp"),c.disabled=n[18],O(c,"loading",n[18]),b(r,"class","arrange-columns-dialog-inner svelte-1a3qbnp"),b(e,"class","arrange-columns-dialog svelte-1a3qbnp")},m(u,$){m(u,e,$),C(e,t),C(e,a),C(e,r),C(r,o);for(let d=0;d<q.length;d+=1)q[d]&&q[d].m(o,null);C(r,i),C(r,l),C(l,c),h.m(c,null),L||(w=[_(t,"click",n[43]),_(r,"submit",Je(n[30]))],L=!0)},p(u,$){if($[0]&131072){k=B(u[17]);let d;for(d=0;d<k.length;d+=1){const T=oe(u,k,d);q[d]?q[d].p(T,$):(q[d]=ye(T),q[d].c(),q[d].m(o,null))}for(;d<q.length;d+=1)q[d].d(1);q.length=k.length}y===(y=x(u))&&h?h.p(u,$):(h.d(1),h=y(u),h&&(h.c(),h.m(c,null))),$[0]&262144&&(c.disabled=u[18]),$[0]&262144&&O(c,"loading",u[18])},d(u){u&&f(e),Q(q,u),h.d(),L=!1,Y(w)}}}function ye(n){let e,t,a,r,o=n[49].label+"",i,l,c;function L(){n[44].call(t,n[50],n[51])}return{c(){e=v("label"),t=v("input"),a=R(),r=v("span"),i=R(),b(t,"type","checkbox"),t.__value=!0,Qe(t,t.__value)},m(w,k){m(w,e,k),C(e,t),t.checked=n[49].enabled,C(e,a),C(e,r),r.innerHTML=o,C(e,i),l||(c=_(t,"change",L),l=!0)},p(w,k){n=w,k[0]&131072&&(t.checked=n[49].enabled),k[0]&131072&&o!==(o=n[49].label+"")&&(r.innerHTML=o)},d(w){w&&f(e),l=!1,c()}}}function lt(n){let e=n[4].SAVE+"",t;return{c(){t=G(e)},m(a,r){m(a,t,r)},p(a,r){r[0]&16&&e!==(e=a[4].SAVE+"")&&F(t,e)},d(a){a&&f(t)}}}function ct(n){let e,t,a=n[4].LOADING+"",r;return{c(){e=v("span"),t=R(),r=G(a),b(e,"class","spinner svelte-1a3qbnp")},m(o,i){m(o,e,i),m(o,t,i),m(o,r,i)},p(o,i){i[0]&16&&a!==(a=o[4].LOADING+"")&&F(r,a)},d(o){o&&(f(e),f(t),f(r))}}}function dt(n){let e,t,a,r,o,i,l,c,L,w,k,q,x,y,h,u=(n[6]||n[10]||n[9])&&ce(n),$=n[16]&&be(n),d=n[2]&&fe(n);function T(p,z){return p[13]?it:st}let H=T(n),I=H(n),D=n[12].length>1&&we(n),E=n[3]&&xe(n);return{c(){e=v("div"),u&&u.c(),t=R(),a=v("div"),r=v("table"),$&&$.c(),o=R(),d&&d.c(),i=R(),l=v("div"),c=v("button"),I.c(),w=R(),D&&D.c(),k=R(),E&&E.c(),q=R(),x=v("input"),b(r,"class","svelte-1a3qbnp"),b(a,"class","table-container svelte-1a3qbnp"),b(c,"type","button"),b(c,"class","table-button load-button svelte-1a3qbnp"),c.disabled=L=!n[14],O(c,"loading",n[13]),b(l,"class","table-actions svelte-1a3qbnp"),b(e,"class","table-card svelte-1a3qbnp"),b(x,"type","file"),b(x,"accept",".csv"),x.hidden=!0},m(p,z){m(p,e,z),u&&u.m(e,null),C(e,t),C(e,a),C(a,r),$&&$.m(r,null),C(r,o),d&&d.m(r,null),C(e,i),C(e,l),C(l,c),I.m(c,null),C(l,w),D&&D.m(l,null),m(p,k,z),E&&E.m(p,z),m(p,q,z),m(p,x,z),n[45](x),y||(h=[_(c,"click",n[23]),_(x,"change",n[29])],y=!0)},p(p,z){p[6]||p[10]||p[9]?u?u.p(p,z):(u=ce(p),u.c(),u.m(e,t)):u&&(u.d(1),u=null),p[16]?$?$.p(p,z):($=be(p),$.c(),$.m(r,o)):$&&($.d(1),$=null),p[2]?d?d.p(p,z):(d=fe(p),d.c(),d.m(r,null)):d&&(d.d(1),d=null),H===(H=T(p))&&I?I.p(p,z):(I.d(1),I=H(p),I&&(I.c(),I.m(c,null))),z[0]&16384&&L!==(L=!p[14])&&(c.disabled=L),z[0]&8192&&O(c,"loading",p[13]),p[12].length>1?D?D.p(p,z):(D=we(p),D.c(),D.m(l,null)):D&&(D.d(1),D=null),p[3]?E?E.p(p,z):(E=xe(p),E.c(),E.m(q.parentNode,q)):E&&(E.d(1),E=null)},i:j,o:j,d(p){p&&(f(e),f(k),f(q),f(x)),u&&u.d(),$&&$.d(),d&&d.d(),I.d(),D&&D.d(),E&&E.d(p),n[45](null),y=!1,Y(h)}}}function pt(n,e){n.dataTransfer.setData("text/plain",e.key)}function ut(n){n.preventDefault()}function bt(n,e,t){let{wording:a={ARRANGE_COLUMNS:"Arrange columns",EXPORT:"Export",IMPORT:"Import",LOADING:"Loading",LOAD_MORE:"Load more",PAGE_SIZE:"Page size",SAVE:"Save"}}=e,{allowArrangeColumns:r=!0}=e,{showArrangingColumns:o=!0}=e,{freezeFirstColumn:i=!1}=e,{freezeLastColumn:l=!1}=e,{showExport:c=!0}=e,{showImport:L=!0}=e,{rowClickable:w=!1}=e,{headers:k=[]}=e,{pageSizes:q=[10,25,50,100]}=e,{pageSize:x=q[0]}=e,{sort:y}=e,{service:h}=e,{id:u}=e,{getData:$=async()=>{const s=await h.get(y,x);t(2,d=s.rows),t(14,D=s.hasMore),t(13,I=!1)}}=e,{rows:d=[]}=e,{arrangeColumnDialog:T=!1}=e,H=JSON.stringify(q.map(s=>({label:s,value:s}))),I=!0,D=!1,E=!1,p,z=[],V=[],Z=!1,J,K=!1;const qe=Xe();async function $e(s,g="id"){t(2,d=d.filter(S=>S[g]!==s))}async function Ce(s){t(2,d=[...d,s])}async function ze(s,g){t(2,d=d.map((S,A)=>A===g?{...S,...s}:S))}async function ee(s,g,S){const{key:A,fallback:M,pipes:U}=s;let P;try{P=Ye(g,A)}catch{return M||""}if(!U)return P;for(const W of U)P=await W(P,g,S);return P}async function te(s){const{sortable:g}=s;if(!g)return;t(13,I=!0),t(1,y={key:s.key,direction:y?.key===s.key&&y.direction==="asc"?"desc":"asc"});const[S]=await Promise.all([h.get(y,x),h.adjustSort(y)]);t(2,d=S.rows),t(14,D=S.hasMore),t(13,I=!1)}async function Le(){t(13,I=!0);const s=await h.loadMore(y,x);t(2,d=[...d,...s.rows]),t(14,D=s.hasMore),t(13,I=!1)}function ne(s,g,S,A){qe("rowClick",{row:s,index:g,header:S,originalEvent:A})}async function Se(s){t(0,x=s.detail),await Promise.all([$(),h.adjustPageSize(x)])}async function Oe(){if(E)return;t(15,E=!0);const s=await h.export(),g=await Promise.all(s.map(async(M,U)=>(await Promise.all(p.map(P=>ee({key:P.key,fallback:P.exportFallback||P.fallback,pipes:P.exportPipes||P.pipes||[]},M,U)))).map(P=>`"${P||""}"`).join(","))),S=new Blob([[p.map(M=>M.label).map(M=>`"${M}"`).join(","),...g].join(`
`)],{type:"text/csv"}),A=document.createElement("a");A.href=URL.createObjectURL(S),A.download="export.csv",A.click(),t(15,E=!1)}async function ae(s,g){s.preventDefault();const S=s.dataTransfer.getData("text/plain"),A=z.indexOf(S);A!==-1&&Number.isInteger(g)&&(z.splice(A,1),z.splice(Number(g),0,S),t(16,p=k.filter(M=>!M.disabled).sort((M,U)=>{const P=z.indexOf(M.key),W=z.indexOf(U.key);return P-W})),h.arrangeColumns&&await h.arrangeColumns(u,p.map(M=>M.key)))}function De(){t(17,V=[...k].map(s=>(s.enabled=!s.disabled,s)).sort((s,g)=>{const S=z.indexOf(s.key),A=z.indexOf(g.key);return S-A})),t(3,T=!0)}async function Ee(s){if(K||!s.target.files||!s.target.files[0])return;K=!0;const g=await h.import(s.target.files[0]);g!=null&&g.length&&t(2,d=[...g,...d]),s.target.value="",K=!1}async function Ae(){Z||(t(18,Z=!0),t(31,k=[...V].map(s=>(s.disabled=!s.enabled,delete s.enabled,s))),t(16,p=k.filter(s=>!s.disabled)),z=p.map(s=>s.key),h.arrangeColumns&&await h.arrangeColumns(u,p.map(s=>s.key)),t(18,Z=!1),t(3,T=!1))}Ve(async()=>{if(h.getColumnOrder){const s=await h.getColumnOrder(u);s&&t(31,k=k.map(g=>(g.disabled=!s.includes(g.key),g)).sort((g,S)=>{const A=s.indexOf(g.key),M=s.indexOf(S.key);return A-M}))}t(16,p=k.filter(s=>!s.disabled)),z=p.map(s=>s.key),await $()});const Re=()=>J.click(),Ie=(s,g)=>pt(g,s),Ne=s=>te(s),Me=(s,g)=>ae(g,s),Pe=(s,g,S,A)=>ne(s,g,S,A),_e=()=>t(3,T=!1);function Ge(s,g){s[g].enabled=this.checked,t(17,V)}function Te(s){Ke[s?"unshift":"push"](()=>{J=s,t(19,J)})}return n.$$set=s=>{"wording"in s&&t(4,a=s.wording),"allowArrangeColumns"in s&&t(5,r=s.allowArrangeColumns),"showArrangingColumns"in s&&t(6,o=s.showArrangingColumns),"freezeFirstColumn"in s&&t(7,i=s.freezeFirstColumn),"freezeLastColumn"in s&&t(8,l=s.freezeLastColumn),"showExport"in s&&t(9,c=s.showExport),"showImport"in s&&t(10,L=s.showImport),"rowClickable"in s&&t(11,w=s.rowClickable),"headers"in s&&t(31,k=s.headers),"pageSizes"in s&&t(12,q=s.pageSizes),"pageSize"in s&&t(0,x=s.pageSize),"sort"in s&&t(1,y=s.sort),"service"in s&&t(32,h=s.service),"id"in s&&t(33,u=s.id),"getData"in s&&t(34,$=s.getData),"rows"in s&&t(2,d=s.rows),"arrangeColumnDialog"in s&&t(3,T=s.arrangeColumnDialog)},n.$$.update=()=>{n.$$.dirty[1]&1&&t(16,p=k.filter(s=>!s.disabled))},[x,y,d,T,a,r,o,i,l,c,L,w,q,I,D,E,p,V,Z,J,H,ee,te,Le,ne,Se,Oe,ae,De,Ee,Ae,k,h,u,$,$e,Ce,ze,Re,Ie,Ne,Me,Pe,_e,Ge,Te]}class ke extends Fe{constructor(e){super(),Be(this,e,bt,dt,He,{wording:4,allowArrangeColumns:5,showArrangingColumns:6,freezeFirstColumn:7,freezeLastColumn:8,showExport:9,showImport:10,rowClickable:11,headers:31,pageSizes:12,pageSize:0,sort:1,service:32,id:33,getData:34,rows:2,arrangeColumnDialog:3,removeRow:35,addRow:36,updateRow:37},et,[-1,-1])}get wording(){return this.$$.ctx[4]}set wording(e){this.$$set({wording:e}),N()}get allowArrangeColumns(){return this.$$.ctx[5]}set allowArrangeColumns(e){this.$$set({allowArrangeColumns:e}),N()}get showArrangingColumns(){return this.$$.ctx[6]}set showArrangingColumns(e){this.$$set({showArrangingColumns:e}),N()}get freezeFirstColumn(){return this.$$.ctx[7]}set freezeFirstColumn(e){this.$$set({freezeFirstColumn:e}),N()}get freezeLastColumn(){return this.$$.ctx[8]}set freezeLastColumn(e){this.$$set({freezeLastColumn:e}),N()}get showExport(){return this.$$.ctx[9]}set showExport(e){this.$$set({showExport:e}),N()}get showImport(){return this.$$.ctx[10]}set showImport(e){this.$$set({showImport:e}),N()}get rowClickable(){return this.$$.ctx[11]}set rowClickable(e){this.$$set({rowClickable:e}),N()}get headers(){return this.$$.ctx[31]}set headers(e){this.$$set({headers:e}),N()}get pageSizes(){return this.$$.ctx[12]}set pageSizes(e){this.$$set({pageSizes:e}),N()}get pageSize(){return this.$$.ctx[0]}set pageSize(e){this.$$set({pageSize:e}),N()}get sort(){return this.$$.ctx[1]}set sort(e){this.$$set({sort:e}),N()}get service(){return this.$$.ctx[32]}set service(e){this.$$set({service:e}),N()}get id(){return this.$$.ctx[33]}set id(e){this.$$set({id:e}),N()}get getData(){return this.$$.ctx[34]}set getData(e){this.$$set({getData:e}),N()}get rows(){return this.$$.ctx[2]}set rows(e){this.$$set({rows:e}),N()}get arrangeColumnDialog(){return this.$$.ctx[3]}set arrangeColumnDialog(e){this.$$set({arrangeColumnDialog:e}),N()}get removeRow(){return this.$$.ctx[35]}get addRow(){return this.$$.ctx[36]}get updateRow(){return this.$$.ctx[37]}}try{customElements.define("jp-async-table",je(ke,{wording:{},allowArrangeColumns:{type:"Boolean"},showArrangingColumns:{type:"Boolean"},freezeFirstColumn:{type:"Boolean"},freezeLastColumn:{type:"Boolean"},showExport:{type:"Boolean"},showImport:{type:"Boolean"},rowClickable:{type:"Boolean"},headers:{},pageSizes:{},pageSize:{},sort:{},service:{},id:{},getData:{},rows:{},arrangeColumnDialog:{type:"Boolean"}},[],["removeRow","addRow","updateRow"],!1));}catch{};export{ke as default};
